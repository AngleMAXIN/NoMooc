(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-chunk"],{"0119":function(t,e,a){},"0281":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page_container"},[a("div",{staticClass:"ant-result ant-result-404 undefined",staticStyle:{background:"none"}},[a("div",{staticClass:"ant-result-icon ant-result-image"},[a("svg",{attrs:{width:"252",height:"294"}},[a("defs",[a("path",{attrs:{d:"M0 .387h251.772v251.772H0z"}})]),a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("g",{attrs:{transform:"translate(0 .012)"}},[a("mask",{attrs:{fill:"#fff"}}),a("path",{attrs:{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"}})]),a("path",{attrs:{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}}),a("path",{attrs:{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF","stroke-width":"2"}}),a("path",{attrs:{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}}),a("path",{attrs:{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}}),a("path",{attrs:{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF","stroke-width":"2"}}),a("path",{attrs:{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}}),a("path",{attrs:{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF","stroke-width":"2"}}),a("path",{attrs:{stroke:"#FFF","stroke-width":"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}}),a("path",{attrs:{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}}),a("path",{attrs:{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}}),a("path",{attrs:{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}}),a("path",{attrs:{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}}),a("path",{attrs:{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}}),a("path",{attrs:{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}}),a("path",{attrs:{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}}),a("path",{attrs:{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}}),a("path",{attrs:{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}}),a("path",{attrs:{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}}),a("path",{attrs:{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}}),a("path",{attrs:{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}}),a("path",{attrs:{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}}),a("path",{attrs:{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}}),a("path",{attrs:{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}}),a("path",{attrs:{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}}),a("path",{attrs:{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}}),a("path",{attrs:{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}}),a("path",{attrs:{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}}),a("path",{attrs:{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}}),a("path",{attrs:{stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}}),a("path",{attrs:{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}}),a("path",{attrs:{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}}),a("path",{attrs:{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}}),a("path",{attrs:{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}}),a("path",{attrs:{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}}),a("path",{attrs:{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}}),a("path",{attrs:{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}}),a("path",{attrs:{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}}),a("path",{attrs:{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}}),a("path",{attrs:{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}}),a("path",{attrs:{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}}),a("path",{attrs:{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),a("div",{staticClass:"ant-result-title"},[t._v("404")]),a("div",{staticClass:"ant-result-subtitle"},[t._v("抱歉，你访问的页面不存在。")]),a("div",{staticClass:"ant-result-extra"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.goBack()}}},[t._m(0)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"ant-btn ant-btn-primary",attrs:{type:"button"}},[a("span",[t._v("返回上一页")])])}],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("60a3"),d=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"goBack",value:function(){this.$router.go(-1)}}]),e}(u["d"]),p=d,m=(a("5937"),a("2877")),f=Object(m["a"])(p,n,i,!1,null,"bf0b9a86",null);e["default"]=f.exports},"02e6":function(t,e,a){"use strict";var n=a("df26"),i=a.n(n);i.a},"043b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-body-container",staticStyle:{background:"#E1E5E9"}},[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"space-between","align-items":"center"}},[a("class-manage-menu")],1),a("div",{staticStyle:{height:"16px"}}),a("student-list-table",{attrs:{"table-data":t.tableData,loading:t.loading},on:{delclickStd:t.deleteStu,update:t.update,clickName:t.handleClickRealNameEvent}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t.isShowDialog?a("user-modify-dialog",{attrs:{"user-data":t.userData,"selected-faculty":{selected:this.selectedFaculty},"faculty-data":t.facultyData,"form-label-width":t.formLabelWidth,"dialog-visible":t.dialogFormStudent},on:{studentPut:t.studentPut,closeDialog:t.closeDialog}}):t._e()],1)},i=[],l=(a("6b54"),a("4694")),o=a("7a34"),s=a("d421"),r=a("325f"),c=a("dbce"),u=a("9ed1"),d=a("3dec"),p=a("c402"),m=a("374b"),f=a("4191"),h=(a("6b17"),{name:"ClassStudentListPage",components:{"class-manage-menu":o["a"],"student-list-table":s["a"],"user-modify-dialog":c["a"],pagination:r["a"]},data:function(){return{loading:!0,api:"",body:{},tableData:[],dialogFormStudent:!1,isShowDialog:!0,selectedFaculty:[],AdminFacultyData:[],facultyData:[],userData:{},formLabelWidth:"90px"}},watch:{"userData.user.admin_type":function(t){t===u["a"].REGULAR_USER?this.facultyData=this.StudentFacultyData:this.facultyData=this.AdminFacultyData}},created:function(){var t=this;this.api=Object(p["v"])(),this.body={grade_id:this.$route.params.gradeID},Object(l["d"])(Object(p["Lb"])()).then(function(e){t.StudentFacultyData=e.data,t.AdminFacultyData=e.data.map(function(t){return{value:t.value,label:t.value}}),t.facultyData=t.AdminFacultyData})},methods:{closeDialog:function(t){this.isShowDialog=t},getDate:function(t){this.tableData=t},update:function(t,e){var a=this;this.isShowDialog=!0;var n={id:e.id};Object(l["d"])(Object(p["hb"])(),n).then(function(t){a.userData=t.data,a.userData.user.create_time=Object(f["d"])(a.userData.user.create_time),a.selectedFaculty.length=0,0===a.selectedFaculty.length&&(a.selectedFaculty.push(a.userData.department,a.userData.major,a.userData.edu_level),a.userData.class_id?a.selectedFaculty.push(a.userData.class_id.toString()):a.selectedFaculty.push(""),a.selectedFaculty.push(a.userData.level)),a.dialogFormStudent=!0})},studentPut:function(t){var e=this;Object(l["g"])(Object(p["Fb"])(),t).then(function(t){"successful"===t.result?(Object(d["a"])("修改成功","success",1e3,e),e.$refs.$pagination.forceRefresh()):"error"===t.result?Object(d["a"])(t.data,"error",1e3,e):"server-error"===t.result?Object(d["a"])("服务器异常","error",1e3,e):"permission-denied"===t.result&&Object(d["a"])("更改用户角色失败"+t.data,"error",1e3,e),e.dialogFormStudent=!1})},deleteStu:function(t,e){var a=this;m["b"].deleteUser(this,t,e,Object(p["W"])(),function(t){t&&a.$refs.$pagination.forceRefresh()})},handleClickRealNameEvent:function(t){this.$router.push({name:"UserStatisticsPage",params:{uId:t}})}}}),b=h,v=(a("6710"),a("2877")),g=Object(v["a"])(b,n,i,!1,null,"65fc3b3b",null);e["default"]=g.exports},"060c":function(t,e,a){},"065e":function(t,e,a){},"0701":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"topic-basket-container",on:{click:function(e){t.drawer=!0}}},[a("el-badge",{staticStyle:{position:"absolute",top:"16px"},attrs:{value:t.basket_count}}),t._m(0)],1),a("el-drawer",{attrs:{title:"试题篮",visible:t.drawer,size:"450px","show-close":!1,"before-close":t.handleDrawerCloseEvent},on:{"update:visible":function(e){t.drawer=e}}},[a("el-button",{staticStyle:{"margin-left":"12px"},attrs:{size:"mini",plain:""},on:{click:function(e){return t.batchDelete()}}},[t._v("批量删除")]),a("div",{staticStyle:{height:"40vh"}},[a("basket-test-table",{attrs:{data:t.basketData},on:{handleSelectionChange:t.handleSelectionChange,delbasket:t.delbasket}})],1),a("div",{staticClass:"drawer-operate-container"},[a("div",{staticClass:"add-contest-btn",on:{click:t.handleShowContestListEvent}},[t._v("添加至竞赛")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowContestList,expression:"!isShowContestList"}],staticClass:"add-contest-btn",on:{click:function(e){t.drawer=!1}}},[t._v("取消")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowContestList,expression:"isShowContestList"}],staticClass:"select-contest-container"},[a("div",{staticStyle:{height:"65%"}},[a("basket-contest-list-table",{attrs:{data:t.ContestTableData},on:{select:t.ContestCurrentChange}})],1),a("div",{staticClass:"drawer-operate-container",staticStyle:{height:"35%"}},[a("div",{staticClass:"add-contest-btn",on:{click:function(e){return t.proAddExamBtn()}}},[t._v("确定")]),a("div",{staticClass:"add-contest-btn",on:{click:function(e){t.isShowContestList=!1}}},[t._v("取消")])])])],1),a("el-dialog",{attrs:{title:"提示",visible:t.errorDialog,width:"30%",modal:!1},on:{"update:visible":function(e){t.errorDialog=e}}},[a("p",{staticStyle:{color:"red"}},[t._v("\n      该竞赛已经包括以下试题，请勿重复添加！\n    ")]),t._l(this.errorData,function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(e._id)+t._s(e.title))])])}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.errorDialog=!1}}},[t._v("确 定")])],1)],2)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"16px"}},[a("span",{staticStyle:{"font-size":"16px","font-weight":"600",color:"#ffffff","writing-mode":"vertical-rl"}},[t._v("\n        试   题   篮\n      ")])])}],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("5880"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-table",{ref:"tableData",staticStyle:{width:"100%",background:"#fcfcfc"},attrs:{data:t.data,"tooltip-effect":"dark",size:"mini","cell-style":{background:"#fcfcfc",borderBottom:"#fcfcfc"},"header-cell-style":{background:"#fcfcfc",borderBottom:"#fcfcfc"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40px"}}),a("el-table-column",{attrs:{prop:"_id",label:"题号",width:"60px"}}),a("el-table-column",{attrs:{prop:"title",label:"题目名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.row)}}},[a("img",{attrs:{src:t.iconDelete,alt:""}})])]}}])})],1)],1)},r=[],c=a("8564");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{iconDelete:c["i"]}},methods:d({},Object(o["mapMutations"])(["delBasketData"]),{handleSelectionChange:function(t){this.$emit("handleSelectionChange",t)},deleteRow:function(t){this.$emit("delbasket",t),this.$store.commit("delBasketData",t)}})},m=p,f=(a("7959"),a("2877")),h=Object(f["a"])(m,s,r,!1,null,"e7c3e090",null),b=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"page-component__scroll"},[a("div",{staticStyle:{display:"flex","flex-direction":"column",padding:"20px 20px 14px 20px"}},[a("div",{staticStyle:{"text-align":"left",width:"100%","padding-bottom":"20px","font-size":"14px"}},[t._v("加入竞赛")]),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[t._l(t.data,function(e,n){return[a("radio-button",{key:n,attrs:{label:e.id}},[t._v("\n          "+t._s(e.display_id)+"            "+t._s(e.title)+"\n        ")]),a("div",{key:n,staticStyle:{height:"8px"}})]})],2)],1)])},g=[],y=a("d225"),_=a("b0b4"),w=a("308d"),A=a("6bb5"),k=a("4e2b"),x=a("9ab4"),S=a("60a3"),C=function(t){function e(){var t;return Object(y["a"])(this,e),t=Object(w["a"])(this,Object(A["a"])(e).apply(this,arguments)),t.selectRadio=0,t}return Object(k["a"])(e,t),Object(_["a"])(e,[{key:"onSelectRadioChange",value:function(t){this.$emit("select",t)}},{key:"onDataChange",value:function(t){t.length>0&&(this.selectRadio=t[0].id)}}]),e}(S["d"]);x["a"]([Object(S["c"])()],C.prototype,"data",void 0),x["a"]([Object(S["e"])("selectRadio")],C.prototype,"onSelectRadioChange",null),x["a"]([Object(S["e"])("data",{deep:!0,immediate:!0})],C.prototype,"onDataChange",null),C=x["a"]([S["a"]],C);var D=C,j=D,O=(a("1e8e"),Object(f["a"])(j,v,g,!1,null,"28720412",null)),T=O.exports,E=a("4694"),F=a("c402");function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var B={name:"TopicBasket",components:{"basket-test-table":b,"basket-contest-list-table":T},data:function(){return{isShowContestList:!1,drawer:!1,selectionData:[],errorDialog:!1,CurrentContestData:[],pro_id:[],contest_id:"",ContestTableData:[],errorData:[],radio:0}},methods:{handleShowContestListEvent:function(){var t=this;this.getContestList().then(function(e){t.ContestTableData=e.results,t.isShowContestList=!0})},getContestList:function(){var t={uid:this.$store.state.baseInfo.uid,offset:0,limit:1e3};return Object(E["d"])(Object(F["q"])(),t).then(function(t){if("successful"===t.result)return t.data})},handleDrawerCloseEvent:function(t){this.isShowContestList=!1,t()},batchDelete:function(){var t=this;this.selectionData.map(function(e){t.$emit("delbasket",e),t.$store.commit("delBasketData",e)})},delbasket:function(t){this.$emit("delbasket",t)},handleSelectionChange:function(t){var e=this;this.pro_id=[],this.selectionData=t,this.selectionData.map(function(t){e.pro_id.push(t.id)})},ContestCurrentChange:function(t){this.contest_id=t},proAddExamBtn:function(){var t=this;if(""===this.contest_id)this.$message({type:"warning",showClose:!0,message:"请选择添加的竞赛"});else if(0===this.pro_id.length)this.$message({type:"warning",showClose:!0,message:"请选择添加到试题"});else{var e={contest_id:this.contest_id,pro_id_list:this.pro_id};Object(E["f"])(Object(F["h"])(),e).then(function(e){"successful"===e.result?t.$message({type:"success",message:"添加试题成功"}):("duplicate-error"===e.result||"error"===e.result&&e.data instanceof Array&&"number"==typeof e.data.length)&&(e.data,Array,t.errorDialog=!0,e.data.map(function(e,a){t.errorData[a]={},t.selectionData.map(function(n){e===n.id&&(t.errorData[a]["_id"]=n._id,t.errorData[a]["id"]=n.id,t.errorData[a]["title"]=n.title)})}))}).catch(function(e){t.$message({type:"error",showClose:!0,message:e})})}},getDate:function(t){this.ContestTableData=t},btnClick:function(){}},computed:I({},Object(o["mapState"])({basketData:function(t){return t.basketData},basket_count:function(t){return t.basket_count}})),created:function(){var t=this,e={uid:this.$store.state.baseInfo.uid};Object(E["d"])(Object(F["x"])(),e).then(function(e){null===e.data?(t.$store.state.basketData=[],t.$store.state.basket_count=0):(t.$store.state.basketData=e.data.problem_basket,t.$store.state.basket_count=e.data.problem_basket.length)})}},P=B,M=(a("78a4"),Object(f["a"])(P,n,i,!1,null,"3af874ba",null));e["a"]=M.exports},"09db":function(t,e,a){"use strict";var n=a("8d59"),i=a.n(n);i.a},"0c42":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-button",{attrs:{loading:t.downloadButtonLoading,size:"small"},on:{click:function(e){return t.download_all_test_cases()}}},[t._v("\n      下载所有测试用例\n    ")])],1)])},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.downloadButtonLoading=!1,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"download_all_test_cases",value:function(){var t=this;this.downloadButtonLoading=!0;var e=new XMLHttpRequest,a=new FormData;e.open("get",Object(p["X"])()),e.responseType="blob",e.onload=function(){if(200===e.status){var a=e.response,n="all_test_cases.zip";if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(a,n);else{var i=function(t){return window.URL?window.URL.createObjectURL(t):window.webkitURL.createObjectURL(t)},l=document.createElement("a"),o=i(a);l.href=o,l.download=n,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),t.downloadButtonLoading=!1}}},e.send(a)}}]),e}(d["d"]);m=u["a"]([Object(d["a"])({components:{}})],m);var f=m,h=f,b=a("2877"),v=Object(b["a"])(h,n,i,!1,null,"b323681e",null);e["default"]=v.exports},"0f9d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageTitle}},[a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.accountStatus,callback:function(e){t.accountStatus=e},expression:"accountStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.accountStatusType,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("院系：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.facultyValue,callback:function(e){t.facultyValue=e},expression:"facultyValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.facultyAll}},[t._v("全部")]),t._l(this.facultyData,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/工号",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("admin-list-table",{attrs:{loading:t.loading,"table-data":t.tableData},on:{update:t.update,delclickStd:t.deleteStu}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t.isShowDialog?a("user-modify-dialog",{attrs:{"user-data":t.userData,"selected-faculty":{selected:t.selectedFaculty},"faculty-data":t.facultyData,"form-label-width":t.formLabelWidth,"dialog-visible":t.dialogFormStudent},on:{studentPut:t.studentPut,closeDialog:t.closeDialog}}):t._e()],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("4694"),m=a("c7d1"),f=a("dbce"),h=a("c402"),b=a("374b"),v=a("3dec"),g=a("9ed1"),y=a("4191"),_=a("3ebc"),w=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.pageTitle="超管列表",t.facultyValue="",t.facultyData=[],t.facultyAll="",t.accountStatus="所有",t.accountStatusType=[{value:"所有",label:"所有"},{value:"可用",label:"可用"},{value:"不可用",label:"不可用"}],t.StudentFacultyData=[],t.AdminFacultyData=[],t.selectedFaculty=[],t.tableData=[],t.inputValue="",t.facultyData="",t.isShowDialog=!0,t.dialogFormStudent=!1,t.userData={},t.formLabelWidth="90px",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this;this.api=Object(h["f"])(),this.body={user_type:5},Object(p["d"])(Object(h["Lb"])()).then(function(e){t.StudentFacultyData=e.data,t.AdminFacultyData=e.data.map(function(t){return{value:t.value,label:t.value}}),t.facultyData=t.AdminFacultyData})}},{key:"onAccountStatusChange",value:function(t){"可用"===t?this.$set(this.body,"status",!0):"不可用"===t?this.$set(this.body,"status",!1):"所有"===t&&(this.$set(this.body,"status",null),delete this.body.status)}},{key:"onAccountDepartmentChange",value:function(t){t?(this.$set(this.body,"department",t),this.$set(this.body,"info",!0)):(this.$set(this.body,"department",null),delete this.body.department,this.$set(this.body,"info",null),delete this.body.info)}},{key:"onUserTypeChange",value:function(t){t===g["a"].REGULAR_USER?this.facultyData=this.StudentFacultyData:this.facultyData=this.AdminFacultyData}},{key:"closeDialog",value:function(t){this.isShowDialog=t}},{key:"getDate",value:function(t){var e=this;t.map(function(t){Object.assign(t,{isDisabledAdmin:!1}),t.id!==e.$store.state.baseInfo.uid&&e.$store.state.baseInfo.u_type!==g["a"].SUPER_ADMIN||(t.isDisabledAdmin=!0)}),this.tableData=t}},{key:"inputBtn",value:function(){this.$set(this.body,"keyword",this.inputValue)}},{key:"delInputValue",value:function(){this.$set(this.body,"keyword",null),delete this.body.keyword}},{key:"update",value:function(t,e){var a=this;this.isShowDialog=!0;var n={id:e.id};Object(p["d"])(Object(h["hb"])(),n).then(function(t){a.userData=t.data,a.userData.user.create_time=Object(y["d"])(a.userData.user.create_time),a.selectedFaculty.length=0,a.selectedFaculty.push(a.userData.department),a.dialogFormStudent=!0})}},{key:"studentPut",value:function(t){var e=this;Object(p["g"])(Object(h["Fb"])(),t).then(function(t){"successful"===t.result?(Object(v["a"])("修改成功","success",1e3,e),e.$refs.$pagination.forceRefresh()):"error"===t.result&&Object(v["a"])(t.data,"error",1e3,e),e.dialogFormStudent=!1})}},{key:"deleteStu",value:function(t,e){var a=this;b["b"].deleteUser(this,t,e,Object(h["W"])(),function(t){t&&a.$refs.$pagination.forceRefresh()})}}]),e}(d["d"]);u["a"]([Object(d["e"])("accountStatus")],w.prototype,"onAccountStatusChange",null),u["a"]([Object(d["e"])("facultyValue")],w.prototype,"onAccountDepartmentChange",null),u["a"]([Object(d["e"])("userData.user.admin_type")],w.prototype,"onUserTypeChange",null),w=u["a"]([Object(d["a"])({components:{"admin-list-table":m["a"],"user-modify-dialog":f["a"],"small-radio-button":_["a"]}})],w);var A=w,k=A,x=a("2877"),S=Object(x["a"])(k,n,i,!1,null,"120e97aa",null);e["default"]=S.exports},"0fb4":function(t,e,a){"use strict";var n=a("cfdc"),i=a.n(n);i.a},1015:function(t,e,a){"use strict";a.r(e);var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("7932"),d=a("f534"),p=function(t){function e(){return Object(n["a"])(this,e),Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu-admin")}}]),e}(Object(c["b"])(u["a"]));p=r["a"]([Object(c["a"])({components:{ContestDetailMenuAdmin:d["a"]}})],p),e["default"]=p},"11bb":function(t,e,a){"use strict";var n=a("4a10"),i=a.n(n);i.a},"161f":function(t,e,a){},"198e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editorElem",attrs:{id:t.editorId}})},i=[],l=a("1a0b"),o=a.n(l),s={name:"Editor",data:function(){return{}},model:{prop:"editorContent",event:"change"},props:["editorId","editorContent"],mounted:function(){var t=this,e=new o.a("#"+this.editorId);e.customConfig.onchange=function(e){t.$emit("change",e)},e.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","foreColor","backColor","link","list","justify","image","table","code","undo","redo"],e.customConfig.uploadImgShowBase64=!0,e.create(),e.txt.html(this.editorContent)}},r=s,c=(a("a796"),a("2877")),u=Object(c["a"])(r,n,i,!1,null,null,null);e["a"]=u.exports},"1a0b":function(t,e,a){(function(e,a){t.exports=a()})(0,function(){"use strict";var t=function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=i[l])}return a}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){var e=(this.document||this.ownerDocument).querySelectorAll(t),a=e.length;while(--a>=0&&e.item(a)!==this);return a>-1})};function e(t){var e=void 0;return e=document.createElement("div"),e.innerHTML=t,e.children}function a(t){return!!t&&(t instanceof HTMLCollection||t instanceof NodeList)}function n(t){var e=document.querySelectorAll(t);return a(e)?e:[e]}var i=[];function l(t){if(t){if(t instanceof l)return t;this.selector=t;var i=t.nodeType,o=[];9===i?o=[t]:1===i?o=[t]:a(t)||t instanceof Array?o=t:"string"===typeof t&&(t=t.replace("/\n/mg","").trim(),o=0===t.indexOf("<")?e(t):n(t));var s=o.length;if(!s)return this;var r=void 0;for(r=0;r<s;r++)this[r]=o[r];this.length=s}}function o(t){return new l(t)}l.prototype={constructor:l,forEach:function(t){var e=void 0;for(e=0;e<this.length;e++){var a=this[e],n=t.call(a,a,e);if(!1===n)break}return this},clone:function(t){var e=[];return this.forEach(function(a){e.push(a.cloneNode(!!t))}),o(e)},get:function(t){var e=this.length;return t>=e&&(t%=e),o(this[t])},first:function(){return this.get(0)},last:function(){var t=this.length;return this.get(t-1)},on:function(t,e,a){a||(a=e,e=null);var n=[];return n=t.split(/\s+/),this.forEach(function(t){n.forEach(function(n){n&&(i.push({elem:t,type:n,fn:a}),e?t.addEventListener(n,function(t){var n=t.target;n.matches(e)&&a.call(n,t)}):t.addEventListener(n,a))})})},off:function(t,e){return this.forEach(function(a){a.removeEventListener(t,e)})},attr:function(t,e){return null==e?this[0].getAttribute(t):this.forEach(function(a){a.setAttribute(t,e)})},addClass:function(t){return t?this.forEach(function(e){var a=void 0;e.className?(a=e.className.split(/\s/),a=a.filter(function(t){return!!t.trim()}),a.indexOf(t)<0&&a.push(t),e.className=a.join(" ")):e.className=t}):this},removeClass:function(t){return t?this.forEach(function(e){var a=void 0;e.className&&(a=e.className.split(/\s/),a=a.filter(function(e){return e=e.trim(),!(!e||e===t)}),e.className=a.join(" "))}):this},css:function(t,e){var a=t+":"+e+";";return this.forEach(function(e){var n=(e.getAttribute("style")||"").trim(),i=void 0,l=[];n?(i=n.split(";"),i.forEach(function(t){var e=t.split(":").map(function(t){return t.trim()});2===e.length&&l.push(e[0]+":"+e[1])}),l=l.map(function(e){return 0===e.indexOf(t)?a:e}),l.indexOf(a)<0&&l.push(a),e.setAttribute("style",l.join("; "))):e.setAttribute("style",a)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var t=this[0];return t?o(t.children):null},childNodes:function(){var t=this[0];return t?o(t.childNodes):null},append:function(t){return this.forEach(function(e){t.forEach(function(t){e.appendChild(t)})})},remove:function(){return this.forEach(function(t){if(t.remove)t.remove();else{var e=t.parentElement;e&&e.removeChild(t)}})},isContain:function(t){var e=this[0],a=t[0];return e.contains(a)},getSizeData:function(){var t=this[0];return t.getBoundingClientRect()},getNodeName:function(){var t=this[0];return t.nodeName},find:function(t){var e=this[0];return o(e.querySelectorAll(t))},text:function(t){if(t)return this.forEach(function(e){e.innerHTML=t});var e=this[0];return e.innerHTML.replace(/<.*?>/g,function(){return""})},html:function(t){var e=this[0];return null==t?e.innerHTML:(e.innerHTML=t,this)},val:function(){var t=this[0];return t.value.trim()},focus:function(){return this.forEach(function(t){t.focus()})},parent:function(){var t=this[0];return o(t.parentElement)},parentUntil:function(t,e){var a=document.querySelectorAll(t),n=a.length;if(!n)return null;var i=e||this[0];if("BODY"===i.nodeName)return null;var l=i.parentElement,s=void 0;for(s=0;s<n;s++)if(l===a[s])return o(l);return this.parentUntil(t,l)},equal:function(t){return 1===t.nodeType?this[0]===t:this[0]===t[0]},insertBefore:function(t){var e=o(t),a=e[0];return a?this.forEach(function(t){var e=a.parentNode;e.insertBefore(t,a)}):this},insertAfter:function(t){var e=o(t),a=e[0];return a?this.forEach(function(t){var e=a.parentNode;e.lastChild===a?e.appendChild(t):e.insertBefore(t,a.nextSibling)}):this}},o.offAll=function(){i.forEach(function(t){var e=t.elem,a=t.type,n=t.fn;e.removeEventListener(a,n)})};var s={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["宋体","微软雅黑","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[污]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"新浪",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[神马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[浮云]"}]},{title:"emoji",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(t,e){return!0},linkImgCheck:function(t){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(t){return t},showLinkImg:!0,linkImgCallback:function(t){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(t,e,a){},success:function(t,e,a){},fail:function(t,e,a){},error:function(t,e){},timeout:function(t,e){}},qiniu:!1},r={_ua:navigator.userAgent,isWebkit:function(){var t=/webkit/i;return t.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};function c(t,e){var a=void 0,n=void 0;for(a in t)if(t.hasOwnProperty(a)&&(n=e.call(t,a,t[a]),!1===n))break}function u(t,e){var a=void 0,n=void 0,i=void 0,l=t.length||0;for(a=0;a<l;a++)if(n=t[a],i=e.call(t,n,a),!1===i)break}function d(t){return t+Math.random().toString().slice(2)}function p(t){return null==t?"":t.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}function m(t){return"function"===typeof t}function f(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-bold"></i>\n        </div>'),this.type="click",this._active=!1}f.prototype={constructor:f,onClick:function(t){var e=this.editor,a=e.selection.isSelectionEmpty();a&&e.selection.createEmptyRange(),e.cmd.do("bold"),a&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e.cmd.queryCommandState("bold")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}};var h=function(t,e){var a=t.config.langArgs||[],n=e;return a.forEach(function(t){var e=t.reg,a=t.val;e.test(n)&&(n=n.replace(e,function(){return a}))}),n},b=function(){};function v(t,e){var a=this,n=t.editor;this.menu=t,this.opt=e;var i=o('<div class="w-e-droplist"></div>'),l=e.$title,s=void 0;l&&(s=l.html(),s=h(n,s),l.html(s),l.addClass("w-e-dp-title"),i.append(l));var r=e.list||[],c=e.type||"list",u=e.onClick||b,d=o('<ul class="'+("list"===c?"w-e-list":"w-e-block")+'"></ul>');i.append(d),r.forEach(function(t){var e=t.$elem,i=e.html();i=h(n,i),e.html(i);var l=t.value,s=o('<li class="w-e-item"></li>');e&&(s.append(e),d.append(s),s.on("click",function(t){u(l),a.hideTimeoutId=setTimeout(function(){a.hide()},0)}))}),i.on("mouseleave",function(t){a.hideTimeoutId=setTimeout(function(){a.hide()},0)}),this.$container=i,this._rendered=!1,this._show=!1}function g(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-header"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:100,$title:o("<p>设置标题</p>"),type:"list",list:[{$elem:o("<h1>H1</h1>"),value:"<h1>"},{$elem:o("<h2>H2</h2>"),value:"<h2>"},{$elem:o("<h3>H3</h3>"),value:"<h3>"},{$elem:o("<h4>H4</h4>"),value:"<h4>"},{$elem:o("<h5>H5</h5>"),value:"<h5>"},{$elem:o("<p>正文</p>"),value:"<p>"}],onClick:function(t){e._command(t)}})}function y(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-text-heigh"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:160,$title:o("<p>字号</p>"),type:"list",list:[{$elem:o('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:o('<span style="font-size: small;">small</span>'),value:"2"},{$elem:o("<span>normal</span>"),value:"3"},{$elem:o('<span style="font-size: large;">large</span>'),value:"4"},{$elem:o('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:o('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(t){e._command(t)}})}function _(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-font"></i></div>'),this.type="droplist",this._active=!1;var a=t.config,n=a.fontNames||[];this.droplist=new v(this,{width:100,$title:o("<p>字体</p>"),type:"list",list:n.map(function(t){return{$elem:o('<span style="font-family: '+t+';">'+t+"</span>"),value:t}}),onClick:function(t){e._command(t)}})}v.prototype={constructor:v,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var t=this.menu,e=t.$elem,a=this.$container;if(!this._show){if(this._rendered)a.show();else{var n=e.getSizeData().height||0,i=this.opt.width||100;a.css("margin-top",n+"px").css("width",i+"px"),e.append(a),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var t=this.$container;this._show&&(t.hide(),this._show=!1)}},g.prototype={constructor:g,_command:function(t){var e=this.editor,a=e.selection.getSelectionContainerElem();e.$textElem.equal(a)||e.cmd.do("formatBlock",t)},tryChangeActive:function(t){var e=this.editor,a=this.$elem,n=/^h/i,i=e.cmd.queryCommandValue("formatBlock");n.test(i)?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},y.prototype={constructor:y,_command:function(t){var e=this.editor;e.cmd.do("fontSize",t)}},_.prototype={constructor:_,_command:function(t){var e=this.editor;e.cmd.do("fontName",t)}};var w=function(){},A=[];function k(t,e){this.menu=t,this.opt=e}function x(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-link"></i></div>'),this.type="panel",this._active=!1}function S(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-italic"></i>\n        </div>'),this.type="click",this._active=!1}function C(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-redo"></i>\n        </div>'),this.type="click",this._active=!1}function D(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"></i>\n        </div>'),this.type="click",this._active=!1}function j(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-underline"></i>\n        </div>'),this.type="click",this._active=!1}function O(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-undo"></i>\n        </div>'),this.type="click",this._active=!1}function T(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-list2"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>设置列表</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:o('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(t){e._command(t)}})}function E(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"></i></div>'),this.type="droplist",this._active=!1,this.droplist=new v(this,{width:100,$title:o("<p>对齐方式</p>"),type:"list",list:[{$elem:o('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:o('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:o('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(t){e._command(t)}})}function F(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-pencil2"></i></div>'),this.type="droplist";var a=t.config,n=a.colors||[];this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>文字颜色</p>"),type:"inline-block",list:n.map(function(t){return{$elem:o('<i style="color:'+t+';" class="w-e-icon-pencil2"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function $(t){var e=this;this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-paint-brush"></i></div>'),this.type="droplist";var a=t.config,n=a.colors||[];this._active=!1,this.droplist=new v(this,{width:120,$title:o("<p>背景色</p>"),type:"inline-block",list:n.map(function(t){return{$elem:o('<i style="color:'+t+';" class="w-e-icon-paint-brush"></i>'),value:t}}),onClick:function(t){e._command(t)}})}function I(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"></i>\n        </div>'),this.type="click",this._active=!1}function B(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"></i>\n        </div>'),this.type="panel",this._active=!1}function P(t){this.editor=t,this.$elem=o('<div class="w-e-menu">\n            <i class="w-e-icon-happy"></i>\n        </div>'),this.type="panel",this._active=!1}function M(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-table2"></i></div>'),this.type="panel",this._active=!1}function L(t){this.editor=t,this.$elem=o('<div class="w-e-menu"><i class="w-e-icon-play"></i></div>'),this.type="panel",this._active=!1}function R(t){this.editor=t;var e=d("w-e-img");this.$elem=o('<div class="w-e-menu" id="'+e+'"><i class="w-e-icon-image"></i></div>'),t.imgMenuId=e,this.type="panel",this._active=!1}k.prototype={constructor:k,show:function(){var t=this,e=this.menu;if(!(A.indexOf(e)>=0)){var a=e.editor,n=o("body"),i=a.$textContainerElem,l=this.opt,s=o('<div class="w-e-panel-container"></div>'),r=l.width||300;s.css("width",r+"px").css("margin-left",(0-r)/2+"px");var c=o('<i class="w-e-icon-close w-e-panel-close"></i>');s.append(c),c.on("click",function(){t.hide()});var u=o('<ul class="w-e-panel-tab-title"></ul>'),d=o('<div class="w-e-panel-tab-content"></div>');s.append(u).append(d);var p=l.height;p&&d.css("height",p+"px").css("overflow-y","auto");var m=l.tabs||[],f=[],b=[];m.forEach(function(t,e){if(t){var n=t.title||"",i=t.tpl||"";n=h(a,n),i=h(a,i);var l=o('<li class="w-e-item">'+n+"</li>");u.append(l);var s=o(i);d.append(s),l._index=e,f.push(l),b.push(s),0===e?(l._active=!0,l.addClass("w-e-active")):s.hide(),l.on("click",function(t){l._active||(f.forEach(function(t){t._active=!1,t.removeClass("w-e-active")}),b.forEach(function(t){t.hide()}),l._active=!0,l.addClass("w-e-active"),s.show())})}}),s.on("click",function(t){t.stopPropagation()}),n.on("click",function(e){t.hide()}),i.append(s),m.forEach(function(e,a){if(e){var n=e.events||[];n.forEach(function(e){var n=e.selector,i=e.type,l=e.fn||w,o=b[a];o.find(n).on(i,function(e){e.stopPropagation();var a=l(e);a&&t.hide()})})}});var v=s.find("input[type=text],textarea");v.length&&v.get(0).focus(),this.$container=s,this._hideOtherPanels(),A.push(e)}},hide:function(){var t=this.menu,e=this.$container;e&&e.remove(),A=A.filter(function(e){return e!==t})},_hideOtherPanels:function(){A.length&&A.forEach(function(t){var e=t.panel||{};e.hide&&e.hide()})}},x.prototype={constructor:x,onClick:function(t){var e=this.editor,a=void 0;if(this._active){if(a=e.selection.getSelectionContainerElem(),!a)return;e.selection.createRangeByElem(a),e.selection.restoreSelection(),this._createPanel(a.text(),a.attr("href"))}else e.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(e.selection.getSelectionText(),"")},_createPanel:function(t,e){var a=this,n=d("input-link"),i=d("input-text"),l=d("btn-ok"),s=d("btn-del"),r=this._active?"inline-block":"none",c=new k(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+i+'" type="text" class="block" value="'+t+'" placeholder="链接文字"/></td>\n                            <input id="'+n+'" type="text" class="block" value="'+e+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+l+'" class="right">插入</button>\n                                <button id="'+s+'" class="gray right" style="display:'+r+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+l,type:"click",fn:function(){var t=o("#"+n),e=o("#"+i),l=t.val(),s=e.val();return a._insertLink(s,l),!0}},{selector:"#"+s,type:"click",fn:function(){return a._delLink(),!0}}]}]});c.show(),this.panel=c},_delLink:function(){if(this._active){var t=this.editor,e=t.selection.getSelectionContainerElem();if(e){var a=t.selection.getSelectionText();t.cmd.do("insertHTML","<span>"+a+"</span>")}}},_insertLink:function(t,e){var a=this.editor,n=a.config,i=n.linkCheck,l=!0;i&&"function"===typeof i&&(l=i(t,e)),!0===l?a.cmd.do("insertHTML",'<a href="'+e+'" target="_blank">'+t+"</a>"):alert(l)},tryChangeActive:function(t){var e=this.editor,a=this.$elem,n=e.selection.getSelectionContainerElem();n&&("A"===n.getNodeName()?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active")))}},S.prototype={constructor:S,onClick:function(t){var e=this.editor,a=e.selection.isSelectionEmpty();a&&e.selection.createEmptyRange(),e.cmd.do("italic"),a&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e.cmd.queryCommandState("italic")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},C.prototype={constructor:C,onClick:function(t){var e=this.editor;e.cmd.do("redo")}},D.prototype={constructor:D,onClick:function(t){var e=this.editor,a=e.selection.isSelectionEmpty();a&&e.selection.createEmptyRange(),e.cmd.do("strikeThrough"),a&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e.cmd.queryCommandState("strikeThrough")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},j.prototype={constructor:j,onClick:function(t){var e=this.editor,a=e.selection.isSelectionEmpty();a&&e.selection.createEmptyRange(),e.cmd.do("underline"),a&&(e.selection.collapseRange(),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e.cmd.queryCommandState("underline")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},O.prototype={constructor:O,onClick:function(t){var e=this.editor;e.cmd.do("undo")}},T.prototype={constructor:T,_command:function(t){var e=this.editor,a=e.$textElem;if(e.selection.restoreSelection(),!e.cmd.queryCommandState(t)){e.cmd.do(t);var n=e.selection.getSelectionContainerElem();if("LI"===n.getNodeName()&&(n=n.parent()),!1!==/^ol|ul$/i.test(n.getNodeName())&&!n.equal(a)){var i=n.parent();i.equal(a)||(n.insertAfter(i),i.remove())}}},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e.cmd.queryCommandState("insertUnOrderedList")||e.cmd.queryCommandState("insertOrderedList")?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},E.prototype={constructor:E,_command:function(t){var e=this.editor;e.cmd.do(t)}},F.prototype={constructor:F,_command:function(t){var e=this.editor;e.cmd.do("foreColor",t)}},$.prototype={constructor:$,_command:function(t){var e=this.editor;e.cmd.do("backColor",t)}},I.prototype={constructor:I,onClick:function(t){var e=this.editor,a=e.selection.getSelectionContainerElem(),n=a.getNodeName();if(r.isIE()){var i=void 0,l=void 0;if("P"===n)return i=a.text(),l=o("<blockquote>"+i+"</blockquote>"),l.insertAfter(a),void a.remove();"BLOCKQUOTE"===n&&(i=a.text(),l=o("<p>"+i+"</p>"),l.insertAfter(a),a.remove())}else"BLOCKQUOTE"===n?e.cmd.do("formatBlock","<P>"):e.cmd.do("formatBlock","<BLOCKQUOTE>")},tryChangeActive:function(t){var e=this.editor,a=this.$elem,n=/^BLOCKQUOTE$/i,i=e.cmd.queryCommandValue("formatBlock");n.test(i)?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}},B.prototype={constructor:B,onClick:function(t){var e=this.editor,a=e.selection.getSelectionStartElem(),n=e.selection.getSelectionEndElem(),i=e.selection.isSelectionEmpty(),l=e.selection.getSelectionText(),s=void 0;if(a.equal(n))return i?void(this._active?this._createPanel(a.html()):this._createPanel()):(s=o("<code>"+l+"</code>"),e.cmd.do("insertElem",s),e.selection.createRangeByElem(s,!1),void e.selection.restoreSelection());e.selection.restoreSelection()},_createPanel:function(t){var e=this;t=t||"";var a=t?"edit":"new",n=d("texxt"),i=d("btn"),l=new k(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'+n+'" style="height:145px;;">'+t+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+i+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+i,type:"click",fn:function(){var t=o("#"+n),i=t.val()||t.html();return i=p(i),"new"===a?e._insertCode(i):e._updateCode(i),!0}}]}]});l.show(),this.panel=l},_insertCode:function(t){var e=this.editor;e.cmd.do("insertHTML","<pre><code>"+t+"</code></pre><p><br></p>")},_updateCode:function(t){var e=this.editor,a=e.selection.getSelectionContainerElem();a&&(a.html(t),e.selection.restoreSelection())},tryChangeActive:function(t){var e=this.editor,a=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var i=n.parent();"CODE"===n.getNodeName()&&"PRE"===i.getNodeName()?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}}},P.prototype={constructor:P,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=this.editor,a=e.config,n=a.emotions||[],i=[];n.forEach(function(e){var a=e.type,n=e.content||[],l="";"emoji"===a&&n.forEach(function(t){t&&(l+='<span class="w-e-item">'+t+"</span>")}),"image"===a&&n.forEach(function(t){var e=t.src,a=t.alt;e&&(l+='<span class="w-e-item"><img src="'+e+'" alt="'+a+'" data-w-e="1"/></span>')}),i.push({title:e.title,tpl:'<div class="w-e-emoticon-container">'+l+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(e){var a=e.target,n=o(a),i=n.getNodeName(),l=void 0;return l="IMG"===i?n.parent().html():"<span>"+n.html()+"</span>",t._insert(l),!0}}]})});var l=new k(this,{width:300,height:200,tabs:i});l.show(),this.panel=l},_insert:function(t){var e=this.editor;e.cmd.do("insertHTML",t)}},M.prototype={constructor:M,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var t=this,e=d("btn"),a=d("row"),n=d("col"),i=new k(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+a+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+e+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=parseInt(o("#"+a).val()),i=parseInt(o("#"+n).val());return e&&i&&e>0&&i>0&&t._insert(e,i),!0}}]}]});i.show(),this.panel=i},_insert:function(t,e){var a=void 0,n=void 0,i='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(a=0;a<t;a++){if(i+="<tr>",0===a)for(n=0;n<e;n++)i+="<th>&nbsp;</th>";else for(n=0;n<e;n++)i+="<td>&nbsp;</td>";i+="</tr>"}i+="</table><p><br></p>";var l=this.editor;l.cmd.do("insertHTML",i),l.cmd.do("enableObjectResizing",!1),l.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var t=this,e=d("add-row"),a=d("add-col"),n=d("del-row"),i=d("del-col"),l=d("del-table"),o=new k(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+e+'" class="left">增加行</button>\n                            <button id="'+n+'" class="red left">删除行</button>\n                            <button id="'+a+'" class="left">增加列</button>\n                            <button id="'+i+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+l+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+e,type:"click",fn:function(){return t._addRow(),!0}},{selector:"#"+a,type:"click",fn:function(){return t._addCol(),!0}},{selector:"#"+n,type:"click",fn:function(){return t._delRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return t._delCol(),!0}},{selector:"#"+l,type:"click",fn:function(){return t._delTable(),!0}}]}]});o.show()},_getLocationData:function(){var t={},e=this.editor,a=e.selection.getSelectionContainerElem();if(a){var n=a.getNodeName();if("TD"===n||"TH"===n){var i=a.parent(),l=i.children(),o=l.length;l.forEach(function(e,n){if(e===a[0])return t.td={index:n,elem:e,length:o},!1});var s=i.parent(),r=s.children(),c=r.length;return r.forEach(function(e,a){if(e===i[0])return t.tr={index:a,elem:e,length:c},!1}),t}}},_addRow:function(){var t=this._getLocationData();if(t){var e=t.tr,a=o(e.elem),n=t.td,i=n.length,l=document.createElement("tr"),s="",r=void 0;for(r=0;r<i;r++)s+="<td>&nbsp;</td>";l.innerHTML=s,o(l).insertAfter(a)}},_addCol:function(){var t=this._getLocationData();if(t){var e=t.tr,a=t.td,n=a.index,i=o(e.elem),l=i.parent(),s=l.children();s.forEach(function(t){var e=o(t),a=e.children(),i=a.get(n),l=i.getNodeName().toLowerCase(),s=document.createElement(l);o(s).insertAfter(i)})}},_delRow:function(){var t=this._getLocationData();if(t){var e=t.tr,a=o(e.elem);a.remove()}},_delCol:function(){var t=this._getLocationData();if(t){var e=t.tr,a=t.td,n=a.index,i=o(e.elem),l=i.parent(),s=l.children();s.forEach(function(t){var e=o(t),a=e.children(),i=a.get(n);i.remove()})}},_delTable:function(){var t=this.editor,e=t.selection.getSelectionContainerElem();if(e){var a=e.parentUntil("table");a&&a.remove()}},tryChangeActive:function(t){var e=this.editor,a=this.$elem,n=e.selection.getSelectionContainerElem();if(n){var i=n.getNodeName();"TD"===i||"TH"===i?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}}},L.prototype={constructor:L,onClick:function(){this._createPanel()},_createPanel:function(){var t=this,e=d("text-val"),a=d("btn"),n=new k(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+e+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+a+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+a,type:"click",fn:function(){var a=o("#"+e),n=a.val().trim();return n&&t._insert(n),!0}}]}]});n.show(),this.panel=n},_insert:function(t){var e=this.editor;e.cmd.do("insertHTML",t+"<p><br></p>")}},R.prototype={constructor:R,onClick:function(){var t=this.editor,e=t.config;e.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var t=this.editor,e=d("width-30"),a=d("width-50"),n=d("width-100"),i=d("del-btn"),l=[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+e+'" class="left">30%</button>\n                        <button id="'+a+'" class="left">50%</button>\n                        <button id="'+n+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+i+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+e,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","30%"),!0}},{selector:"#"+a,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","50%"),!0}},{selector:"#"+n,type:"click",fn:function(){var e=t._selectedImg;return e&&e.css("max-width","100%"),!0}},{selector:"#"+i,type:"click",fn:function(){var e=t._selectedImg;return e&&e.remove(),!0}}]}],o=new k(this,{width:300,tabs:l});o.show(),this.panel=o},_createInsertPanel:function(){var t=this.editor,e=t.uploadImg,a=t.config,n=d("up-trigger"),i=d("up-file"),l=d("link-url"),s=d("link-btn"),r=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+n+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+i+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+n,type:"click",fn:function(){var t=o("#"+i),e=t[0];if(!e)return!0;e.click()}},{selector:"#"+i,type:"change",fn:function(){var t=o("#"+i),a=t[0];if(!a)return!0;var n=a.files;return n.length&&e.uploadImg(n),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+l+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+s+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+s,type:"click",fn:function(){var t=o("#"+l),a=t.val().trim();return a&&e.insertLinkImg(a),!0}}]}],c=[];(a.uploadImgShowBase64||a.uploadImgServer||a.customUploadImg)&&window.FileReader&&c.push(r[0]),a.showLinkImg&&c.push(r[1]);var u=new k(this,{width:300,tabs:c});u.show(),this.panel=u},tryChangeActive:function(t){var e=this.editor,a=this.$elem;e._selectedImg?(this._active=!0,a.addClass("w-e-active")):(this._active=!1,a.removeClass("w-e-active"))}};var z={};function N(t){this.editor=t,this.menus={}}function V(t){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,a=void 0;return a=null==e?window.clipboardData&&window.clipboardData.getData("text"):e.getData("text/plain"),p(a)}function U(t,e,a){var n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData,i=void 0,l=void 0;if(null==n?i=window.clipboardData&&window.clipboardData.getData("text"):(i=n.getData("text/plain"),l=n.getData("text/html")),!l&&i&&(l="<p>"+p(i)+"</p>"),l){var o=l.split("</html>");return 2===o.length&&(l=o[0]),l=l.replace(/<(meta|script|link).+?>/gim,""),l=l.replace(/<!--.*?-->/gm,""),l=l.replace(/\s?data-.+?=('|").+?('|")/gim,""),a&&(l=l.replace(/<img.+?>/gim,"")),l=e?l.replace(/\s?(class|style)=('|").*?('|")/gim,""):l.replace(/\s?class=('|").*?('|")/gim,""),l}}function Q(t){var e=[],a=V(t);if(a)return e;var n=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData||{},i=n.items;return i?(c(i,function(t,a){var n=a.type;/image/i.test(n)&&e.push(a.getAsFile())}),e):e}function H(t){var e=[],a=t.childNodes()||[];return a.forEach(function(t){var a=void 0,n=t.nodeType;if(3===n&&(a=t.textContent,a=p(a)),1===n){a={},a.tag=t.nodeName.toLowerCase();for(var i=[],l=t.attributes||{},s=l.length||0,r=0;r<s;r++){var c=l[r];i.push({name:c.name,value:c.value})}a.attrs=i,a.children=H(o(t))}e.push(a)}),e}function Y(t){this.editor=t}function G(t){this.editor=t}function q(t){this.editor=t,this._currentRange=null}function W(t){this.editor=t,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=t.$textContainerElem,this.$bar=o('<div class="w-e-progress"></div>')}z.bold=f,z.head=g,z.fontSize=y,z.fontName=_,z.link=x,z.italic=S,z.redo=C,z.strikeThrough=D,z.underline=j,z.undo=O,z.list=T,z.justify=E,z.foreColor=F,z.backColor=$,z.quote=I,z.code=B,z.emoticon=P,z.table=M,z.video=L,z.image=R,N.prototype={constructor:N,init:function(){var t=this,e=this.editor,a=e.config||{},n=a.menus||[];n.forEach(function(a){var n=z[a];n&&"function"===typeof n&&(t.menus[a]=new n(e))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var t=this.editor,e=t.$toolbarElem,a=this.menus,n=t.config,i=n.zIndex+1;c(a,function(t,a){var n=a.$elem;n&&(n.css("z-index",i),e.append(n))})},_bindEvent:function(){var t=this.menus,e=this.editor;c(t,function(t,a){var n=a.type;if(n){var i=a.$elem,l=a.droplist;a.panel;"click"===n&&a.onClick&&i.on("click",function(t){null!=e.selection.getRange()&&a.onClick(t)}),"droplist"===n&&l&&i.on("mouseenter",function(t){null!=e.selection.getRange()&&(l.showTimeoutId=setTimeout(function(){l.show()},200))}).on("mouseleave",function(t){l.hideTimeoutId=setTimeout(function(){l.hide()},0)}),"panel"===n&&a.onClick&&i.on("click",function(t){t.stopPropagation(),null!=e.selection.getRange()&&a.onClick(t)})}})},changeActive:function(){var t=this.menus;c(t,function(t,e){e.tryChangeActive&&setTimeout(function(){e.tryChangeActive()},100)})}},Y.prototype={constructor:Y,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(t){var e=this.editor,a=e.$textElem,n=void 0;if(null==t)return n=a.html(),n=n.replace(/\u200b/gm,""),n;a.html(t),e.initSelection()},getJSON:function(){var t=this.editor,e=t.$textElem;return H(e)},text:function(t){var e=this.editor,a=e.$textElem,n=void 0;if(null==t)return n=a.text(),n=n.replace(/\u200b/gm,""),n;a.text("<p>"+t+"</p>"),e.initSelection()},append:function(t){var e=this.editor,a=e.$textElem;a.append(o(t)),e.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){var t=this.editor,e=t.$textElem;function a(e){t.selection.saveRange(),t.menus.changeActive()}e.on("keyup",a),e.on("mousedown",function(t){e.on("mouseleave",a)}),e.on("mouseup",function(t){a(),e.off("mouseleave",a)})},_enterKeyHandle:function(){var t=this.editor,e=t.$textElem;function a(e){var a=o("<p><br></p>");a.insertBefore(e),t.selection.createRangeByElem(a,!0),t.selection.restoreSelection(),e.remove()}function n(n){var i=t.selection.getSelectionContainerElem(),l=i.parent();if("<code><br></code>"!==l.html()){if(l.equal(e)){var o=i.getNodeName();"P"!==o&&(i.text()||a(i))}}else a(i)}function i(e){var a=t.selection.getSelectionContainerElem();if(a){var n=a.parent(),i=a.getNodeName(),l=n.getNodeName();if("CODE"===i&&"PRE"===l&&t.cmd.queryCommandSupported("insertHTML")){if(!0===t._willBreakCode){var s=o("<p><br></p>");return s.insertAfter(n),t.selection.createRangeByElem(s,!0),t.selection.restoreSelection(),t._willBreakCode=!1,void e.preventDefault()}var r=t.selection.getRange().startOffset;t.cmd.do("insertHTML","\n"),t.selection.saveRange(),t.selection.getRange().startOffset===r&&t.cmd.do("insertHTML","\n");var c=a.html().length;t.selection.getRange().startOffset+1===c&&(t._willBreakCode=!0),e.preventDefault()}}}e.on("keyup",function(t){13===t.keyCode&&n(t)}),e.on("keydown",function(e){13===e.keyCode?i(e):t._willBreakCode=!1})},_clearHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(t){if(8===t.keyCode){var a=e.html().toLowerCase().trim();"<p><br></p>"!==a||t.preventDefault()}}),e.on("keyup",function(a){if(8===a.keyCode){var n=void 0,i=e.html().toLowerCase().trim();i&&"<br>"!==i||(n=o("<p><br/></p>"),e.html(""),e.append(n),t.selection.createRangeByElem(n,!1,!0),t.selection.restoreSelection())}})},_pasteHandle:function(){var t=this.editor,e=t.config,a=e.pasteFilterStyle,n=e.pasteTextHandle,i=e.pasteIgnoreImg,l=t.$textElem,o=0;function s(){var t=Date.now(),e=!1;return t-o>=100&&(e=!0),o=t,e}function c(){o=0}l.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),s())){var l=U(e,a,i),o=V(e);o=o.replace(/\n/gm,"<br>");var u=t.selection.getSelectionContainerElem();if(u){var d=u.getNodeName();if("CODE"===d||"PRE"===d)return n&&m(n)&&(o=""+(n(o)||"")),void t.cmd.do("insertHTML","<p>"+o+"</p>");if(l)try{n&&m(n)&&(l=""+(n(l)||"")),t.cmd.do("insertHTML",l)}catch(p){n&&m(n)&&(o=""+(n(o)||"")),t.cmd.do("insertHTML","<p>"+o+"</p>")}else c()}}}),l.on("paste",function(e){if(!r.isIE()&&(e.preventDefault(),s())){var a=Q(e);if(a&&a.length){var n=t.selection.getSelectionContainerElem();if(n){var i=n.getNodeName();if("CODE"!==i&&"PRE"!==i){var l=t.uploadImg;l.uploadImg(a)}}}}})},_tabHandle:function(){var t=this.editor,e=t.$textElem;e.on("keydown",function(e){if(9===e.keyCode&&t.cmd.queryCommandSupported("insertHTML")){var a=t.selection.getSelectionContainerElem();if(a){var n=a.parent(),i=a.getNodeName(),l=n.getNodeName();"CODE"===i&&"PRE"===l?t.cmd.do("insertHTML","    "):t.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),e.preventDefault()}}})},_imgHandle:function(){var t=this.editor,e=t.$textElem;e.on("click","img",function(e){var a=this,n=o(a);"1"!==n.attr("data-w-e")&&(t._selectedImg=n,t.selection.createRangeByElem(n),t.selection.restoreSelection())}),e.on("click  keyup",function(e){e.target.matches("img")||(t._selectedImg=null)})},_dragHandle:function(){var t=this.editor,e=o(document);e.on("dragleave drop dragenter dragover",function(t){t.preventDefault()});var a=t.$textElem;a.on("drop",function(e){e.preventDefault();var a=e.dataTransfer&&e.dataTransfer.files;if(a&&a.length){var n=t.uploadImg;n.uploadImg(a)}})}},G.prototype={constructor:G,do:function(t,e){var a=this.editor;if(a._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),a._useStyleWithCSS=!0),a.selection.getRange()){a.selection.restoreSelection();var n="_"+t;this[n]?this[n](e):this._execCommand(t,e),a.menus.changeActive(),a.selection.saveRange(),a.selection.restoreSelection(),a.change&&a.change()}},_insertHTML:function(t){var e=this.editor,a=e.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",t):a.insertNode?(a.deleteContents(),a.insertNode(o(t)[0])):a.pasteHTML&&a.pasteHTML(t)},_insertElem:function(t){var e=this.editor,a=e.selection.getRange();a.insertNode&&(a.deleteContents(),a.insertNode(t[0]))},_execCommand:function(t,e){document.execCommand(t,!1,e)},queryCommandValue:function(t){return document.queryCommandValue(t)},queryCommandState:function(t){return document.queryCommandState(t)},queryCommandSupported:function(t){return document.queryCommandSupported(t)}},q.prototype={constructor:q,getRange:function(){return this._currentRange},saveRange:function(t){if(t)this._currentRange=t;else{var e=window.getSelection();if(0!==e.rangeCount){var a=e.getRangeAt(0),n=this.getSelectionContainerElem(a);if(n&&"false"!==n.attr("contenteditable")&&!n.parentUntil("[contenteditable=false]")){var i=this.editor,l=i.$textElem;l.isContain(n)&&(this._currentRange=a)}}}},collapseRange:function(t){null==t&&(t=!1);var e=this._currentRange;e&&e.collapse(t)},getSelectionText:function(){var t=this._currentRange;return t?this._currentRange.toString():""},getSelectionContainerElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.commonAncestorContainer,o(1===e.nodeType?e:e.parentNode)},getSelectionStartElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.startContainer,o(1===e.nodeType?e:e.parentNode)},getSelectionEndElem:function(t){t=t||this._currentRange;var e=void 0;if(t)return e=t.endContainer,o(1===e.nodeType?e:e.parentNode)},isSelectionEmpty:function(){var t=this._currentRange;return!(!t||!t.startContainer||t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)},restoreSelection:function(){var t=window.getSelection();t.removeAllRanges(),t.addRange(this._currentRange)},createEmptyRange:function(){var t=this.editor,e=this.getRange(),a=void 0;if(e&&this.isSelectionEmpty())try{r.isWebkit()?(t.cmd.do("insertHTML","&#8203;"),e.setEnd(e.endContainer,e.endOffset+1),this.saveRange(e)):(a=o("<strong>&#8203;</strong>"),t.cmd.do("insertElem",a),this.createRangeByElem(a,!0))}catch(n){}},createRangeByElem:function(t,e,a){if(t.length){var n=t[0],i=document.createRange();a?i.selectNodeContents(n):i.selectNode(n),"boolean"===typeof e&&i.collapse(e),this.saveRange(i)}}},W.prototype={constructor:W,show:function(t){var e=this;if(!this._isShow){this._isShow=!0;var a=this.$bar;if(this._isRender)this._isRender=!0;else{var n=this.$textContainer;n.append(a)}Date.now()-this._time>100&&t<=1&&(a.css("width",100*t+"%"),this._time=Date.now());var i=this._timeoutId;i&&clearTimeout(i),i=setTimeout(function(){e._hide()},500)}},_hide:function(){var t=this.$bar;t.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function X(t){this.editor=t}X.prototype={constructor:X,_alert:function(t,e){var a=this.editor,n=a.config.debug,i=a.config.customAlert;if(n)throw new Error("wangEditor: "+(e||t));i&&"function"===typeof i?i(t):alert(t)},insertLinkImg:function(t){var e=this;if(t){var a=this.editor,n=a.config,i=n.linkImgCheck,l=void 0;if(i&&"function"===typeof i&&(l=i(t),"string"===typeof l))alert(l);else{a.cmd.do("insertHTML",'<img src="'+t+'" style="max-width:100%;"/>');var o=document.createElement("img");o.onload=function(){var e=n.linkImgCallback;e&&"function"===typeof e&&e(t),o=null},o.onerror=function(){o=null,e._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'+t+'"，下载该链接失败')},o.onabort=function(){o=null},o.src=t}}},uploadImg:function(t){var e=this;if(t&&t.length){var a=this.editor,n=a.config,i=n.uploadImgServer,l=n.uploadImgShowBase64,o=n.uploadImgMaxSize,s=o/1024/1024,r=n.uploadImgMaxLength||1e4,d=n.uploadFileName||"",p=n.uploadImgParams||{},m=n.uploadImgParamsWithUrl,f=n.uploadImgHeaders||{},h=n.uploadImgHooks||{},b=n.uploadImgTimeout||3e3,v=n.withCredentials;null==v&&(v=!1);var g=n.customUploadImg;if(g||i||l){var y=[],_=[];if(u(t,function(t){var e=t.name,a=t.size;e&&a&&(!1!==/\.(jpg|jpeg|png|bmp|gif|webp)$/i.test(e)?o<a?_.push("【"+e+"】大于 "+s+"M"):y.push(t):_.push("【"+e+"】不是图片"))}),_.length)this._alert("图片验证未通过: \n"+_.join("\n"));else if(y.length>r)this._alert("一次最多上传"+r+"张图片");else if(g&&"function"===typeof g)g(y,this.insertLinkImg.bind(this));else{var w=new FormData;if(u(y,function(t){var e=d||t.name;w.append(e,t)}),i&&"string"===typeof i){var A=i.split("#");i=A[0];var k=A[1]||"";c(p,function(t,e){m&&(i.indexOf("?")>0?i+="&":i+="?",i=i+t+"="+e),w.append(t,e)}),k&&(i+="#"+k);var x=new XMLHttpRequest;if(x.open("POST",i),x.timeout=b,x.ontimeout=function(){h.timeout&&"function"===typeof h.timeout&&h.timeout(x,a),e._alert("上传图片超时")},x.upload&&(x.upload.onprogress=function(t){var e=void 0,n=new W(a);t.lengthComputable&&(e=t.loaded/t.total,n.show(e))}),x.onreadystatechange=function(){var t=void 0;if(4===x.readyState){if(x.status<200||x.status>=300)return h.error&&"function"===typeof h.error&&h.error(x,a),void e._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+x.status);if(t=x.responseText,"object"!==("undefined"===typeof t?"undefined":J(t)))try{t=JSON.parse(t)}catch(i){return h.fail&&"function"===typeof h.fail&&h.fail(x,a,t),void e._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+t)}if(h.customInsert||"0"==t.errno){if(h.customInsert&&"function"===typeof h.customInsert)h.customInsert(e.insertLinkImg.bind(e),t,a);else{var n=t.data||[];n.forEach(function(t){e.insertLinkImg(t)})}h.success&&"function"===typeof h.success&&h.success(x,a,t)}else h.fail&&"function"===typeof h.fail&&h.fail(x,a,t),e._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+t.errno)}},h.before&&"function"===typeof h.before){var S=h.before(x,a,y);if(S&&"object"===("undefined"===typeof S?"undefined":J(S))&&S.prevent)return void this._alert(S.msg)}return c(f,function(t,e){x.setRequestHeader(t,e)}),x.withCredentials=v,void x.send(w)}l&&u(t,function(t){var a=e,n=new FileReader;n.readAsDataURL(t),n.onload=function(){a.insertLinkImg(this.result)}})}}}}};var K=1;function Z(t,e){if(null==t)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+K++,this.toolbarSelector=t,this.textSelector=e,this.customConfig={}}Z.prototype={constructor:Z,_initConfig:function(){var t={};this.config=Object.assign(t,s,this.customConfig);var e=this.config.lang||{},a=[];c(e,function(t,e){a.push({reg:new RegExp(t,"img"),val:e})}),this.config.langArgs=a},_initDom:function(){var t=this,e=this.toolbarSelector,a=o(e),n=this.textSelector,i=this.config,l=i.zIndex,s=void 0,r=void 0,c=void 0,u=void 0;null==n?(s=o("<div></div>"),r=o("<div></div>"),u=a.children(),a.append(s).append(r),s.css("background-color","#f1f1f1").css("border","1px solid #ccc"),r.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(s=a,r=o(n),u=r.children()),c=o("<div></div>"),c.attr("contenteditable","true").css("width","100%").css("height","100%"),u&&u.length?c.append(u):c.append(o("<p><br></p>")),r.append(c),s.addClass("w-e-toolbar"),r.addClass("w-e-text-container"),r.css("z-index",l),c.addClass("w-e-text");var p=d("toolbar-elem");s.attr("id",p);var m=d("text-elem");c.attr("id",m),this.$toolbarElem=s,this.$textContainerElem=r,this.$textElem=c,this.toolbarElemId=p,this.textElemId=m;var f=!0;r.on("compositionstart",function(){f=!1}),r.on("compositionend",function(){f=!0}),r.on("click keyup",function(){f&&t.change&&t.change()}),s.on("click",function(){this.change&&this.change()}),(i.onfocus||i.onblur)&&(this.isFocus=!1,o(document).on("click",function(e){var a=c.isContain(o(e.target)),n=s.isContain(o(e.target)),i=s[0]==e.target;if(a)t.isFocus||t.onfocus&&t.onfocus(),t.isFocus=!0;else{if(n&&!i)return;t.isFocus&&t.onblur&&t.onblur(),t.isFocus=!1}}))},_initCommand:function(){this.cmd=new G(this)},_initSelectionAPI:function(){this.selection=new q(this)},_initUploadImg:function(){this.uploadImg=new X(this)},_initMenus:function(){this.menus=new N(this),this.menus.init()},_initText:function(){this.txt=new Y(this),this.txt.init()},initSelection:function(t){var e=this.$textElem,a=e.children();if(!a.length)return e.append(o("<p><br></p>")),void this.initSelection();var n=a.last();if(t){var i=n.html().toLowerCase(),l=n.getNodeName();if("<br>"!==i&&"<br/>"!==i||"P"!==l)return e.append(o("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(n,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var t=0,e=this.txt.html(),a=this.config,n=a.onchangeTimeout;n=parseInt(n,10),(!n||n<=0)&&(n=200);var i=a.onchange;i&&"function"===typeof i&&(this.change=function(){var a=this.txt.html();a.length===e.length&&a===e||(t&&clearTimeout(t),t=setTimeout(function(){i(a),e=a},n))});var l=a.onblur;l&&"function"===typeof l&&(this.onblur=function(){var t=this.txt.html();l(t)});var o=a.onfocus;o&&"function"===typeof o&&(this.onfocus=function(){o()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){o.offAll()}},t();var tt='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',et=document.createElement("style");et.type="text/css",et.innerHTML=tt,document.getElementsByTagName("HEAD").item(0).appendChild(et);var at=window.wangEditor||Z;return at})},"1b17":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("suggest-table",{attrs:{data:t.data,loading:t.loading}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}}},[a("el-table-column",{attrs:{align:"center",label:"id",prop:"id"}}),a("el-table-column",{attrs:{align:"center",label:"描述",prop:"content"}}),a("el-table-column",{attrs:{align:"center",label:"联系方式",prop:"user_contact"}}),a("el-table-column",{attrs:{align:"center",label:"uid",prop:"uid"}})],1)},f=[],h=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),e}(d["d"]);u["a"]([Object(d["c"])()],h.prototype,"data",void 0),u["a"]([Object(d["c"])()],h.prototype,"loading",void 0),h=u["a"]([d["a"]],h);var b=h,v=b,g=a("2877"),y=Object(g["a"])(v,m,f,!1,null,"51c8e996",null),_=y.exports,w=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.data=[],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.api=Object(p["E"])(),this.body={}}},{key:"getDate",value:function(t){this.data=t}}]),e}(d["d"]);w=u["a"]([Object(d["a"])({components:{SuggestTable:_}})],w);var A=w,k=A,x=Object(g["a"])(k,n,i,!1,null,"cb3a5bdc",null);e["default"]=x.exports},"1c4c":function(t,e,a){"use strict";var n=a("9b43"),i=a("5ca1"),l=a("4bf8"),o=a("1fa8"),s=a("33a4"),r=a("9def"),c=a("f1ae"),u=a("27ee");i(i.S+i.F*!a("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,i,d,p=l(t),m="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,b=void 0!==h,v=0,g=u(p);if(b&&(h=n(h,f>2?arguments[2]:void 0,2)),void 0==g||m==Array&&s(g))for(e=r(p.length),a=new m(e);e>v;v++)c(a,v,b?h(p[v],v):p[v]);else for(d=g.call(p),a=new m;!(i=d.next()).done;v++)c(a,v,b?o(d,h,[i.value,v],!0):i.value);return a.length=v,a}})},"1cd0":function(t,e,a){"use strict";var n=a("5ddf"),i=a.n(n);i.a},"1cdb":function(t,e,a){},"1d1f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageHeaderName}},[t.isAdmin?a("div",{staticClass:"center"},[a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"ImportTopicTemplatePage",params:{topicType:"public"}}}},[t._v("批量导入")])],1),a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"AddTopicPage",params:{topicType:"public"}}}},[t._v("添加题目")])],1)]):t._e(),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.topicStatusValue,callback:function(e){t.topicStatusValue=e},expression:"topicStatusValue"}},[a("div",{staticStyle:{display:"table"}},t._l(this.topicStatusArray,function(e){return a("span",{key:e},[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("难度：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.difficultyValue,callback:function(e){t.difficultyValue=e},expression:"difficultyValue"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},[a("small-radio-button",{attrs:{label:t.difficultyAll}},[t._v("全部")]),t._l(this.difficultyArray,function(e){return a("span",{key:e},[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("考点：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.testTagValue,callback:function(e){t.testTagValue=e},expression:"testTagValue"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("small-radio-button",{attrs:{label:t.testTagAll}},[t._v("全部")]),t._l(this.testTags_Type,function(e){return a("span",{key:e},[a("small-radio-button",{attrs:{label:e.name}},[t._v(t._s(e.name))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticClass:"input-with-select ",staticStyle:{width:"300px"},attrs:{placeholder:"请输入题目名称/题目编号",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("div",[a("title-bank-table",{ref:"$titleBankTable",staticClass:"publicItemBankList",attrs:{"bank-type":"1","selection-hide":t.isSuperAdmin,"table-data":t.tableData,loading:t.loading},on:{edit:t.edit,delete:t.deleteTopic,"add-to-basket":t.addToBasket,"move-to-basket":t.moveToBasket,collection:t.collectionTopic,"dis-collection":t.disCollectionTopic,SelectionData:t.selectProblemId}}),a("pagination",{ref:"$pagination",attrs:{api:t.submitApi,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("batch-action-checkbox-button",{attrs:{"data-length":this.tableDataLength,"check-length":this.selectDelDataLength},on:{handleCheckAllChange:function(e){return t.handleCheckAllChange()}}}),t.isSuperAdmin?a("el-button",{attrs:{size:"mini"},on:{click:t.batchDelBtn}},[t._v("批量删除")]):t._e()],1)],1),a("edit-topic-dialog",{ref:"$editTopicDialog",attrs:{data:t.tableData,api:t.api}}),a("el-dialog",{attrs:{title:"提示",visible:t.errorDialog,width:"30%",modal:!1},on:{"update:visible":function(e){t.errorDialog=e}}},[a("p",{staticStyle:{color:"red"}},[t._v("\n      以下试题已经存在提交记录，删除失败！\n    ")]),t._l(this.errorData,function(e,n){return a("div",{key:n,staticStyle:{display:"flex","justify-content":"center"}},[a("p",{staticStyle:{"text-align":"left",width:"60%"}},[t._v(t._s(e._id)+"--"+t._s(e.title))])])}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.errorDialog=!1}}},[t._v("确 定")])],1)],2),a("topic-basket",{on:{delbasket:t.delbasket}})],1)},i=[],l=a("3ebc"),o=a("78ce"),s=a("aeef"),r=a("325f"),c=a("0701"),u=a("9ed1"),d=a("4694"),p=a("c402"),m=a("374b"),f=a("3dec"),h=a("e432"),b=(a("6b17"),{components:{EditTopicDialog:h["a"],pagination:r["a"],"topic-basket":c["a"],"title-bank-table":s["a"],"small-radio-button":l["a"],"batch-action-checkbox-button":o["a"]},name:"PublicTopicBankPage",data:function(){return{errorDialog:!1,errorData:[],selectDelData:[],selectDelDataLength:0,submitApi:Object(p["Eb"])(),loading:!0,collectionList:[],difficultyValue:"",difficultyAll:"",difficultyArray:[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"},{value:"待定",label:"待定"}],topicStatusValue:"0",topicStatusArray:[{value:"0",label:"所有"},{value:"1",label:"可见"}],testTags_Type:[],testTagAll:"",testTagValue:"",tableData:[],tableDataLength:0,inputValue:"",pageHeaderName:"公有题库",langType:[{value:"C",label:"C语言"},{value:"C++",label:"C++语言"},{value:"Java",label:"Java语言"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}]}},computed:{isSuperAdmin:function(){return this.$store.state.baseInfo.u_type===u["a"].SUPER_ADMIN},isAdmin:function(){return this.$store.state.baseInfo.u_type===u["a"].ADMIN||this.$store.state.baseInfo.u_type===u["a"].SUPER_ADMIN}},watch:{errorDialog:function(t){t||(this.errorData=[])},difficultyValue:function(t){this.body.dif=t},testTagValue:function(t){this.body.tag=t},topicStatusValue:function(t){"1"!==t?"0"===t&&(delete this.body.visible,this.$refs.$pagination.forceRefresh()):this.$set(this.body,"visible",t)}},created:function(){var t=this;this.api=Object(p["c"])(),this.body={dif:"",tag:"",keyword:"",bank:"1"},this.getKeepList(),window.onbeforeunload=function(e){t.sendBasketData()}},mounted:function(){this.clickFocus()},beforeRouteLeave:function(t,e,a){this.sendBasketData(),a()},methods:{handleCheckAllChange:function(){this.$refs.$titleBankTable.toggleAllSelection()},selectProblemId:function(t){this.selectDelData=t,this.selectDelDataLength=t.length},batchDelBtn:function(){var t=this,e=this.selectDelData.map(function(t){return t.id}),a=this.selectDelData.map(function(t){return t._id});0!==e.length&&this.isSuperAdmin?m["a"].batchDeleteProblem(this,e,a,Object(p["o"])(),function(e){e.result?(t.selectDelData.map(function(e){t.$store.commit("delBasketData",e)}),t.$refs.$pagination.forceRefresh()):e.data?(e.data.map(function(e){t.selectDelData.map(function(a){e===a.id&&t.errorData.push({_id:a._id,title:a.title})})}),t.errorDialog=!0):Object(f["a"])("批量删除失败！","error",1e3,t)}):Object(f["a"])("至少选择一道删除的试题","error",1e3,this)},sendBasketData:function(){var t=[];this.$store.state.basketData.map(function(e,a){t[a]={},t[a]["id"]=e.id,t[a]["_id"]=e._id,t[a]["title"]=e.title});var e={uid:this.$store.state.baseInfo.uid,problem_basket:t};Object(d["f"])(Object(p["x"])(),e).then(function(t){})},delbasket:function(t){this.tableData.map(function(e){t.id===e.id&&(e.addtest=!0)})},getDate:function(t){var e=this;t.map(function(t){Object.assign(t,{addtest:!0},{collection:!0},{description:"",input_description:"",output_description:"",hint:"",samples:[{input:"",output:""}],answer:[{language:"",code:""}],template:[{language:"",code:""}],test_cases:[{input:"",output:""}]}),Object.assign(t,{isTestEdit:!1}),e.$store.state.basketData.map(function(e){e.id===t.id&&(t.addtest=!1)}),e.collectionList.map(function(e){e===t.id&&(t.collection=!1)}),e.$store.state.baseInfo.u_type===u["a"].TEACHER&&(t.isTestEdit=!0)}),this.tableData=t,this.tableDataLength=t.length},addToBasket:function(t,e){e.addtest=!1,this.$store.commit("addBasketData",e)},moveToBasket:function(t,e){e.addtest=!0,this.$store.commit("delBasketData",e)},collectionTopic:function(t,e){var a=this,n={problem_id:e.id};Object(d["f"])(Object(p["L"])(),n).then(function(t){"successful"===t.result?e.collection=!1:Object(f["a"])("收藏失败","error",1e3,a)})},disCollectionTopic:function(t,e){var a=this,n={problem_id:e.id};Object(d["c"])(Object(p["L"])(),n).then(function(t){"successful"===t.result?e.collection=!0:Object(f["a"])(t.data,"error",1e3,a)})},getKeepList:function(){var t=this;Object(d["d"])(Object(p["L"])()).then(function(e){"successful"===e.result?t.collectionList=e.data:t.$message({type:"error",message:e.data})})},inputBtn:function(){this.body.keyword=this.inputValue},delInputValue:function(){this.body.keyword=""},clickFocus:function(){var t=this;Object(d["d"])(Object(p["e"])()).then(function(e){t.testTags_Type=e.data})},deleteTopic:function(t,e){var a=this;m["a"].deleteProblem(this,t,e,Object(p["V"])(),function(n){n&&(a.$store.commit("delBasketData",e),a.tableData.splice(t,1))})},edit:function(t,e){this.$refs.$editTopicDialog.edit(t,e)}}}),v=b,g=a("2877"),y=Object(g["a"])(v,n,i,!1,null,"3ed5f65f",null);e["default"]=y.exports},"1e8e":function(t,e,a){"use strict";var n=a("4552"),i=a.n(n);i.a},"1fd3":function(t,e,a){},2013:function(t,e,a){},"251e":function(t,e,a){"use strict";var n=a("cb97"),i=a.n(n);i.a},2659:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-body-container",staticStyle:{background:"#E1E5E9"}},[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"space-between","align-items":"center"}},[a("class-manage-menu")],1),a("div",{staticStyle:{height:"16px"}}),a("div",[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"flex-end","align-items":"center"}},[a("div",{staticClass:"center"},[a("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:"请输入姓名",size:"mini",clearable:""},on:{clear:t.clearValue,change:t.valueChange},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.valueChange},slot:"append"})],1),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"mini",icon:"el-icon-refresh-left",type:"primary"},on:{click:t.reset}},[t._v("\n          重置\n        ")])],1)]),a("rank-table",{attrs:{data:t.data,total:t.total,loading:t.loading}}),a("pagination",{attrs:{api:t.api,body:t.body,"page-size":50},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)])},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("7a34"),f=a("779e"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.data=[],t.total=1,t.topTenNames=[],t.topTenSubmissionNumber=[],t.topTenAcceptedNumber=[],t.topTenAcceptedRate=[],t.createdNum=1,t.searchName="",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.api=Object(p["C"])(),this.body={real_name:"",level:this.$route.query.level,major:this.$route.query.major}}},{key:"getDate",value:function(t,e,a){if(1===this.createdNum){for(var n=0;n<10;n++){if(!t[n])break;this.topTenNames.push(t[n].real_name),this.topTenSubmissionNumber.push(t[n].submission_number),this.topTenAcceptedNumber.push(t[n].accepted_number),this.topTenAcceptedRate.push((100*t[n].accepted_number/t[n].submission_number).toFixed(1))}this.createdNum=this.createdNum+1}this.data=t,this.total=e*(a-1)+1}},{key:"reset",value:function(){this.searchName="",this.body.real_name=""}},{key:"clearValue",value:function(){this.body.real_name=""}},{key:"valueChange",value:function(){this.body.real_name=this.searchName}}]),e}(d["d"]);h=u["a"]([Object(d["a"])({components:{RankTable:f["a"],ClassManageMenu:m["a"]}})],h);var b=h,v=b,g=a("2877"),y=Object(g["a"])(v,n,i,!1,null,"34c99338",null);e["default"]=y.exports},2835:function(t,e,a){},"298b":function(t,e,a){"use strict";var n=a("3edf"),i=a.n(n);i.a},"29ed":function(t,e,a){"use strict";var n=a("ee30"),i=a.n(n);i.a},"2af3":function(t,e,a){"use strict";var n=a("1cdb"),i=a.n(n);i.a},"2be7":function(t,e,a){},"2c02":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header",{attrs:{title:t.titlename}},[a("back-button",{on:{click:t.btnadd}}),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("题库：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.bankValue,callback:function(e){t.bankValue=e},expression:"bankValue"}},[a("div",{staticStyle:{display:"table"}},t._l(this.bankType,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.topicStatusValue,callback:function(e){t.topicStatusValue=e},expression:"topicStatusValue"}},[a("div",{staticStyle:{display:"table"}},t._l(this.topicStatusArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("难度：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.difficultyValue,callback:function(e){t.difficultyValue=e},expression:"difficultyValue"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},[a("small-radio-button",{attrs:{label:t.difficultyAll}},[t._v("全部")]),t._l(this.difficultyArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("考点：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.testTagValue,callback:function(e){t.testTagValue=e},expression:"testTagValue"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("small-radio-button",{attrs:{label:t.testTagAll}},[t._v("全部")]),t._l(this.testTags_Type,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.name}},[t._v(t._s(e.name))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入题目名称/编号",size:"mini",clearable:""},on:{change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("div",{staticClass:"filterTitle_cont"},[a("topic-bank-table",{staticClass:"filterTitleList",attrs:{loading:t.loading,"bank-type":t.banks,tablep:t.tablep,"selection-hide":!1,"table-data":t.tableData},on:{"add-to-basket":t.addtest,"move-to-basket":t.deltest}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("5880"),s=a("aeef"),r=a("325f"),c=a("3ebc"),u=a("c402"),d=a("4694");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var f={name:"CreateContestSelectTopicPage",components:{"topic-bank-table":s["a"],pagination:r["a"],"small-radio-button":c["a"]},data:function(){return{loading:!0,searchTopicStatus:"1",testTags_Type:[],testTagValue:"",testTagAll:"",inBasketTopic:[],difRadio_All:"",difRadio_Simple:"简单",difRadio_Medium:"中等",difRadio_Difficult:"困难",api:"",body:{},tableData:[],addFlag:!0,titlename:"从题库中添加题目",tablep:"/testListexpand",difficultyValue:"",difficultyAll:"",difficultyArray:[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"},{value:"待定",label:"待定"}],inputValue:"",bankType:[{value:"1",label:"公有题库"},{value:"2",label:"私有题库"}],topicStatusValue:"1",topicStatusArray:[{value:"1",label:"可见"},{value:"0",label:"所有"}],banks:"1",bankValue:"1",collectionList:[]}},watch:{difficultyValue:function(t){this.body.dif=t},testTagValue:function(t){this.body.tag=t},bankValue:function(t){this.body.bank=t},topicStatusValue:function(t){"1"!==t?"0"===t&&(delete this.body.visible,this.$refs.$pagination.forceRefresh()):this.$set(this.body,"visible",t)}},created:function(){this.api=Object(u["c"])(),this.body={tag:"",dif:"",keyword:"",bank:"1",visible:this.topicStatusValue}},mounted:function(){this.clickFocus()},methods:m({},Object(o["mapMutations"])(["addTestData","DelTestData"]),{btnadd:function(){this.$router.back()},clickFocus:function(){var t=this;Object(d["d"])(Object(u["e"])()).then(function(e){t.testTags_Type=e.data})},addtest:function(t,e){if(0!==e.old_pro_id){var a=e;this.inBasketTopic.push(e.old_pro_id),e.addtest=!1,this.$store.commit("addTestData",a)}else this.inBasketTopic.push(e.id),e.addtest=!1,this.$store.commit("addTestData",e)},deltest:function(t,e){e.addtest=!0,this.$store.commit("DelTestData",e)},listDefault:function(){},listLatest:function(){},listHottest:function(){},getDate:function(t){var e=this;t.map(function(t){t.old_pro_id&&(t._id=t.old_pro_dis_id),Object.assign(t,{addtest:!0},{description:"",input_description:"",output_description:"",hint:"",samples:[{input:"",output:""}],answer:[{language:"",code:""}],template:[{language:"",code:""}],test_cases:[{input:"",output:""}]}),e.$store.state.testDataList.map(function(e){e.id!==t.id&&e.id!==t.old_pro_id||(t.addtest=!1)})}),this.tableData=t},inputBtn:function(t){this.body.keyword=t}})},h=f,b=(a("3957"),a("2877")),v=Object(b["a"])(h,n,i,!1,null,"e0680082",null);e["default"]=v.exports},"326a":function(t,e,a){},3293:function(t,e,a){},3459:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},i=[],l=a("d225"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=function(t){function e(){return Object(l["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(u["d"]);d=c["a"]([u["a"]],d);var p=d,m=p,f=a("2877"),h=Object(f["a"])(m,n,i,!1,null,"97b7568e",null);e["default"]=h.exports},"34ce":function(t,e,a){},"368b":function(t,e,a){},"374b":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return l});var n=a("4694"),i={userSwitch:function(t,e,a){var i=e.is_disabled?"冻结":"启用";t.$msgbox.confirm("此操作将"+i+'<span style="color:red">'+e.userprofile__real_name+"</span>的账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var l={id:e.id,opera:e.is_disabled};Object(n["g"])(a,l).then(function(a){"successful"===a.result?t.$message.success(i+"成功"):(a.result,e.is_disabled=!e.is_disabled,t.$message.error(a.data))})}).catch(function(){e.is_disabled=!e.is_disabled,t.$message.info("已取消"+i)})},deleteUser:function(t,e,a,i,l){t.$msgbox.confirm('此操作将删除<span style="color:red">'+a.userprofile__real_name+"</span>的账号信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var e={ids:a.id};Object(n["c"])(i,e).then(function(e){"successful"===e.result?(t.$message.success("删除成功"),l(!0)):"error"===e.result&&(t.$message.error(e.data),l(!1))})}).catch(function(){t.$message.info("已取消删除"),l(!1)})}},l={deleteProblem:function(t,e,a,i,l){t.$msgbox.confirm('此操作将删除编号为<span style="color:red">'+a._id+"</span>试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var e={id:a.id};Object(n["c"])(i,e).then(function(e){"successful"===e.result?(t.$message.success("删除成功"),l(!0)):(e.result,t.$message.error(e.data),l(!1))})}).catch(function(){t.$message.info("已取消删除")})},batchDeleteProblem:function(t,e,a,i,l){t.$msgbox.confirm('此操作将删除以下编号的的试题：<p style="color:red;width: 351px;word-wrap:break-word;"> '.concat(a.join(),"</p>是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var a={delete_pro_ids:e};Object(n["f"])(i,a).then(function(e){"successful"===e.result?(t.$message.success("删除成功"),l({result:!0})):"error"===e.result?0!==e.data.length&&l({result:!1,data:e.data}):l({result:!1,data:e.data})})}).catch(function(){t.$message.info("已取消删除")})},problemSwitch:function(t,e,a){var i=e.visible?"公开":"不公开";t.$msgbox.confirm("此操作将"+i+'<span style="color:red">'+e._id+"</span>的试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var l={_id:e._id,id:e.id,visible:e.visible};Object(n["g"])(a,l).then(function(a){"successful"===a.result?t.$message.success(i+"成功"):(a.result,e.visible=!e.visible,t.$message.error(a.data))})}).catch(function(){e.visible=!e.visible,t.$message.info("已取消"+i)})}}},3957:function(t,e,a){"use strict";var n=a("2be7"),i=a.n(n);i.a},"3c0a":function(t,e,a){},"3c8c":function(t,e,a){"use strict";var n=a("065e"),i=a.n(n);i.a},"3ebc":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-radio",{staticClass:"radio",attrs:{label:t.label,value:t.value,border:!0,disabled:t.disabled}},[t._t("default")],2)},i=[],l=a("d225"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=function(t){function e(){return Object(l["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(u["d"]);c["a"]([Object(u["c"])()],d.prototype,"label",void 0),c["a"]([Object(u["c"])()],d.prototype,"value",void 0),c["a"]([Object(u["c"])()],d.prototype,"disabled",void 0),d=c["a"]([u["a"]],d);var p=d,m=p,f=(a("5260"),a("2877")),h=Object(f["a"])(m,n,i,!1,null,"47d3759a",null);e["a"]=h.exports},"3ed2":function(t,e,a){"use strict";var n=a("97e4"),i=a.n(n);i.a},"3edf":function(t,e,a){},"3f60":function(t,e,a){},"401a":function(t,e,a){},"43f0":function(t,e,a){},4552:function(t,e,a){},"455e":function(t,e,a){"use strict";var n=a("6404"),i=a.n(n);i.a},4561:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageTitle}},[a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.accountStatus,callback:function(e){t.accountStatus=e},expression:"accountStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.accountStatusType,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("院系：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.facultyValue,callback:function(e){t.facultyValue=e},expression:"facultyValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.facultyAll}},[t._v("全部")]),t._l(this.facultyData,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/工号",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("admin-list-table",{attrs:{loading:t.loading,"table-data":t.tableData},on:{update:t.update,delclickStd:t.deleteStu}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t.isShowDialog?a("user-modify-dialog",{attrs:{"user-data":t.userData,"selected-faculty":{selected:t.selectedFaculty},"faculty-data":t.facultyData,"form-label-width":t.formLabelWidth,"dialog-visible":t.dialogFormStudent},on:{studentPut:t.studentPut,closeDialog:t.closeDialog}}):t._e()],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("4694"),m=a("c7d1"),f=a("dbce"),h=a("c402"),b=a("374b"),v=a("3dec"),g=a("9ed1"),y=a("4191"),_=a("3ebc"),w=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.pageTitle="管理员列表",t.facultyValue="",t.facultyData=[],t.facultyAll="",t.accountStatus="所有",t.accountStatusType=[{value:"所有",label:"所有"},{value:"可用",label:"可用"},{value:"不可用",label:"不可用"}],t.StudentFacultyData=[],t.AdminFacultyData=[],t.selectedFaculty=[],t.tableData=[],t.inputValue="",t.dialogFormStudent=!1,t.isShowDialog=!0,t.userData={},t.formLabelWidth="90px",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this;this.api=Object(h["f"])(),this.body={user_type:4},Object(p["d"])(Object(h["Lb"])()).then(function(e){t.StudentFacultyData=e.data,t.AdminFacultyData=e.data.map(function(t){return{value:t.value,label:t.value}}),t.facultyData=t.AdminFacultyData})}},{key:"onAccountStatusChange",value:function(t){"可用"===t?this.$set(this.body,"status",!0):"不可用"===t?this.$set(this.body,"status",!1):"所有"===t&&(this.$set(this.body,"status",null),delete this.body.status)}},{key:"onAccountDepartmentChange",value:function(t){t?(this.$set(this.body,"department",t),this.$set(this.body,"info",!0)):(this.$set(this.body,"department",null),delete this.body.department,this.$set(this.body,"info",null),delete this.body.info)}},{key:"onUserTypeChange",value:function(t){t===g["a"].REGULAR_USER?this.facultyData=this.StudentFacultyData:this.facultyData=this.AdminFacultyData}},{key:"closeDialog",value:function(t){this.isShowDialog=t}},{key:"getDate",value:function(t){var e=this;t.map(function(t){Object.assign(t,{isDisabledAdmin:!1}),t.id!==e.$store.state.baseInfo.uid&&e.$store.state.baseInfo.u_type!==g["a"].SUPER_ADMIN||(t.isDisabledAdmin=!0)}),this.tableData=t}},{key:"inputBtn",value:function(){this.$set(this.body,"keyword",this.inputValue)}},{key:"delInputValue",value:function(){this.$set(this.body,"keyword",null),delete this.body.keyword}},{key:"update",value:function(t,e){var a=this;this.isShowDialog=!0;var n={id:e.id};Object(p["d"])(Object(h["hb"])(),n).then(function(t){a.userData=t.data,a.userData.user.create_time=Object(y["d"])(a.userData.user.create_time),a.selectedFaculty.length=0,a.selectedFaculty.push(a.userData.department),a.dialogFormStudent=!0})}},{key:"studentPut",value:function(t){var e=this;Object(p["g"])(Object(h["Fb"])(),t).then(function(t){"successful"===t.result?(Object(v["a"])("修改成功","success",1e3,e),e.$refs.$pagination.forceRefresh()):"error"===t.result&&Object(v["a"])(t.data,"error",1e3,e),e.dialogFormStudent=!1})}},{key:"deleteStu",value:function(t,e){var a=this;b["b"].deleteUser(this,t,e,Object(h["W"])(),function(t){t&&a.$refs.$pagination.forceRefresh()})}}]),e}(d["d"]);u["a"]([Object(d["e"])("accountStatus")],w.prototype,"onAccountStatusChange",null),u["a"]([Object(d["e"])("facultyValue")],w.prototype,"onAccountDepartmentChange",null),u["a"]([Object(d["e"])("userData.user.admin_type")],w.prototype,"onUserTypeChange",null),w=u["a"]([Object(d["a"])({components:{"admin-list-table":m["a"],"user-modify-dialog":f["a"],"small-radio-button":_["a"]}})],w);var A=w,k=A,x=a("2877"),S=Object(x["a"])(k,n,i,!1,null,"180cdfa2",null);e["default"]=S.exports},"459c":function(t,e,a){},"4a10":function(t,e,a){},"4a22":function(t,e,a){},"4a87":function(t,e,a){"use strict";var n=a("c499"),i=a.n(n);i.a},"4b5f":function(t,e,a){},"4d1e":function(t,e,a){"use strict";function n(t){for(var e,a="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=0;i<t;i++)e=Math.round(Math.random()*(n.length-1)),a+=n[e];return a}a.d(e,"a",function(){return n})},"4f7f":function(t,e,a){"use strict";var n=a("c26b"),i=a("b39a"),l="Set";t.exports=a("e0b8")(l,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,l),t=0===t?0:t,t)}},n)},5260:function(t,e,a){"use strict";var n=a("368b"),i=a.n(n);i.a},5644:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.titleName}}),a("step-view",{attrs:{step:t.step,"step-title":t.stepTitle}}),a("div",{staticStyle:{height:"56px"}}),a("router-view"),a("div",{staticStyle:{height:"24px"}})],1)},i=[],l=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.titleName="批量导入",t.stepTitle=[{title:"上传模板"},{title:"批量导入"},{title:"完成"}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.titleName="private"==this.$route.params.topicType?"私有题库 - 批量导入":"公有题库 - 批量导入"}},{key:"step",get:function(){switch(this.$route.name){case"ImportTopicTemplatePage":return 0;case"ImportTopicProcessPage":return 1;case"ImportTopicEndPage":return 2;default:return"unkown"}}}]),e}(d["d"]);p=u["a"]([d["a"]],p);var m=p,f=m,h=a("2877"),b=Object(h["a"])(f,n,i,!1,null,"1331403d",null);e["default"]=b.exports},"57bb":function(t,e,a){"use strict";var n=a("5d7c"),i=a.n(n);i.a},5854:function(t,e,a){},5937:function(t,e,a){"use strict";var n=a("060c"),i=a.n(n);i.a},"59ca":function(t,e,a){},"5af0":function(t,e,a){"use strict";var n=a("2835"),i=a.n(n);i.a},"5d7c":function(t,e,a){},"5ddf":function(t,e,a){},"5f34":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-body-container"},[a("div",[a("router-view")],1)])},i=[],l={name:"ClassManagePage"},o=l,s=(a("9257"),a("2877")),r=Object(s["a"])(o,n,i,!1,null,"4a8ef9f3",null);e["default"]=r.exports},"62b9":function(t,e,a){},"63d3":function(t,e,a){"use strict";var n=a("62b9"),i=a.n(n);i.a},6404:function(t,e,a){},"64da":function(t,e,a){"use strict";var n=a("fb69"),i=a.n(n);i.a},"657a":function(t,e,a){"use strict";a.r(e);var n=a("d225"),i=a("308d"),l=a("6bb5"),o=a("4e2b"),s=a("9ab4"),r=a("60a3"),c=a("b691"),u=function(t){function e(){return Object(n["a"])(this,e),Object(i["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(o["a"])(e,t),e}(Object(r["b"])(c["a"]));u=s["a"]([r["a"]],u),e["default"]=u},"65df":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",limit:1,"auto-upload":!1,"on-progress":t.uploadSuccess,"http-request":t.upLoadChange,action:"uploadUrl","before-upload":t.beforeUpload,accept:".xml"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("\n      将文件拖到此处，或\n      "),a("em",[t._v("点击上传")])])]),a("div",{staticStyle:{height:"32px"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitUpload}},[t._v("开始导入")])],1)},i=[],l=(a("28a5"),a("7f7f"),a("a481"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("3dec"),f=a("4694"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.uploadUrl=Object(p["sb"])(),t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"upLoadChange",value:function(t){var e=this,a=new FormData;a.append("file",t.file),a.append("bank","private"==this.$route.params.topicType?2:1);var n=function(e){e.percent=e.loaded/e.total*100,t.onProgress(e)};Object(f["e"])(Object(p["sb"])(),a,{},{onUploadProgress:n}).then(function(t){"successful"===t.result?(e.$store.commit("ItemImportCount",t.data.import_count),e.$router.replace({name:"ImportTopicEndPage",params:{step:"2"}}),Object(m["a"])("上传成功","success",1e3,e)):e.$confirm("试题导入失败, 请检查格式","提示",{confirmButtonText:"确定",showCancelButton:!1,type:"error",center:!0,showClose:!1,dangerouslyUseHTMLString:!0}).then(function(){e.$router.replace({name:"ImportTopicTemplatePage",params:{step:"0"}})})})}},{key:"beforeUpload",value:function(t){var e=t.name,a=e.split(".");return"xml"!==a[1]?(this.$message.error("上传文件只能是 xml 格式!"),!1):a}},{key:"submitUpload",value:function(){this.$refs.upload.submit()}},{key:"uploadSuccess",value:function(t){100==t.percent&&this.$router.replace({name:"ImportTopicProcessPage",params:{step:"1"}})}}]),e}(d["d"]);h=u["a"]([d["a"]],h);var b=h,v=b,g=a("2877"),y=Object(g["a"])(v,n,i,!1,null,"6fc38b1a",null);e["default"]=y.exports},"66b7":function(t,e,a){},6710:function(t,e,a){"use strict";var n=a("66b7"),i=a.n(n);i.a},6770:function(t,e,a){},"69e0":function(t,e,a){"use strict";var n=a("4b5f"),i=a.n(n);i.a},"6a01":function(t,e,a){"use strict";var n=a("f262"),i=a.n(n);i.a},"6a71":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("action-record-table",{attrs:{data:t.data,loading:t.loading}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"5 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}}},[a("el-table-column",{attrs:{align:"center",label:"id",prop:"id",width:"100"}}),a("el-table-column",{attrs:{align:"center",label:"用户id",prop:"uid",width:"100"}}),a("el-table-column",{attrs:{align:"center",label:"用户权限",prop:"u_type",width:"150"}}),a("el-table-column",{attrs:{align:"center",label:"时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getTimeGMT(e.row.action_time))+"\n    ")]}}])}),a("el-table-column",{attrs:{label:"api",prop:"api"}}),a("el-table-column",{attrs:{align:"center",label:"动作",prop:"action",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return["PUT"===e.row.action?a("span",[t._v("修改")]):t._e(),"POST"===e.row.action?a("span",[t._v("创建")]):t._e(),"DELETE"===e.row.action?a("span",[t._v("删除")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"当前界面",prop:"location"}})],1)},f=[],h=a("4191"),b=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.getTimeGMT=h["d"],t}return Object(c["a"])(e,t),e}(d["d"]);u["a"]([Object(d["c"])()],b.prototype,"data",void 0),u["a"]([Object(d["c"])()],b.prototype,"loading",void 0),b=u["a"]([d["a"]],b);var v=b,g=v,y=a("2877"),_=Object(y["a"])(g,m,f,!1,null,"1ae183d3",null),w=_.exports,A=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.data=[],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.api=Object(p["w"])(),this.body={}}},{key:"getDate",value:function(t){this.data=t}}]),e}(d["d"]);A=u["a"]([Object(d["a"])({components:{ActionRecordTable:w}})],A);var k=A,x=k,S=Object(y["a"])(x,n,i,!1,null,"15be9180",null);e["default"]=S.exports},"6b12":function(t,e,a){"use strict";var n=a("59ca"),i=a.n(n);i.a},"6f87":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"school-setting-page"},[a("div",{staticClass:"Setting-SchoolData"},[a("p",{staticClass:"title"},[t._v("学校信息")]),a("el-form",{ref:"SchoolDataFrom",staticStyle:{width:"50%","max-width":"700px"},attrs:{"label-position":"right",rules:t.SchoolDataFromRules,model:t.SchoolDataFrom,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"学校名称:",prop:"name",required:""}},[a("el-input",{attrs:{disabled:this.SchoolDataStatus,placeholder:"请输入学校名字"},model:{value:t.SchoolDataFrom.name,callback:function(e){t.$set(t.SchoolDataFrom,"name",e)},expression:"SchoolDataFrom.name"}})],1),a("el-form-item",{attrs:{label:"学校地址:",required:""}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"address.province"}},[a("el-select",{attrs:{disabled:this.SchoolDataStatus,placeholder:"请选择省份"},model:{value:t.SchoolDataFrom.address.province,callback:function(e){t.$set(t.SchoolDataFrom.address,"province",e)},expression:"SchoolDataFrom.address.province"}},t._l(t.provOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),a("el-col",{attrs:{span:1}},[t._v(" ")]),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"address.city"}},[a("el-select",{attrs:{disabled:this.SchoolDataStatus,placeholder:"请选择城市"},model:{value:t.SchoolDataFrom.address.city,callback:function(e){t.$set(t.SchoolDataFrom.address,"city",e)},expression:"SchoolDataFrom.address.city"}},t._l(t.cityOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1),a("el-col",{attrs:{span:1}},[t._v(" ")]),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{prop:"address.area"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:this.SchoolDataStatus,placeholder:"请选择地区"},model:{value:t.SchoolDataFrom.address.area,callback:function(e){t.$set(t.SchoolDataFrom.address,"area",e)},expression:"SchoolDataFrom.address.area"}},t._l(t.districtOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})}),1)],1)],1)],1),a("el-form-item",{attrs:{label:"学校电话:",prop:"telephone"}},[a("el-input",{attrs:{disabled:this.SchoolDataStatus,placeholder:"请输入学校联系电话"},model:{value:t.SchoolDataFrom.telephone,callback:function(e){t.$set(t.SchoolDataFrom,"telephone",e)},expression:"SchoolDataFrom.telephone"}})],1),a("el-form-item",{attrs:{label:"学校介绍:"}},[a("el-input",{attrs:{type:"textarea",disabled:this.SchoolDataStatus,placeholder:"请输入学校介绍......"},model:{value:t.SchoolDataFrom.Introduction,callback:function(e){t.$set(t.SchoolDataFrom,"Introduction",e)},expression:"SchoolDataFrom.Introduction"}})],1),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submitSchoolData("SchoolDataFrom")}}},[t._v("\n        "+t._s(this.SchoolDataStatus?"修改":"保存")+"\n      ")])],1)],1),a("div",{staticClass:"Setting-Principal"},[a("p",{staticClass:"title"},[t._v("负责人信息")]),a("el-form",{ref:"PrincipalDataFrom",staticStyle:{width:"50%","max-width":"700px"},attrs:{"label-position":"right",rules:t.PrincipalDataRules,model:t.PrincipalDataFrom,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"姓名:"}},[a("el-input",{attrs:{disabled:this.PrincipalStatus},model:{value:t.PrincipalDataFrom.name,callback:function(e){t.$set(t.PrincipalDataFrom,"name",e)},expression:"PrincipalDataFrom.name"}})],1),a("el-form-item",{attrs:{label:"手机号码:",prop:"phone"}},[a("el-input",{attrs:{disabled:this.PrincipalStatus},model:{value:t.PrincipalDataFrom.phone,callback:function(e){t.$set(t.PrincipalDataFrom,"phone",e)},expression:"PrincipalDataFrom.phone"}})],1),a("el-form-item",{attrs:{label:"QQ:"}},[a("el-input",{attrs:{disabled:this.PrincipalStatus},model:{value:t.PrincipalDataFrom.qq,callback:function(e){t.$set(t.PrincipalDataFrom,"qq",e)},expression:"PrincipalDataFrom.qq"}})],1),a("el-form-item",{attrs:{label:"微信号:"}},[a("el-input",{attrs:{disabled:this.PrincipalStatus},model:{value:t.PrincipalDataFrom.wechat,callback:function(e){t.$set(t.PrincipalDataFrom,"wechat",e)},expression:"PrincipalDataFrom.wechat"}})],1),a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{attrs:{disabled:this.PrincipalStatus},model:{value:t.PrincipalDataFrom.email,callback:function(e){t.$set(t.PrincipalDataFrom,"email",e)},expression:"PrincipalDataFrom.email"}})],1),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submitPrincipal("PrincipalDataFrom")}}},[t._v("\n        "+t._s(this.PrincipalStatus?"修改":"保存")+"\n      ")])],1)],1)])},i=[],l=(a("a50d"),a("4694")),o=a("c402"),s=a("7b0a"),r=a("3dec"),c={data:function(){return{PrincipalStatus:!0,SchoolDataStatus:!0,SchoolDataFrom:{name:"",address:{area:"",city:"",province:""},telephone:"",Introduction:""},provOptions:[],cityOptions:[],districtOptions:[],SchoolDataFromRules:{name:[{required:!0,message:"请输入学校名字",trigger:"blur"},{validator:s["f"],trigger:"blur"}],telephone:[{validator:s["d"],trigger:"blur"}],"address.province":[{required:!0,message:"请选择学校所在省份",trigger:"blur"}],"address.city":[{required:!0,message:"请选择学校所在城市",trigger:"blur"}],"address.area":[{required:!0,message:"请选择学校所在地区",trigger:"blur"}]},PrincipalDataFrom:{name:"",phone:"",qq:"",wechat:"",email:""},PrincipalDataRules:{phone:[{validator:s["c"],trigger:"blur"}],email:[{validator:s["b"],trigger:"blur"}]}}},mounted:function(){this.provOptions=ChinaCity.getProvince(),this.getSchoolData()},methods:{getSchoolData:function(){var t=this;Object(l["d"])(Object(o["y"])()).then(function(e){"successful"===e.result?(t.SchoolDataFrom=e.data.school_detail,t.PrincipalDataFrom=e.data.school_manager):Object(r["a"])(e.data,"error",1e3,t)})},submitSchoolData:function(t){var e=this;this.SchoolDataStatus||this.$refs[t].validate(function(t){if(!t)return Object(r["a"])("错误的提交","error",1e3,e),!1;var a={which_one:"school_detail",school_detail:e.SchoolDataFrom};Object(l["f"])(Object(o["y"])(),a).then(function(t){"successful"===t.result?(e.getSchoolData(),Object(r["a"])("修改成功","success",1e3,e)):Object(r["a"])(t.data,"error",1e3,e)})}),this.SchoolDataStatus=!this.SchoolDataStatus},submitPrincipal:function(t){var e=this;this.PrincipalStatus||this.$refs[t].validate(function(t){if(!t)return Object(r["a"])("错误的提交","error",1e3,e),!1;var a={which_one:"school_manager",school_manager:e.PrincipalDataFrom};Object(l["f"])(Object(o["y"])(),a).then(function(t){"successful"===t.result?(e.getSchoolData(),Object(r["a"])("修改成功","success",1e3,e)):Object(r["a"])(t.data,"error",1e3,e)})}),this.PrincipalStatus=!this.PrincipalStatus}},watch:{"SchoolDataFrom.address.province":function(){this.cityOptions=ChinaCity.getCity(this.SchoolDataFrom.address.province),this.SchoolDataFrom.address.city=this.cityOptions[0].value},"SchoolDataFrom.address.city":function(){this.districtOptions=ChinaCity.getArea(this.SchoolDataFrom.address.province,this.SchoolDataFrom.address.city),this.SchoolDataFrom.address.area=this.districtOptions[0].value}}},u=c,d=(a("f382"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);e["default"]=p.exports},7137:function(t,e,a){"use strict";var n=a("1fd3"),i=a.n(n);i.a},"71b2":function(t,e,a){"use strict";var n=a("459c"),i=a.n(n);i.a},"73c2":function(t,e,a){"use strict";a.r(e);var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("eb5e"),d=a("f534"),p=function(t){function e(){return Object(n["a"])(this,e),Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu-admin",[this.renderMenuSlot()])}}]),e}(Object(c["b"])(u["a"]));p=r["a"]([Object(c["a"])({components:{ContestDetailMenuAdmin:d["a"]}})],p),e["default"]=p},7419:function(t,e,a){},"779e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}}},[a("el-table-column",{attrs:{align:"center",label:"排名",type:"index",index:t.total,width:"80px"}}),a("el-table-column",{attrs:{label:"姓名",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot",staticStyle:{"justify-content":"flex-start"}},[a("el-avatar",{staticStyle:{height:"25px",width:"25px"},attrs:{src:e.row.avatar}}),a("span",{staticClass:"user-name",on:{click:function(a){return t.handleClickRealNameEvent(e.row.user_id)}}},[t._v(t._s(e.row.real_name))])],1)}}])}),a("el-table-column",{attrs:{align:"center",label:"通过数量"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",{staticStyle:{color:"#1b8cd0",cursor:"pointer"},on:{click:function(a){return t.handleClickAcceptedSubmit(e.row.real_name)}}},[t._v("\n        "+t._s(e.row.accepted_number)+"\n      ")])])}}])}),a("el-table-column",{attrs:{align:"center",label:"提交数量"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",{staticStyle:{color:"#1b8cd0",cursor:"pointer"},on:{click:function(a){return t.handleClickSubmit(e.row.real_name)}}},[t._v("\n        "+t._s(e.row.submission_number)+"\n      ")])])}}])}),a("el-table-column",{attrs:{align:"center",label:"通过率"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v("\n        "+t._s(0===e.row.submission_number?"0.0%":(100*e.row.accepted_number/e.row.submission_number).toFixed(1)+"%")+"\n      ")])])}}])})],1)},i=[],l=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"handleClickRealNameEvent",value:function(t){this.$emit("clickName",t)}},{key:"handleClickAcceptedSubmit",value:function(t){"ClassRankPage"===this.$route.name?this.$router.push({name:"ClassSubmitStatusPage",query:{result:"0",keyword:t,level:this.$route.query.level,major:this.$route.query.major}}):this.$router.push({name:"SubmitStatePage",query:{result:"0",keyword:t}})}},{key:"handleClickSubmit",value:function(t){"ClassRankPage"===this.$route.name?this.$router.push({name:"ClassSubmitStatusPage",query:{keyword:t,level:this.$route.query.level,major:this.$route.query.major}}):this.$router.push({name:"SubmitStatePage",query:{keyword:t}})}}]),e}(d["d"]);u["a"]([Object(d["c"])()],p.prototype,"data",void 0),u["a"]([Object(d["c"])()],p.prototype,"loading",void 0),u["a"]([Object(d["c"])()],p.prototype,"total",void 0),p=u["a"]([d["a"]],p);var m=p,f=m,h=(a("71b2"),a("2877")),b=Object(h["a"])(f,n,i,!1,null,"2314cd80",null);e["a"]=b.exports},"78a4":function(t,e,a){"use strict";var n=a("cf46"),i=a.n(n);i.a},"78ce":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-checkbox",{style:t.style,attrs:{indeterminate:t.isIndeterminate},on:{change:function(e){return t.handleCheckAllChange()}},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.checkAll=!1,t.isIndeterminate=!1,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"checkLengthChange",value:function(){this.checkAll=this.checkLength===this.dataLength,this.isIndeterminate=this.checkLength>0&&this.checkLength<this.dataLength}},{key:"dataLengthChange",value:function(){this.checkAll=!1,this.isIndeterminate=!1}},{key:"handleCheckAllChange",value:function(){this.$emit("handleCheckAllChange")}}]),e}(d["d"]);u["a"]([Object(d["c"])({default:"margin: 14px"})],p.prototype,"style",void 0),u["a"]([Object(d["c"])()],p.prototype,"dataLength",void 0),u["a"]([Object(d["c"])()],p.prototype,"checkLength",void 0),u["a"]([Object(d["e"])("checkLength",{deep:!0})],p.prototype,"checkLengthChange",null),u["a"]([Object(d["e"])("dataLength",{deep:!0})],p.prototype,"dataLengthChange",null),p=u["a"]([Object(d["a"])({})],p);var m=p,f=m,h=a("2877"),b=Object(h["a"])(f,n,i,!1,null,"688ace1d",null);e["a"]=b.exports},7932:function(t,e,a){"use strict";var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("c402"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F9F9F9",color:"#000000"}}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row._id))])])}}])}),a("el-table-column",{attrs:{label:"题目"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",{staticClass:"exam-title",on:{click:function(a){return t.clickTopic(e.row.id)}}},[t._v(t._s(e.row.title))])])}}])}),a("el-table-column",{attrs:{label:"正确/提交",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"exam-title",on:{click:function(a){return t.handleClickAcceptedSubmit(e.row._id)}}},[t._v("\n        "+t._s(e.row.accepted_number)+"\n      ")]),t._v("\n      /\n      "),a("span",{staticClass:"exam-title",on:{click:function(a){return t.handleClickSubmit(e.row._id)}}},[t._v(t._s(e.row.submission_number))])]}}])}),t.isShowPassRate?a("el-table-column",{attrs:{prop:"passRate",label:"通过率",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v("\n        "+t._s(0===e.row.submission_number?"0.0%":(100*e.row.accepted_number/e.row.submission_number).toFixed(1)+"%")+"\n      ")])])}}],null,!1,2985896323)}):t._e(),a("el-table-column",{attrs:{label:"难易度",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("tag",{attrs:{type:t.difficult(e.row.difficulty),size:"mini",effect:"dark",round:!0}},[t._v("\n        "+t._s(e.row.difficulty)+"\n      ")])],1)}}])})],1)},p=[],m=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.isShowPassRate=!0,t.isShowDifficult=!0,t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"difficult",value:function(t){switch(t){case"简单":return"success";case"中等":return"warning";case"困难":return"danger";default:return}}},{key:"clickTopic",value:function(t){"admin"!==this.$route.query.type&&this.$router.push({name:"AnswerQuestionPageContest",params:{proID:t}})}},{key:"handleClickAcceptedSubmit",value:function(t){var e=this.$route.query,a={name:"ContestSubmitStatusPage",query:{result:"0",keyword:t}};e&&(a.query=Object.assign(a.query,e)),this.$router.push(a)}},{key:"handleClickSubmit",value:function(t){var e=this.$route.query,a={name:"ContestSubmitStatusPage",query:{keyword:t}};e&&(a.query=Object.assign(a.query,e)),this.$router.push(a)}}]),e}(c["d"]);r["a"]([Object(c["c"])()],m.prototype,"data",void 0),r["a"]([Object(c["c"])()],m.prototype,"loading",void 0),m=r["a"]([c["a"]],m);var f=m,h=f,b=(a("ae85"),a("2877")),v=Object(b["a"])(h,d,p,!1,null,"e0e91600",null),g=v.exports,y=a("e4f7"),_=(a("8b25"),function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.prefix="contest-topic-list-page",t.loading=!0,t.api="",t.body={},t.data=[],t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{attrs:{className:"".concat(this.prefix)}},[this.renderMenu(),e("exam-topic-list-table",{attrs:{data:this.data,loading:this.loading}}),e("pagination",{attrs:{value:this.loading,api:this.api,body:this.body},on:{input:function(e){return t.loading=e},getDate:this.getDate}})])}},{key:"created",value:function(){this.api=Object(u["O"])(),this.body={contest_id:this.$route.params.examID}}},{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu")}},{key:"getDate",value:function(t){this.data=t}}]),e}(c["d"]));_=r["a"]([Object(c["a"])({components:{ContestDetailMenu:y["a"],ExamTopicListTable:g}})],_);e["a"]=_},7959:function(t,e,a){"use strict";var n=a("34ce"),i=a.n(n);i.a},"7a18":function(t,e,a){"use strict";var n=a("326a"),i=a.n(n);i.a},"7a34":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ClassManageMenu"},[a("div",{staticStyle:{width:"20px"}}),a("img",{staticStyle:{width:"20px",height:"20px",cursor:"pointer"},attrs:{src:t.iconQuit,alt:"返回"},on:{click:function(e){return t.goBack()}}}),a("div",{staticStyle:{width:"10px"}}),a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"ClassContestListPage"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("竞赛列表")])]),a("el-menu-item",{attrs:{index:"ClassStudentListPage"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("学生列表")])]),a("el-menu-item",{attrs:{index:"ClassRankPage"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("排名")])]),a("el-menu-item",{attrs:{index:"ClassSubmitStatusPage"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("状态")])])],1),a("div",{staticStyle:{width:"20px"}})],1)},i=[],l=(a("7f7f"),a("8564")),o={name:"ExamStatusNavMenu",data:function(){return{activeIndex:"",iconQuit:l["I"]}},methods:{handleSelect:function(t){this.activeIndex=t,this.$router.push({name:t,query:{level:this.$route.query.level,major:this.$route.query.major}})},goBack:function(){this.$router.push({name:"ClassListPage"})}},created:function(){this.activeIndex=this.$route.name}},s=o,r=(a("2af3"),a("2877")),c=Object(r["a"])(s,n,i,!1,null,null,null);e["a"]=c.exports},"7b0a":function(t,e,a){"use strict";a.d(e,"e",function(){return n}),a.d(e,"a",function(){return i}),a.d(e,"g",function(){return l}),a.d(e,"c",function(){return o}),a.d(e,"b",function(){return s}),a.d(e,"f",function(){return r}),a.d(e,"d",function(){return c}),a.d(e,"h",function(){return u});var n=function(t,e,a){e>10||e<4?a(new Error("密码长度在4-10位")):a()},i=function(t,e,a){e>300||e<0?a(new Error("账号数量在300以内")):a()},l=function(t,e,a){e.length>32?a(new Error("考试名称太长了")):e.length<4&&a(new Error("考试名称太短了")),a()},o=function(t,e,a){var n=/^[1][3,4,5,7,8][0-9]{9}$/;""==e||void 0==e||null==e?a():n.test(e)||""==e?a():a(new Error("请输入正确的电话号码"))},s=function(t,e,a){var n=/[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/;""==e||void 0==e||null==e?a():n.test(e)?a():a(new Error("请输入正确的邮箱地址"))};function r(t,e,a){e.length>15?a(new Error("学校太长了")):e.length<4&&a(new Error("学校太短了")),a()}var c=function(t,e,a){var n=/^((0\d{2,3}-\d{7,8})|(1[34578]\d{9}))$/;""==e||void 0==e||null==e?a():n.test(e)||""==e?a():a(new Error("请输入正确的手机号码或者固话号码（格式：区号+号码,如010-1234567）"))};function u(t,e,a){var n=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;n.test(e)?a():a(new Error("请输入正确的URL地址"))}},"7c81":function(t,e,a){},"7f1e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createFormtext"},[a("h2",[t._v("竞赛须知")]),a("div",{staticStyle:{height:"16px"}}),a("editor",{attrs:{"editor-id":t.addWangeFrom3},model:{value:t.wange,callback:function(e){t.wange=e},expression:"wange"}}),a("span",[a("el-button",{staticStyle:{"margin-top":"12px"},attrs:{disabled:1===this.stepActive,size:"small"},on:{click:t.last}},[t._v("\n      上一步\n    ")]),a("el-button",{staticStyle:{"margin-top":"12px"},attrs:{disabled:4===this.stepActive,size:"small"},on:{click:t.postannouncement}},[t._v("\n      下一步\n    ")])],1)],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("198e"),s=a("5880"),r=a("4694"),c=a("c402");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={data:function(){return{addWangeFrom3:"addWangeFrom3",wange:'<h3>考试纪律</h3><p style="display:inline-block;text-indent:2em">考试全程请不要使用QQ、微信等IM软件及手机交流信息，不要佩戴耳机；按照系统要求开启摄像头，对准脸部；禁止替考！</p><h3>作弊说明</h3><p style="display:inline-block;text-indent:2em">因为信任，所以简单，请如实作答。任何作弊行为一经核实，将取消考试资格，并记录在诚信档案中。</p><h3>信息隐私</h3><p style="display:inline-block;text-indent:2em">您的个人信息、答题信息将受到保护，不会向任何第三方透露；禁止拍照试题，泄露试题内容视为侵权行为</p>'}},components:{editor:o["a"]},computed:d({},Object(s["mapState"])({stepActive:function(t){return t.stepActive},contest_id:function(t){return t.contest_id}})),created:function(){this.contestId=this.$route.query.contest},methods:d({},Object(s["mapMutations"])(["stepNext","stepLast"]),{next:function(){this.$router.push({name:"CreateContestSuccessPage",query:{contest:this.contestId}})},last:function(){this.$router.back()},postannouncement:function(){var t=this,e={contest_id:this.contestId,content:this.wange};Object(r["f"])(Object(c["b"])(),e).then(function(e){"successful"===e.result?(t.$store.state.testDataList=[],t.$store.state.stdDataList=[],t.next()):t.$message({type:"error",message:e.data})})}})},m=p,f=(a("8b19"),a("2877")),h=Object(f["a"])(m,n,i,!1,null,null,null);e["default"]=h.exports},8205:function(t,e,a){},"82b6":function(t,e,a){"use strict";var n=a("0119"),i=a.n(n);i.a},8331:function(t,e,a){},"83b6":function(t,e,a){"use strict";var n=a("7c81"),i=a.n(n);i.a},"846e":function(t,e,a){"use strict";var n=a("161f"),i=a.n(n);i.a},"86e4":function(t,e,a){"use strict";var n=a("3f60"),i=a.n(n);i.a},"8b19":function(t,e,a){"use strict";var n=a("4a22"),i=a.n(n);i.a},"8b25":function(t,e,a){},"8b54":function(t,e,a){"use strict";var n=a("9cfd"),i=a.n(n);i.a},"8d59":function(t,e,a){},"8e6e":function(t,e,a){var n=a("5ca1"),i=a("990b"),l=a("6821"),o=a("11e9"),s=a("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,n=l(t),r=o.f,c=i(n),u={},d=0;while(c.length>d)a=r(n,e=c[d++]),void 0!==a&&s(u,e,a);return u}})},"8e72":function(t,e,a){},"8f1f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createForm"},[a("contest-info-form",{on:{submitForm:t.submitForm}})],1)},i=[],l=a("c402"),o=a("4694"),s=a("3dec"),r=a("92f3"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","status-icon":""}},[a("el-form-item",{attrs:{label:"竞赛名称:",required:"",prop:"title"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{size:"small",placeholder:"例如 ：XX专业第一周测试"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),a("el-form-item",{attrs:{label:"开始时间:",required:"",prop:"start_time"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptionS1,clearable:!1,size:"small",format:"yyyy-MM-dd HH:mm"},on:{change:t.startTimeChange},model:{value:t.ruleForm.start_time,callback:function(e){t.$set(t.ruleForm,"start_time",e)},expression:"ruleForm.start_time"}})],1),a("el-form-item",{attrs:{label:"结束时间:",required:"",prop:"end_time"}},[a("el-date-picker",{staticStyle:{width:"50%"},attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptionsEnd,clearable:!1,size:"small",format:"yyyy-MM-dd HH:mm"},model:{value:t.ruleForm.end_time,callback:function(e){t.$set(t.ruleForm,"end_time",e)},expression:"ruleForm.end_time"}})],1),a("el-form-item",{attrs:{label:"应用场景:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.ruleForm.scenes,callback:function(e){t.$set(t.ruleForm,"scenes",e)},expression:"ruleForm.scenes"}},[a("radio-button",{attrs:{label:t.scenesRadio_Online}},[t._v("\n        在线考试\n      ")]),a("radio-button",{attrs:{label:t.scenesRadio_Ordinary}},[t._v("\n        普通练习\n      ")])],1)],1),a("el-form-item",{attrs:{label:"竞赛类别:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.password_type,callback:function(e){t.password_type=e},expression:"password_type"}},[a("label",[a("radio-button",{attrs:{label:t.testTypeRadio_Invite},nativeOn:{click:function(e){return t.randomPassword()}}},[t._v("\n          邀请作答\n        ")]),a("el-input",{staticClass:"pasInput",staticStyle:{width:"100px"},attrs:{size:"small",id:"pasInput",readonly:""},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),a("label",[a("radio-button",{attrs:{label:t.testTypeRadio_Public},nativeOn:{click:function(e){return t.delPassword()}}},[t._v("\n          公开作答\n        ")])],1)])],1),a("el-form-item",{attrs:{label:"排名规则:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.ruleForm.rule_type,callback:function(e){t.$set(t.ruleForm,"rule_type",e)},expression:"ruleForm.rule_type"}},[a("radio-button",{attrs:{label:t.rankingRuleRadio_ACM}},[t._v("\n        ACM\n      ")]),a("radio-button",{attrs:{label:t.rankingRuleRadio_OI,disabled:!0}},[t._v("\n        OI\n      ")])],1)],1),a("el-form-item",{attrs:{label:"编程语言:",required:""}},[a("el-select",{staticStyle:{width:"70%"},attrs:{size:"small",filterable:"",multiple:""},model:{value:t.ruleForm.languages,callback:function(e){t.$set(t.ruleForm,"languages",e)},expression:"ruleForm.languages"}},t._l(t.langType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-row",[a("el-form-item",{attrs:{label:"允许的IP范围:"}},t._l(t.ipList,function(e,n){return a("div",{key:n},[a("el-col",{attrs:{span:14}},[a("div",[a("el-input",{attrs:{placeholder:"218.59.189.0",size:"small"},on:{input:function(e){return t.handleInputIpEvent(n,e)}},model:{value:t.ipList[n],callback:function(e){t.$set(t.ipList,n,e)},expression:"ipList[index]"}}),t.isIP[n]?a("div",{staticStyle:{display:"inline-flex",color:"red","line-height":"18px"}},[t._v("IP输入有误")]):t._e(),t.isIPNull[n]?a("div",{staticStyle:{display:"inline-flex",color:"red","line-height":"18px"}},[t._v("IP输入不可为空")]):t._e()],1)]),a("el-col",{attrs:{span:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{staticStyle:{"line-height":"18px"},attrs:{slot:"content"},slot:"content"},[t._v("\n              CIDR Network,模板为IP,\n              "),a("br"),t._v("\n              例如192.168.2.X,将只允许IP在192.168.2.0—192.168.2.255范围内的用户提交答案，\n              "),a("br"),t._v("\n              不填写此处，则没有IP提交限制，添加之前，请确认IP范围，确认不会影响某些用户的提交，\n              "),a("br"),t._v("\n              可以添加多个代表不同网段的IP。\n            ")]),a("img",{staticStyle:{"margin-top":"12px","margin-left":"2px"},attrs:{src:t.iconSetHint,alt:""}})])],1),a("el-col",{attrs:{span:9}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:function(e){return t.addIP()}}}),0!==n?a("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteIP(n)}}}):t._e()],1)],1)}),0)],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("下一步")])],1)],1)},u=[],d=a("d225"),p=a("b0b4"),m=a("308d"),f=a("6bb5"),h=a("4e2b"),b=a("9ab4"),v=a("60a3"),g=a("760c"),y=a("8564"),_=a("7b0a"),w=a("4d1e"),A=function(t){function e(){var t;return Object(d["a"])(this,e),t=Object(m["a"])(this,Object(f["a"])(e).apply(this,arguments)),t.step=1,t.isIP=[],t.isIPNull=[],t.ipList=[""],t.iconSetHint=y["L"],t.scenesRadio_Ordinary="0",t.scenesRadio_Online="1",t.testTypeRadio_Invite="邀请",t.testTypeRadio_Public="公开",t.rankingRuleRadio_ACM="ACM",t.rankingRuleRadio_OI="OI",t.password_type="邀请",t.langType=[{value:"C",label:"C"},{value:"C++",label:"C++"},{value:"Java",label:"Java"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],t.ruleForm={title:"",start_time:Date.now(),end_time:Date.now()+72e5,scenes:"0",password:"",rule_type:"ACM",languages:["C","C++","Python2","Python3","Java"],real_time_rank:!0,submit_record:!0,allowed_ip_ranges:[]},t.pickerOptionsEnd={disabledDate:function(t){return t.getTime()+864e5<Date.now()},shortcuts:[{text:"一小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+36e5),t.$emit("pick",e)}},{text:"两小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+72e5),t.$emit("pick",e)}},{text:"四小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+144e5),t.$emit("pick",e)}},{text:"一天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"三天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+2592e5),t.$emit("pick",e)}},{text:"一周",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}}]},t.pickerOptionS1={disabledDate:function(t){return t.getTime()+864e5<Date.now()}},t.rules={title:[{required:!0,message:"请输入竞赛名称",trigger:"blur"},{validator:_["g"],trigger:"blur"}],start_time:[{type:"date",required:!0,message:"请选择竞赛开始时间",trigger:"change"}],end_time:[{type:"date",required:!0,message:"请选择竞赛结束时间",trigger:"change"}]},t}return Object(h["a"])(e,t),Object(p["a"])(e,[{key:"startTimeChange",value:function(t){this.pickerOptionsEnd.shortcuts=[{text:"一小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+36e5),e.$emit("pick",a)}},{text:"两小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+72e5),e.$emit("pick",a)}},{text:"四小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+144e5),e.$emit("pick",a)}},{text:"一天",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+864e5),e.$emit("pick",a)}},{text:"三天",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+2592e5),e.$emit("pick",a)}},{text:"一周",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+6048e5),e.$emit("pick",a)}}]}},{key:"mounted",value:function(){this.randomPassword()}},{key:"submitForm",value:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=!1;e.ruleForm.allowed_ip_ranges=[],e.ruleForm.start_time=new Date(e.ruleForm.start_time).setSeconds(0),e.ruleForm.end_time=new Date(e.ruleForm.end_time).setSeconds(0),e.ipList.map(function(t,n){""===t||"undefined"===typeof t||null===t?0!==n&&(a=!0,e.isIPNull[n]=!0):e.ruleForm.allowed_ip_ranges.push(t)}),a?Object(s["a"])("IP输入不可为空","error",2e3,e):e.$emit("submitForm",e.ruleForm)})}},{key:"handleInputIpEvent",value:function(t,e){0!==t&&(this.isIPNull[t]=""===e||null===e),this.isIP[t]=!!e&&Object(r["b"])(e)}},{key:"addIP",value:function(){this.ipList.push("")}},{key:"deleteIP",value:function(t){this.ipList.splice(t,1)}},{key:"randomPassword",value:function(){var t=document.getElementById("pasInput");t.style.borderColor="#1EC684",t.style.borderRadius="0 3px 3px 0",t.style.height="32px",t.style.lineHeight="33px",t.style.textAlign="center",t.style.fontSize="14px",t.style.padding="0",t.style.letterSpacing="1px";var e=Math.round(2*Math.random())+4;this.ruleForm.password=Object(w["a"])(e)}},{key:"delPassword",value:function(){this.ruleForm.password="",document.getElementById("pasInput").style.borderColor="#dcdfe6"}}]),e}(v["d"]);A=b["a"]([Object(v["a"])({"radio-button":g["a"]})],A);var k=A,x=k,S=(a("1cd0"),a("2877")),C=Object(S["a"])(x,c,u,!1,null,"204ab4f0",null),D=C.exports,j={components:{"contest-info-form":D},data:function(){return{}},methods:{submitForm:function(t){var e=this;t.start_time=new Date(new Date(t.start_time).getTime()),t.end_time=new Date(new Date(t.end_time).getTime());var a=t;Object(o["f"])(Object(l["l"])(),a).then(function(t){"successful"===t.result?e.nextStep(t.data.contest_id):Object(s["a"])(t.data,"error",2e3,e)})},nextStep:function(t){this.$router.push({name:"AddTopicAndStudentPage",query:{contest:t}})}}},O=j,T=(a("d592"),Object(S["a"])(O,n,i,!1,null,"1c13af9c",null));e["default"]=T.exports},9257:function(t,e,a){"use strict";var n=a("8e72"),i=a.n(n);i.a},"97e1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-body-container",staticStyle:{background:"#E1E5E9"}},[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"space-between","align-items":"center"}},[a("class-manage-menu")],1),a("div",{staticStyle:{height:"16px"}}),a("div",[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"flex-end","align-items":"center"}},[a("div",{staticClass:"center"},[a("el-input",{staticStyle:{width:"220px","margin-right":"20px"},attrs:{placeholder:"请输入姓名或题号",size:"mini",clearable:""},on:{clear:t.clearRealNameValue,change:t.realNameValueChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.realNameValueChange},slot:"append"})],1),a("el-select",{staticStyle:{width:"130px","margin-right":"20px"},attrs:{placeholder:"提交结果",size:"mini",clearable:""},model:{value:t.searchSubmitState,callback:function(e){t.searchSubmitState=e},expression:"searchSubmitState"}},t._l(t.topicSubmitState,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"mini",icon:"el-icon-refresh-left",type:"primary"},on:{click:t.reset}},[t._v("\n          重置\n        ")])],1)]),a("submit-state-table",{attrs:{data:t.data,loading:t.loading}}),a("nm-pagination",{attrs:{api:t.api,body:t.body,"page-size":50},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)])},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("7a34"),f=a("525a"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={keyword:"",result:""},t.data=[],t.total=1,t.keyword="",t.searchSubmitState="",t.topicSubmitState=[{value:"0",label:"正确"},{value:"6",label:"等待提交"},{value:"7",label:"判题中️"},{value:"-1",label:"答案错误"},{value:"-2",label:"编译错误"},{value:"1",label:"cpu超时"},{value:"2",label:"总时间超时"},{value:"3",label:"内存泄漏"},{value:"4",label:"运行错误"},{value:"5",label:"系统错误"},{value:"8",label:"部分通过️"}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.api=Object(p["lb"])();var t=this.$route.query;this.body.keyword=t.keyword||"",this.body.result=t.result||"",this.body.level=t.level,this.body.major=t.major,this.keyword=t.keyword||"",this.searchSubmitState=t.result||""}},{key:"getDate",value:function(t,e,a,n){n=n-e*(a-1)+1,t.results.map(function(t){n-=1,t.index=n}),this.data=t.results}},{key:"reset",value:function(){this.keyword="",this.searchSubmitState="",this.body.keyword="",this.body.result=""}},{key:"clearRealNameValue",value:function(){this.body.keyword=""}},{key:"realNameValueChange",value:function(){this.body.keyword=this.keyword}},{key:"onSearchSubmitResultChange",value:function(t){this.body.result=t}},{key:"onRouteQueryChange",value:function(t,e){if(t!==e){var a=this.$route.query;this.body["keyword"]=a.keyword||"",this.body["result"]=a.result||"",this.keyword=a.keyword||"",this.searchSubmitState=a.result||""}}}]),e}(d["d"]);u["a"]([Object(d["e"])("searchSubmitState")],h.prototype,"onSearchSubmitResultChange",null),u["a"]([Object(d["e"])("$route.query",{deep:!0})],h.prototype,"onRouteQueryChange",null),h=u["a"]([Object(d["a"])({components:{ClassManageMenu:m["a"],SubmitStateTable:f["a"]}})],h);var b=h,v=b,g=a("2877"),y=Object(g["a"])(v,n,i,!1,null,"506b6e72",null);e["default"]=y.exports},"97e4":function(t,e,a){},"98df":function(t,e,a){"use strict";var n=a("2013"),i=a.n(n);i.a},"990b":function(t,e,a){var n=a("9093"),i=a("2621"),l=a("cb7c"),o=a("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(l(t)),a=i.f;return a?e.concat(a(t)):e}},"9cfd":function(t,e,a){},"9f2a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-title",{attrs:{title:t.pageTitle}},[a("back-button",{on:{click:t.back}})],1),a("div",{staticStyle:{height:"30px"}}),a("el-form",{ref:"addTopicForm",attrs:{model:t.addTopicForm,"label-width":"100px",size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"labe1",attrs:{label:"题目名称：",required:""}},[a("el-input",{attrs:{placeholder:"例如 ：C语言课后习题1.2",size:"small"},model:{value:t.addTopicForm.title,callback:function(e){t.$set(t.addTopicForm,"title",e)},expression:"addTopicForm.title"}})],1)],1),a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"题目考点："}},[a("div",{staticStyle:{float:"left"}},[t._l(t.addTopicForm.tags,function(e){return a("el-tag",{key:e,attrs:{size:"small",closable:"","disable-transitions":!1},on:{close:function(a){return t.handleCloseTagEvent(e)}}},[t._v("\n              "+t._s(e)+"\n            ")])}),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleConfirmNewTagConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleConfirmNewTagConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small",type:"text"},on:{click:t.handleNewTagConfirm}},[t._v("\n              + 新建考点\n            ")])],2)])],1)],1),a("el-form-item",{staticClass:"addWanged1",attrs:{label:"题目描述：",required:""}},[a("editor",{attrs:{"editor-id":t.addWanged1},model:{value:t.addTopicForm.description,callback:function(e){t.$set(t.addTopicForm,"description",e)},expression:"addTopicForm.description"}})],1),a("el-form-item",{staticClass:"addWanged2",attrs:{label:"输入描述："}},[a("editor",{attrs:{"editor-id":t.addWanged2},model:{value:t.addTopicForm.input_description,callback:function(e){t.$set(t.addTopicForm,"input_description",e)},expression:"addTopicForm.input_description"}})],1),a("el-form-item",{staticClass:"addWanged3",attrs:{label:"输出描述："}},[a("editor",{attrs:{"editor-id":t.addWanged3},model:{value:t.addTopicForm.output_description,callback:function(e){t.$set(t.addTopicForm,"output_description",e)},expression:"addTopicForm.output_description"}})],1),a("el-form-item",{staticClass:"addWanged4",attrs:{label:"提示："}},[a("editor",{attrs:{"editor-id":t.addWanged4},model:{value:t.addTopicForm.hint,callback:function(e){t.$set(t.addTopicForm,"hint",e)},expression:"addTopicForm.hint"}})],1),a("div",{staticClass:"testCases"},t._l(t.addTopicForm.samples,function(e,n){return a("el-form-item",{key:"sample"+n,attrs:{label:"样例："}},[a("div",{staticClass:"testCasebox"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title "},[t._v("输入样例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输入样例"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"sample.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title "},[t._v("输出样例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输出样例"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"sample.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"testCases"},t._l(t.addTopicForm.test_cases,function(e,n){return a("el-form-item",{key:"testCase"+n,attrs:{label:"测试用例"+(n+1)+"：",required:""}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center","padding-right":"24px"}},[0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteSample(n)}}},[t._v("\n            删除用例\n          ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addSample()}}},[t._v("新增用例")])],1),a("div",{staticClass:"testCasebox"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输入用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输入用例"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"testCase.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title  putSase"},[t._v("输出用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输出用例"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"testCase.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"problemDetails"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"题目难度："}},[a("el-select",{staticStyle:{float:"left"},attrs:{placeholder:"请选择"},model:{value:t.addTopicForm.difficulty,callback:function(e){t.$set(t.addTopicForm,"difficulty",e)},expression:"addTopicForm.difficulty"}},t._l(t.difficultyTYpe,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"时间限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.addTopicForm.time_limit,callback:function(e){t.$set(t.addTopicForm,"time_limit",e)},expression:"addTopicForm.time_limit"}}),a("span",[t._v("ms")])],1)])],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"编程语言：",required:""}},[a("el-select",{staticStyle:{float:"left"},attrs:{size:"small",filterable:"",multiple:"","collapse-tags":""},model:{value:t.addTopicForm.languages,callback:function(e){t.$set(t.addTopicForm,"languages",e)},expression:"addTopicForm.languages"}},t._l(t.langType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"内存限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.addTopicForm.memory_limit,callback:function(e){t.$set(t.addTopicForm,"memory_limit",e)},expression:"addTopicForm.memory_limit"}}),a("span",[t._v("MB")])],1)])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否可见："}},[a("el-switch",{staticStyle:{float:"left"},attrs:{"active-color":"#11C195"},model:{value:t.addTopicForm.visible,callback:function(e){t.$set(t.addTopicForm,"visible",e)},expression:"addTopicForm.visible"}})],1)],1)],1),a("div",{staticClass:"testCases"},t._l(t.addTopicForm.answer,function(e,n){return a("el-form-item",{key:"answer"+n,attrs:{label:"示例答案"+(n+1)+"："}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 24px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:function(a){return t.languageCommand(e,a)}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n              "+t._s(e.language?e.language:"编程语言")+"\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.langType,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                "+t._s(e.value)+"\n              ")])}),1)],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.resetAnswer(e,n)}}},[t._v("重置")]),0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteAnswer(n)}}},[t._v("\n              删除答案\n            ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addAnswer()}}},[t._v("新增答案")])],1)],1),a("div",{staticClass:"testCasebox"},[a("el-input",{attrs:{rows:20,type:"textarea",placeholder:"示例答案"},model:{value:e.code,callback:function(a){t.$set(e,"code",a)},expression:"answer.code"}})],1)])}),1),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.submitTopic("addTopicForm")}}},[t._v("立即创建")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.resetForm("addTopicForm")}}},[t._v("重置")])],1)],1)],1)},i=[],l=(a("ac6a"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("198e"),m=a("4694"),f=a("c402"),h=a("3dec"),b=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.pageTitle="添加题目",t.topicType="public",t.addWanged1="addWanged1",t.addWanged2="addWanged2",t.addWanged3="addWanged3",t.addWanged4="addWanged4",t.langType=[{value:"C",label:"C语言"},{value:"C++",label:"C++语言"},{value:"Java",label:"Java语言"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],t.difficultyTYpe=[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"},{value:"待定",label:"待定"}],t.addTopicForm={languages:[],title:"",description:"",input_description:"",output_description:"",hint:"",test_cases:[{input:"",output:""}],samples:[{input:"",output:""}],score:10,difficulty:"待定",time_limit:"1000",memory_limit:"256",visible:!0,tags:[],answer:[{language:"",code:""}]},t.inputVisible=!1,t.inputValue="",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.topicType=this.$route.params.topicType,this.pageTitle="".concat("public"===this.topicType?"共有":"私有","题库-").concat(this.pageTitle)}},{key:"resetAnswer",value:function(t,e){t.language="",t.code=""}},{key:"languageCommand",value:function(t,e){t.language=e}},{key:"resetForm",value:function(t){this.$refs[t].resetFields()}},{key:"addSample",value:function(){this.addTopicForm.test_cases.push({input:"",output:""})}},{key:"addAnswer",value:function(){this.addTopicForm.answer.push({language:"",code:""})}},{key:"deleteSample",value:function(t){this.addTopicForm.test_cases.splice(t,1)}},{key:"deleteAnswer",value:function(t){this.addTopicForm.answer.splice(t,1)}},{key:"submitTopic",value:function(){var t=this,e=JSON.parse(JSON.stringify(this.addTopicForm)),a=[];e.answer.forEach(function(t){""===t.language&&""===t.code||a.push(t)}),e.answer=a;var n=e;n.bank="public"===this.topicType?1:2,Object(m["f"])(Object(f["k"])(),n).then(function(e){"successful"===e.result?Object(h["a"])("创建成功","success",1e3,t):Object(h["a"])(e.data,"error",2e3,t)})}},{key:"handleCloseTagEvent",value:function(t){this.addTopicForm.tags.splice(this.addTopicForm.tags.indexOf(t),1)}},{key:"handleNewTagConfirm",value:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(){t.$refs.saveTagInput.$refs.input.focus()})}},{key:"handleConfirmNewTagConfirm",value:function(){var t=this.inputValue;t&&this.addTopicForm.tags.push(t),this.inputVisible=!1,this.inputValue=""}},{key:"back",value:function(){this.$router.back()}}]),e}(d["d"]);b=u["a"]([Object(d["a"])({components:{editor:p["a"]}})],b);var v=b,g=v,y=(a("8b54"),a("2877")),_=Object(y["a"])(g,n,i,!1,null,"2f1333b1",null);e["default"]=_.exports},a44e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",limit:1,"auto-upload":!1,"on-progress":t.successUp,"http-request":t.upLoadChange,action:"doUpload","before-upload":t.beforeUpload,accept:".xlsx,.xls"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("\n      将文件拖到此处，或\n      "),a("em",[t._v("点击上传")])])]),a("div",{staticStyle:{height:"32px"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.upload}},[t._v("下载模板")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitUpload}},[t._v("开始导入")])],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("7f7f"),a("a481"),a("bd86")),o=a("c402"),s=(a("e8c9"),a("5880")),r=a("3dec"),c=a("4694");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={data:function(){return{doUpload:Object(o["db"])()}},methods:d({},Object(s["mapMutations"])(["resultData"]),{upload:function(){var t=new XMLHttpRequest,e=new FormData;t.open("get","/api/admin/batch_import_user"),t.responseType="blob",t.onload=function(t){if(200===this.status){var e=this.response,a="import_users.xlsx";if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e,a);else{var n=function(t){return window.URL?window.URL.createObjectURL(t):window.webkitURL.createObjectURL(t)},i=document.createElement("a"),l=n(e);i.href=l,i.download=a,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(l)}}},t.send(e)},upLoadChange:function(t){var e=this,a=new FormData;a.append("file",t.file),a.append("user_type","student"===this.$route.params.userType?"Regular User":"Teacher");var n=function(e){e.percent=e.loaded/e.total*100,t.onProgress(e)};Object(c["e"])(Object(o["db"])(),a,{},{onUploadProgress:n}).then(function(t){if("successful"===t.result)try{e.$store.commit("resultData",t.data),e.$router.replace({name:"ImportUserEndPage",params:{userType:e.$route.params.userType}}),0!==t.data.successItem.length?Object(r["a"])("上传成功","success",1e3,e):0!==t.data.failedItem.length&&Object(r["a"])("上传失败","error",1e3,e)}catch(a){Object(r["a"])("".concat(a.name,":").concat(a.message),"error",1e3,e),e.$router.back()}else Object(r["a"])(t,"error",1e3,e)})},beforeUpload:function(t){var e=t.name,a=e.split(".");return"xls"!==a[1]&&"xlsx"!==a[1]?(Object(r["a"])("上传文件只能是 excel/xls 格式!","error",1e3,this),!1):a},submitUpload:function(){this.$refs.upload.submit()},successUp:function(t,e,a){100===t.percent&&this.$router.replace({name:"ImportUserProcessPage",params:{userType:this.$route.params.userType}})}})},m=p,f=a("2877"),h=Object(f["a"])(m,n,i,!1,null,null,null);e["default"]=h.exports},a4c7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"foundSuccess"},[a("div",{staticClass:"successContent"},[a("img",{attrs:{src:t.iconFoundSuccess,alt:""}}),a("p",{staticClass:"success_title"},[t._v("创建成功")]),a("p",{staticClass:"success_slogan"},[t._v("NOMOOC 为教育而生 , 为梦想而兴 !")]),a("div",{staticClass:"success_from"},[a("div",{staticClass:"contest-info-container"},[t._m(0),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",[t._v(t._s(this.resultData.display_id))])])]),a("div",{staticClass:"contest-info-container"},[t._m(1),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",{staticStyle:{color:"#1B8CD0"}},[t._v(t._s(this.resultData.title))])])]),this.resultData.password?a("div",{staticClass:"contest-info-container"},[t._m(2),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",{staticStyle:{padding:"5px 15px",border:"1px solid #1EC684",color:"#1EC684","border-radius":"3px"}},[t._v("\n            "+t._s(this.resultData.password)+"\n          ")])])]):t._e(),a("div",{staticClass:"contest-info-container"},[t._m(3),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",[t._v(t._s(this.resultData.p_number)+"道")])])]),a("div",{staticClass:"contest-info-container"},[t._m(4),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",[t._v(t._s(this.resultData.s_number)+"人")])])]),a("div",{staticClass:"contest-info-container"},[t._m(5),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",[t._v(t._s(this.timeValue))])])]),a("div",{staticClass:"contest-info-container"},[t._m(6),a("span",[t._v(":")]),a("div",{staticClass:"contest-info-value"},[a("span",[t._v(t._s(this.resultData.created_by.real_name))])])])]),a("div",{staticClass:"contest-info-container",staticStyle:{width:"300px"}},[a("div",{staticClass:"contest-info-title"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.sendNotice}},[t._v("发送通知")])],1),a("div",{staticClass:"contest-info-value"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.goCreateTest()}}},[t._v("返 回")])],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("竞赛编号")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("竞赛名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("竞赛邀请码")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("题目数量")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("考试人数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("竞赛时长")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contest-info-title"},[a("span",[t._v("创建者")])])}],l=a("8564"),o=a("4694"),s=a("c402"),r=a("3dec"),c={data:function(){return{resultData:{created_by:[{real_name:""}]},iconFoundSuccess:l["t"],timeValue:"",contestId:0}},methods:{goCreateTest:function(){this.$router.push({name:"FillContestInfoPage"})},sendNotice:function(){var t=this,e={contest_id:this.contestId};Object(o["f"])(Object(s["Mb"])(),e).then(function(e){"successful"===e.result?Object(r["a"])("通知已发送","success",1e3,t):Object(r["a"])(e.data,"error",1e3,t)})}},created:function(){this.contestId=this.$route.query.contest},mounted:function(){var t=this;if(0!==this.contestId){var e={id:this.contestId};Object(o["d"])(Object(s["gb"])(),e).then(function(e){t.resultData=e.data;var a=t.$moment(t.$moment(e.data.start_time).format("YYYY-MM-DD HH:mm:ss")),n=t.$moment(t.$moment(e.data.end_time).format("YYYY-MM-DD HH:mm:ss")),i=n.diff(a,"minute");t.timeValue=parseInt(i/60)+"小时"+i%60+"分钟"})}}},u=c,d=(a("bebb9"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"db9d8ba0",null);e["default"]=p.exports},a50d:function(t,e,a){"use strict";a("7f7f");(function(){var t=[{name:"北京",city:[{name:"北京",area:["东城区","西城区","崇文区","宣武区","朝阳区","丰台区","石景山区","海淀区","门头沟区","房山区","通州区","顺义区","昌平区","大兴区","平谷区","怀柔区","密云县","延庆县"]}]},{name:"天津",city:[{name:"天津",area:["和平区","河东区","河西区","南开区","河北区","红桥区","塘沽区","汉沽区","大港区","东丽区","西青区","津南区","北辰区","武清区","宝坻区","宁河县","静海县","蓟  县"]}]},{name:"河北",city:[{name:"石家庄",area:["长安区","桥东区","桥西区","新华区","郊  区","井陉矿区","井陉县","正定县","栾城县","行唐县","灵寿县","高邑县","深泽县","赞皇县","无极县","平山县","元氏县","赵  县","辛集市","藁","晋州市","新乐市","鹿泉市"]},{name:"唐山",area:["路南区","路北区","古冶区","开平区","新  区","丰润县","滦  县","滦南县","乐亭县","迁西县","玉田县","唐海县","遵化市","丰南市","迁安市"]},{name:"秦皇岛",area:["海港区","山海关区","北戴河区","青龙满族自治县","昌黎县","抚宁县","卢龙县"]},{name:"邯郸",area:["邯山区","丛台区","复兴区","峰峰矿区","邯郸县","临漳县","成安县","大名县","涉  县","磁  县","肥乡县","永年县","邱  县","鸡泽县","广平县","馆陶县","魏  县","曲周县","武安市"]},{name:"邢台",area:["桥东区","桥西区","邢台县","临城县","内丘县","柏乡县","隆尧县","任  县","南和县","宁晋县","巨鹿县","新河县","广宗县","平乡县","威  县","清河县","临西县","南宫市","沙河市"]},{name:"保定",area:["新市区","北市区","南市区","满城县","清苑县","涞水县","阜平县","徐水县","定兴县","唐  县","高阳县","容城县","涞源县","望都县","安新县","易  县","曲阳县","蠡  县","顺平县","博野","雄县","涿州市","定州市","安国市","高碑店市"]},{name:"张家口",area:["桥东区","桥西区","宣化区","下花园区","宣化县","张北县","康保县","沽源县","尚义县","蔚  县","阳原县","怀安县","万全县","怀来县","涿鹿县","赤城县","崇礼县"]},{name:"承德",area:["双桥区","双滦区","鹰手营子矿区","承德县","兴隆县","平泉县","滦平县","隆化县","丰宁满族自治县","宽城满族自治县","围场满族蒙古族自治县"]},{name:"沧州",area:["新华区","运河区","沧  县","青  县","东光县","海兴县","盐山县","肃宁县","南皮县","吴桥县","献  县","孟村回族自治县","泊头市","任丘市","黄骅市","河间市"]},{name:"廊坊",area:["安次区","固安县","永清县","香河县","大城县","文安县","大厂回族自治县","霸州市","三河市"]},{name:"衡水",area:["桃城区","枣强县","武邑县","武强县","饶阳县","安平县","故城县","景  县","阜城县","冀州市","深州市"]}]},{name:"山西",city:[{name:"太原",area:["小店区","迎泽区","杏花岭区","尖草坪区","万柏林区","晋源区","清徐县","阳曲县","娄烦县","古交市"]},{name:"大同",area:["城  区","矿  区","南郊区","新荣区","阳高县","天镇县","广灵县","灵丘县","浑源县","左云县","大同县"]},{name:"阳泉",area:["城  区","矿  区","郊  区","平定县","盂  县"]},{name:"长治",area:["城  区","郊  区","长治县","襄垣县","屯留县","平顺县","黎城县","壶关县","长子县","武乡县","沁  县","沁源县","潞城市"]},{name:"晋城",area:["城  区","沁水县","阳城县","陵川县","泽州县","高平市"]},{name:"朔州",area:["朔城区","平鲁区","山阴县","应  县","右玉县","怀仁县"]},{name:"忻州",area:["忻府区","原平市","定襄县","五台县","代  县","繁峙县","宁武县","静乐县","神池县","五寨县","岢岚县","河曲县","保德县","偏关县"]},{name:"吕梁",area:["离石区","孝义市","汾阳市","文水县","交城县","兴  县","临  县","柳林县","石楼县","岚  县","方山县","中阳县","交口县"]},{name:"晋中",area:["榆次市","介休市","榆社县","左权县","和顺县","昔阳县","寿阳县","太谷县","祁  县","平遥县","灵石县"]},{name:"临汾",area:["临汾市","侯马市","霍州市","曲沃县","翼城县","襄汾县","洪洞县","古  县","安泽县","浮山县","吉  县","乡宁县","蒲  县","大宁县","永和县","隰  县","汾西县"]},{name:"运城",area:["运城市","永济市","河津市","芮城县","临猗县","万荣县","新绛县","稷山县","闻喜县","夏  县","绛  县","平陆县","垣曲县"]}]},{name:"内蒙古",city:[{name:"呼和浩特",area:["新城区","回民区","玉泉区","郊  区","土默特左旗","托克托县","和林格尔县","清水河县","武川县"]},{name:"包头",area:["东河区","昆都伦区","青山区","石拐矿区","白云矿区","郊  区","土默特右旗","固阳县","达尔罕茂明安联合旗"]},{name:"乌海",area:["海勃湾区","海南区","乌达区"]},{name:"赤峰",area:["红山区","元宝山区","松山区","阿鲁科尔沁旗","巴林左旗","巴林右旗","林西县","克什克腾旗","翁牛特旗","喀喇沁旗","宁城县","敖汉旗"]},{name:"呼伦贝尔",area:["海拉尔市","满洲里市","扎兰屯市","牙克石市","根河市","额尔古纳市","阿荣旗","莫力达瓦达斡尔族自治旗","鄂伦春自治旗","鄂温克族自治旗","新巴尔虎右旗","新巴尔虎左旗","陈巴尔虎旗"]},{name:"兴安盟",area:["乌兰浩特市","阿尔山市","科尔沁右翼前旗","科尔沁右翼中旗","扎赉特旗","突泉县"]},{name:"通辽",area:["科尔沁区","霍林郭勒市","科尔沁左翼中旗","科尔沁左翼后旗","开鲁县","库伦旗","奈曼旗","扎鲁特旗"]},{name:"锡林郭勒盟",area:["二连浩特市","锡林浩特市","阿巴嘎旗","苏尼特左旗","苏尼特右旗","东乌珠穆沁旗","西乌珠穆沁旗","太仆寺旗","镶黄旗","正镶白旗","正蓝旗","多伦县"]},{name:"乌兰察布盟",area:["集宁市","丰镇市","卓资县","化德县","商都县","兴和县","凉城县","察哈尔右翼前旗","察哈尔右翼中旗","察哈尔右翼后旗","四子王旗"]},{name:"伊克昭盟",area:["东胜市","达拉特旗","准格尔旗","鄂托克前旗","鄂托克旗","杭锦旗","乌审旗","伊金霍洛旗"]},{name:"巴彦淖尔盟",area:["临河市","五原县","磴口县","乌拉特前旗","乌拉特中旗","乌拉特后旗","杭锦后旗"]},{name:"阿拉善盟",area:["阿拉善左旗","阿拉善右旗","额济纳旗"]}]},{name:"辽宁",city:[{name:"沈阳",area:["沈河区","皇姑区","和平区","大东区","铁西区","苏家屯区","东陵区","于洪区","新民市","法库县","辽中县","康平县","新城子区","其他"]},{name:"大连",area:["西岗区","中山区","沙河口区","甘井子区","旅顺口区","金州区","瓦房店市","普兰店市","庄河市","长海县","其他"]},{name:"鞍山",area:["铁东区","铁西区","立山区","千山区","海城市","台安县","岫岩满族自治县","其他"]},{name:"抚顺",area:["顺城区","新抚区","东洲区","望花区","抚顺县","清原满族自治县","新宾满族自治县","其他"]},{name:"本溪",area:["平山区","明山区","溪湖区","南芬区","本溪满族自治县","桓仁满族自治县","其他"]},{name:"丹东",area:["振兴区","元宝区","振安区","东港市","凤城市","宽甸满族自治县","其他"]},{name:"锦州",area:["太和区","古塔区","凌河区","凌海市","黑山县","义县","北宁市","其他"]},{name:"营口",area:["站前区","西市区","鲅鱼圈区","老边区","大石桥市","盖州市","其他"]},{name:"阜新",area:["海州区","新邱区","太平区","清河门区","细河区","彰武县","阜新蒙古族自治县","其他"]},{name:"辽阳",area:["白塔区","文圣区","宏伟区","太子河区","弓长岭区","灯塔市","辽阳县","其他"]},{name:"盘锦",area:["双台子区","兴隆台区","盘山县","大洼县","其他"]},{name:"铁岭",area:["银州区","清河区","调兵山市","开原市","铁岭县","昌图县","西丰县","其他"]},{name:"朝阳",area:["双塔区","龙城区","凌源市","北票市","朝阳县","建平县","喀喇沁左翼蒙古族自治县","其他"]},{name:"葫芦岛",area:["龙港区","南票区","连山区","兴城市","绥中县","建昌县","其他"]},{name:"其他",area:["其他"]}]},{name:"吉林",city:[{name:"长春",area:["朝阳区","宽城区","二道区","南关区","绿园区","双阳区","九台市","榆树市","德惠市","农安县","其他"]},{name:"吉林",area:["船营区","昌邑区","龙潭区","丰满区","舒兰市","桦甸市","蛟河市","磐石市","永吉县","其他"]},{name:"四平",area:["铁西区","铁东区","公主岭市","双辽市","梨树县","伊通满族自治县","其他"]},{name:"辽源",area:["龙山区","西安区","东辽县","东丰县","其他"]},{name:"通化",area:["东昌区","二道江区","梅河口市","集安市","通化县","辉南县","柳河县","其他"]},{name:"白山",area:["八道江区","江源区","临江市","靖宇县","抚松县","长白朝鲜族自治县","其他"]},{name:"松原",area:["宁江区","乾安县","长岭县","扶余县","前郭尔罗斯蒙古族自治县","其他"]},{name:"白城",area:["洮北区","大安市","洮南市","镇赉县","通榆县","其他"]},{name:"延边朝鲜族自治州",area:["延吉市","图们市","敦化市","龙井市","珲春市","和龙市","安图县","汪清县","其他"]},{name:"其他",area:["其他"]}]},{name:"黑龙江",city:[{name:"哈尔滨",area:["松北区","道里区","南岗区","平房区","香坊区","道外区","呼兰区","阿城区","双城市","尚志市","五常市","宾县","方正县","通河县","巴彦县","延寿县","木兰县","依兰县","其他"]},{name:"齐齐哈尔",area:["龙沙区","昂昂溪区","铁锋区","建华区","富拉尔基区","碾子山区","梅里斯达斡尔族区","讷河市","富裕县","拜泉县","甘南县","依安县","克山县","泰来县","克东县","龙江县","其他"]},{name:"鹤岗",area:["兴山区","工农区","南山区","兴安区","向阳区","东山区","萝北县","绥滨县","其他"]},{name:"双鸭山",area:["尖山区","岭东区","四方台区","宝山区","集贤县","宝清县","友谊县","饶河县","其他"]},{name:"鸡西",area:["鸡冠区","恒山区","城子河区","滴道区","梨树区","麻山区","密山市","虎林市","鸡东县","其他"]},{name:"大庆",area:["萨尔图区","红岗区","龙凤区","让胡路区","大同区","林甸县","肇州县","肇源县","杜尔伯特蒙古族自治县","其他"]},{name:"伊春",area:["伊春区","带岭区","南岔区","金山屯区","西林区","美溪区","乌马河区","翠峦区","友好区","上甘岭区","五营区","红星区","新青区","汤旺河区","乌伊岭区","铁力市","嘉荫县","其他"]},{name:"牡丹江",area:["爱民区","东安区","阳明区","西安区","绥芬河市","宁安市","海林市","穆棱市","林口县","东宁县","其他"]},{name:"佳木斯",area:["向阳区","前进区","东风区","郊区","同江市","富锦市","桦川县","抚远县","桦南县","汤原县","其他"]},{name:"七台河",area:["桃山区","新兴区","茄子河区","勃利县","其他"]},{name:"黑河",area:["爱辉区","北安市","五大连池市","逊克县","嫩江县","孙吴县","其他"]},{name:"绥化",area:["北林区","安达市","肇东市","海伦市","绥棱县","兰西县","明水县","青冈县","庆安县","望奎县","其他"]},{name:"大兴安岭地区",area:["呼玛县","塔河县","漠河县","大兴安岭辖区","其他"]},{name:"其他",area:["其他"]}]},{name:"上海",city:[{name:"上海",area:["黄浦区","卢湾区","徐汇区","长宁区","静安区","普陀区","闸北区","虹口区","杨浦区","宝山区","闵行区","嘉定区","松江区","金山区","青浦区","南汇区","奉贤区","浦东新区","崇明县","其他"]}]},{name:"江苏",city:[{name:"南京",area:["玄武区","白下区","秦淮区","建邺区","鼓楼区","下关区","栖霞区","雨花台区","浦口区","江宁区","六合区","溧水县","高淳县","其他"]},{name:"苏州",area:["金阊区","平江区","沧浪区","虎丘区","吴中区","相城区","常熟市","张家港市","昆山市","吴江市","太仓市","其他"]},{name:"无锡",area:["崇安区","南长区","北塘区","滨湖区","锡山区","惠山区","江阴市","宜兴市","其他"]},{name:"常州",area:["钟楼区","天宁区","戚墅堰区","新北区","武进区","金坛市","溧阳市","其他"]},{name:"镇江",area:["京口区","润州区","丹徒区","丹阳市","扬中市","句容市","其他"]},{name:"南通",area:["崇川区","港闸区","通州市","如皋市","海门市","启东市","海安县","如东县","其他"]},{name:"泰州",area:["海陵区","高港区","姜堰市","泰兴市","靖江市","兴化市","其他"]},{name:"扬州",area:["广陵区","维扬区","邗江区","江都市","仪征市","高邮市","宝应县","其他"]},{name:"盐城",area:["亭湖区","盐都区","大丰市","东台市","建湖县","射阳县","阜宁县","滨海县","响水县","其他"]},{name:"连云港",area:["新浦区","海州区","连云区","东海县","灌云县","赣榆县","灌南县","其他"]},{name:"徐州",area:["云龙区","鼓楼区","九里区","泉山区","贾汪区","邳州市","新沂市","铜山县","睢宁县","沛县","丰县","其他"]},{name:"淮安",area:["清河区","清浦区","楚州区","淮阴区","涟水县","洪泽县","金湖县","盱眙县","其他"]},{name:"宿迁",area:["宿城区","宿豫区","沭阳县","泗阳县","泗洪县","其他"]},{name:"其他",area:["其他"]}]},{name:"浙江",city:[{name:"杭州",area:["拱墅区","西湖区","上城区","下城区","江干区","滨江区","余杭区","萧山区","建德市","富阳市","临安市","桐庐县","淳安县","其他"]},{name:"宁波",area:["海曙区","江东区","江北区","镇海区","北仑区","鄞州区","余姚市","慈溪市","奉化市","宁海县","象山县","其他"]},{name:"温州",area:["鹿城区","龙湾区","瓯海区","瑞安市","乐清市","永嘉县","洞头县","平阳县","苍南县","文成县","泰顺县","其他"]},{name:"嘉兴",area:["秀城区","秀洲区","海宁市","平湖市","桐乡市","嘉善县","海盐县","其他"]},{name:"湖州",area:["吴兴区","南浔区","长兴县","德清县","安吉县","其他"]},{name:"绍兴",area:["越城区","诸暨市","上虞市","嵊州市","绍兴县","新昌县","其他"]},{name:"金华",area:["婺城区","金东区","兰溪市","义乌市","东阳市","永康市","武义县","浦江县","磐安县","其他"]},{name:"衢州",area:["柯城区","衢江区","江山市","龙游县","常山县","开化县","其他"]},{name:"舟山",area:["定海区","普陀区","岱山县","嵊泗县","其他"]},{name:"台州",area:["椒江区","黄岩区","路桥区","临海市","温岭市","玉环县","天台县","仙居县","三门县","其他"]},{name:"丽水",area:["莲都区","龙泉市","缙云县","青田县","云和县","遂昌县","松阳县","庆元县","景宁畲族自治县","其他"]},{name:"其他",area:["其他"]}]},{name:"安徽",city:[{name:"合肥",area:["庐阳区","瑶海区","蜀山区","包河区","长丰县","肥东县","肥西县","其他"]},{name:"芜湖",area:["镜湖区","弋江区","鸠江区","三山区","芜湖县","南陵县","繁昌县","其他"]},{name:"蚌埠",area:["蚌山区","龙子湖区","禹会区","淮上区","怀远县","固镇县","五河县","其他"]},{name:"淮南",area:["田家庵区","大通区","谢家集区","八公山区","潘集区","凤台县","其他"]},{name:"马鞍山",area:["雨山区","花山区","金家庄区","当涂县","其他"]},{name:"淮北",area:["相山区","杜集区","烈山区","濉溪县","其他"]},{name:"铜陵",area:["铜官山区","狮子山区","郊区","铜陵县","其他"]},{name:"安庆",area:["迎江区","大观区","宜秀区","桐城市","宿松县","枞阳县","太湖县","怀宁县","岳西县","望江县","潜山县","其他"]},{name:"黄山",area:["屯溪区","黄山区","徽州区","休宁县","歙县","祁门县","黟县","其他"]},{name:"滁州",area:["琅琊区","南谯区","天长市","明光市","全椒县","来安县","定远县","凤阳县","其他"]},{name:"阜阳",area:["颍州区","颍东区","颍泉区","界首市","临泉县","颍上县","阜南县","太和县","其他"]},{name:"宿州",area:["埇桥区","萧县","泗县","砀山县","灵璧县","其他"]},{name:"巢湖",area:["居巢区","含山县","无为县","庐江县","和县","其他"]},{name:"六安",area:["金安区","裕安区","寿县","霍山县","霍邱县","舒城县","金寨县","其他"]},{name:"亳州",area:["谯城区","利辛县","涡阳县","蒙城县","其他"]},{name:"池州",area:["贵池区","东至县","石台县","青阳县","其他"]},{name:"宣城",area:["宣州区","宁国市","广德县","郎溪县","泾县","旌德县","绩溪县","其他"]},{name:"其他",area:["其他"]}]},{name:"福建",city:[{name:"福州",area:["鼓楼区","台江区","仓山区","马尾区","晋安区","福清市","长乐市","闽侯县","闽清县","永泰县","连江县","罗源县","平潭县","其他"]},{name:"厦门",area:["思明区","海沧区","湖里区","集美区","同安区","翔安区","其他"]},{name:"莆田",area:["城厢区","涵江区","荔城区","秀屿区","仙游县","其他"]},{name:"三明",area:["梅列区","三元区","永安市","明溪县","将乐县","大田县","宁化县","建宁县","沙县","尤溪县","清流县","泰宁县","其他"]},{name:"泉州",area:["鲤城区","丰泽区","洛江区","泉港区","石狮市","晋江市","南安市","惠安县","永春县","安溪县","德化县","金门县","其他"]},{name:"漳州",area:["芗城区","龙文区","龙海市","平和县","南靖县","诏安县","漳浦县","华安县","东山县","长泰县","云霄县","其他"]},{name:"南平",area:["延平区","建瓯市","邵武市","武夷山市","建阳市","松溪县","光泽县","顺昌县","浦城县","政和县","其他"]},{name:"龙岩",area:["新罗区","漳平市","长汀县","武平县","上杭县","永定县","连城县","其他"]},{name:"宁德",area:["蕉城区","福安市","福鼎市","寿宁县","霞浦县","柘荣县","屏南县","古田县","周宁县","其他"]},{name:"其他",area:["其他"]}]},{name:"江西",city:[{name:"南昌",area:["东湖区","西湖区","青云谱区","湾里区","青山湖区","新建县","南昌县","进贤县","安义县","其他"]},{name:"景德镇",area:["珠山区","昌江区","乐平市","浮梁县","其他"]},{name:"萍乡",area:["安源区","湘东区","莲花县","上栗县","芦溪县","其他"]},{name:"九江",area:["浔阳区","庐山区","瑞昌市","九江县","星子县","武宁县","彭泽县","永修县","修水县","湖口县","德安县","都昌县","其他"]},{name:"新余",area:["渝水区","分宜县","其他"]},{name:"鹰潭",area:["月湖区","贵溪市","余江县","其他"]},{name:"赣州",area:["章贡区","瑞金市","南康市","石城县","安远县","赣县","宁都县","寻乌县","兴国县","定南县","上犹县","于都县","龙南县","崇义县","信丰县","全南县","大余县","会昌县","其他"]},{name:"吉安",area:["吉州区","青原区","井冈山市","吉安县","永丰县","永新县","新干县","泰和县","峡江县","遂川县","安福县","吉水县","万安县","其他"]},{name:"宜春",area:["袁州区","丰城市","樟树市","高安市","铜鼓县","靖安县","宜丰县","奉新县","万载县","上高县","其他"]},{name:"抚州",area:["临川区","南丰县","乐安县","金溪县","南城县","东乡县","资溪县","宜黄县","广昌县","黎川县","崇仁县","其他"]},{name:"上饶",area:["信州区","德兴市","上饶县","广丰县","鄱阳县","婺源县","铅山县","余干县","横峰县","弋阳县","玉山县","万年县","其他"]},{name:"其他",area:["其他"]}]},{name:"山东",city:[{name:"济南",area:["市中区","历下区","天桥区","槐荫区","历城区","长清区","章丘市","平阴县","济阳县","商河县","其他"]},{name:"青岛",area:["市南区","市北区","城阳区","四方区","李沧区","黄岛区","崂山区","胶南市","胶州市","平度市","莱西市","即墨市","其他"]},{name:"淄博",area:["张店区","临淄区","淄川区","博山区","周村区","桓台县","高青县","沂源县","其他"]},{name:"枣庄",area:["市中区","山亭区","峄城区","台儿庄区","薛城区","滕州市","其他"]},{name:"东营",area:["东营区","河口区","垦利县","广饶县","利津县","其他"]},{name:"烟台",area:["芝罘区","福山区","牟平区","莱山区","龙口市","莱阳市","莱州市","招远市","蓬莱市","栖霞市","海阳市","长岛县","其他"]},{name:"潍坊",area:["潍城区","寒亭区","坊子区","奎文区","青州市","诸城市","寿光市","安丘市","高密市","昌邑市","昌乐县","临朐县","其他"]},{name:"济宁",area:["市中区","任城区","曲阜市","兖州市","邹城市","鱼台县","金乡县","嘉祥县","微山县","汶上县","泗水县","梁山县","其他"]},{name:"泰安",area:["泰山区","岱岳区","新泰市","肥城市","宁阳县","东平县","其他"]},{name:"威海",area:["环翠区","乳山市","文登市","荣成市","其他"]},{name:"日照",area:["东港区","岚山区","五莲县","莒县","其他"]},{name:"莱芜",area:["莱城区","钢城区","其他"]},{name:"临沂",area:["兰山区","罗庄区","河东区","沂南县","郯城县","沂水县","苍山县","费县","平邑县","莒南县","蒙阴县","临沭县","其他"]},{name:"德州",area:["德城区","乐陵市","禹城市","陵县","宁津县","齐河县","武城县","庆云县","平原县","夏津县","临邑县","其他"]},{name:"聊城",area:["东昌府区","临清市","高唐县","阳谷县","茌平县","莘县","东阿县","冠县","其他"]},{name:"滨州",area:["滨城区","邹平县","沾化县","惠民县","博兴县","阳信县","无棣县","其他"]},{name:"菏泽",area:["牡丹区","鄄城县","单县","郓城县","曹县","定陶县","巨野县","东明县","成武县","其他"]},{name:"其他",area:["其他"]}]},{name:"河南",city:[{name:"郑州",area:["中原区","金水区","二七区","管城回族区","上街区","惠济区","巩义市","新郑市","新密市","登封市","荥阳市","中牟县","其他"]},{name:"开封",area:["鼓楼区","龙亭区","顺河回族区","禹王台区","金明区","开封县","尉氏县","兰考县","杞县","通许县","其他"]},{name:"洛阳",area:["西工区","老城区","涧西区","瀍河回族区","洛龙区","吉利区","偃师市","孟津县","汝阳县","伊川县","洛宁县","嵩县","宜阳县","新安县","栾川县","其他"]},{name:"平顶山",area:["新华区","卫东区","湛河区","石龙区","汝州市","舞钢市","宝丰县","叶县","郏县","鲁山县","其他"]},{name:"安阳",area:["北关区","文峰区","殷都区","龙安区","林州市","安阳县","滑县","内黄县","汤阴县","其他"]},{name:"鹤壁",area:["淇滨区","山城区","鹤山区","浚县","淇县","其他"]},{name:"新乡",area:["卫滨区","红旗区","凤泉区","牧野区","卫辉市","辉县市","新乡县","获嘉县","原阳县","长垣县","封丘县","延津县","其他"]},{name:"焦作",area:["解放区","中站区","马村区","山阳区","沁阳市","孟州市","修武县","温县","武陟县","博爱县","其他"]},{name:"濮阳",area:["华龙区","濮阳县","南乐县","台前县","清丰县","范县","其他"]},{name:"许昌",area:["魏都区","禹州市","长葛市","许昌县","鄢陵县","襄城县","其他"]},{name:"漯河",area:["源汇区","郾城区","召陵区","临颍县","舞阳县","其他"]},{name:"三门峡",area:["湖滨区","义马市","灵宝市","渑池县","卢氏县","陕县","其他"]},{name:"南阳",area:["卧龙区","宛城区","邓州市","桐柏县","方城县","淅川县","镇平县","唐河县","南召县","内乡县","新野县","社旗县","西峡县","其他"]},{name:"商丘",area:["梁园区","睢阳区","永城市","宁陵县","虞城县","民权县","夏邑县","柘城县","睢县","其他"]},{name:"信阳",area:["浉河区","平桥区","潢川县","淮滨县","息县","新县","商城县","固始县","罗山县","光山县","其他"]},{name:"周口",area:["川汇区","项城市","商水县","淮阳县","太康县","鹿邑县","西华县","扶沟县","沈丘县","郸城县","其他"]},{name:"驻马店",area:["驿城区","确山县","新蔡县","上蔡县","西平县","泌阳县","平舆县","汝南县","遂平县","正阳县","其他"]},{name:"焦作",area:["济源市","其他"]},{name:"其他",area:["其他"]}]},{name:"湖北",city:[{name:"武汉",area:["江岸区","武昌区","江汉区","硚口区","汉阳区","青山区","洪山区","东西湖区","汉南区","蔡甸区","江夏区","黄陂区","新洲区","其他"]},{name:"黄石",area:["黄石港区","西塞山区","下陆区","铁山区","大冶市","阳新县","其他"]},{name:"十堰",area:["张湾区","茅箭区","丹江口市","郧县","竹山县","房县","郧西县","竹溪县","其他"]},{name:"荆州",area:["沙市区","荆州区","洪湖市","石首市","松滋市","监利县","公安县","江陵县","其他"]},{name:"宜昌",area:["西陵区","伍家岗区","点军区","猇亭区","夷陵区","宜都市","当阳市","枝江市","秭归县","远安县","兴山县","五峰土家族自治县","长阳土家族自治县","其他"]},{name:"襄樊",area:["襄城区","樊城区","襄阳区","老河口市","枣阳市","宜城市","南漳县","谷城县","保康县","其他"]},{name:"鄂州",area:["鄂城区","华容区","梁子湖区","其他"]},{name:"荆门",area:["东宝区","掇刀区","钟祥市","京山县","沙洋县","其他"]},{name:"孝感",area:["孝南区","应城市","安陆市","汉川市","云梦县","大悟县","孝昌县","其他"]},{name:"黄冈",area:["黄州区","麻城市","武穴市","红安县","罗田县","浠水县","蕲春县","黄梅县","英山县","团风县","其他"]},{name:"咸宁",area:["咸安区","赤壁市","嘉鱼县","通山县","崇阳县","通城县","其他"]},{name:"随州",area:["曾都区","广水市","其他"]},{name:"恩施土家族苗族自治州",area:["恩施市","利川市","建始县","来凤县","巴东县","鹤峰县","宣恩县","咸丰县","其他"]},{name:"仙桃",area:["仙桃"]},{name:"天门",area:["天门"]},{name:"潜江",area:["潜江"]},{name:"神农架林区",area:["神农架林区"]},{name:"其他",area:["其他"]}]},{name:"湖南",city:[{name:"长沙",area:["岳麓区","芙蓉区","天心区","开福区","雨花区","浏阳市","长沙县","望城县","宁乡县","其他"]},{name:"株洲",area:["天元区","荷塘区","芦淞区","石峰区","醴陵市","株洲县","炎陵县","茶陵县","攸县","其他"]},{name:"湘潭",area:["岳塘区","雨湖区","湘乡市","韶山市","湘潭县","其他"]},{name:"衡阳",area:["雁峰区","珠晖区","石鼓区","蒸湘区","南岳区","耒阳市","常宁市","衡阳县","衡东县","衡山县","衡南县","祁东县","其他"]},{name:"邵阳",area:["双清区","大祥区","北塔区","武冈市","邵东县","洞口县","新邵县","绥宁县","新宁县","邵阳县","隆回县","城步苗族自治县","其他"]},{name:"岳阳",area:["岳阳楼区","云溪区","君山区","临湘市","汨罗市","岳阳县","湘阴县","平江县","华容县","其他"]},{name:"常德",area:["武陵区","鼎城区","津市市","澧县","临澧县","桃源县","汉寿县","安乡县","石门县","其他"]},{name:"张家界",area:["永定区","武陵源区","慈利县","桑植县","其他"]},{name:"益阳",area:["赫山区","资阳区","沅江市","桃江县","南县","安化县","其他"]},{name:"郴州",area:["北湖区","苏仙区","资兴市","宜章县","汝城县","安仁县","嘉禾县","临武县","桂东县","永兴县","桂阳县","其他"]},{name:"永州",area:["冷水滩区","零陵区","祁阳县","蓝山县","宁远县","新田县","东安县","江永县","道县","双牌县","江华瑶族自治县","其他"]},{name:"怀化",area:["鹤城区","洪江市","会同县","沅陵县","辰溪县","溆浦县","中方县","新晃侗族自治县","芷江侗族自治县","通道侗族自治县","靖州苗族侗族自治县","麻阳苗族自治县","其他"]},{name:"娄底",area:["娄星区","冷水江市","涟源市","新化县","双峰县","其他"]},{name:"湘西土家族苗族自治州",area:["吉首市","古丈县","龙山县","永顺县","凤凰县","泸溪县","保靖县","花垣县","其他"]},{name:"其他",area:["其他"]}]},{name:"广东",city:[{name:"广州",area:["越秀区","荔湾区","海珠区","天河区","白云区","黄埔区","番禺区","花都区","南沙区","萝岗区","增城市","从化市","其他"]},{name:"深圳",area:["福田区","罗湖区","南山区","宝安区","龙岗区","盐田区","其他"]},{name:"东莞",area:["莞城","常平","塘厦","塘厦","塘厦","其他"]},{name:"中山",area:["中山"]},{name:"潮州",area:["湘桥区","潮安县","饶平县","其他"]},{name:"揭阳",area:["榕城区","揭东县","揭西县","惠来县","普宁市","其他"]},{name:"云浮",area:["云城区","新兴县","郁南县","云安县","罗定市","其他"]},{name:"珠海",area:["香洲区","斗门区","金湾区","其他"]},{name:"汕头",area:["金平区","濠江区","龙湖区","潮阳区","潮南区","澄海区","南澳县","其他"]},{name:"韶关",area:["浈江区","武江区","曲江区","乐昌市","南雄市","始兴县","仁化县","翁源县","新丰县","乳源瑶族自治县","其他"]},{name:"佛山",area:["禅城区","南海区","顺德区","三水区","高明区","其他"]},{name:"江门",area:["蓬江区","江海区","新会区","恩平市","台山市","开平市","鹤山市","其他"]},{name:"湛江",area:["赤坎区","霞山区","坡头区","麻章区","吴川市","廉江市","雷州市","遂溪县","徐闻县","其他"]},{name:"茂名",area:["茂南区","茂港区","化州市","信宜市","高州市","电白县","其他"]},{name:"肇庆",area:["端州区","鼎湖区","高要市","四会市","广宁县","怀集县","封开县","德庆县","其他"]},{name:"惠州",area:["惠城区","惠阳区","博罗县","惠东县","龙门县","其他"]},{name:"梅州",area:["梅江区","兴宁市","梅县","大埔县","丰顺县","五华县","平远县","蕉岭县","其他"]},{name:"汕尾",area:["城区","陆丰市","海丰县","陆河县","其他"]},{name:"河源",area:["源城区","紫金县","龙川县","连平县","和平县","东源县","其他"]},{name:"阳江",area:["江城区","阳春市","阳西县","阳东县","其他"]},{name:"清远",area:["清城区","英德市","连州市","佛冈县","阳山县","清新县","连山壮族瑶族自治县","连南瑶族自治县","其他"]}]},{name:"广西",city:[{name:"南宁",area:["青秀区","兴宁区","西乡塘区","良庆区","江南区","邕宁区","武鸣县","隆安县","马山县","上林县","宾阳县","横县","其他"]},{name:"柳州",area:["城中区","鱼峰区","柳北区","柳南区","柳江县","柳城县","鹿寨县","融安县","融水苗族自治县","三江侗族自治县","其他"]},{name:"桂林",area:["象山区","秀峰区","叠彩区","七星区","雁山区","阳朔县","临桂县","灵川县","全州县","平乐县","兴安县","灌阳县","荔浦县","资源县","永福县","龙胜各族自治县","恭城瑶族自治县","其他"]},{name:"梧州",area:["万秀区","蝶山区","长洲区","岑溪市","苍梧县","藤县","蒙山县","其他"]},{name:"北海",area:["海城区","银海区","铁山港区","合浦县","其他"]},{name:"防城港",area:["港口区","防城区","东兴市","上思县","其他"]},{name:"钦州",area:["钦南区","钦北区","灵山县","浦北县","其他"]},{name:"贵港",area:["港北区","港南区","覃塘区","桂平市","平南县","其他"]},{name:"玉林",area:["玉州区","北流市","容县","陆川县","博白县","兴业县","其他"]},{name:"百色",area:["右江区","凌云县","平果县","西林县","乐业县","德保县","田林县","田阳县","靖西县","田东县","那坡县","隆林各族自治县","其他"]},{name:"贺州",area:["八步区","钟山县","昭平县","富川瑶族自治县","其他"]},{name:"河池",area:["金城江区","宜州市","天峨县","凤山县","南丹县","东兰县","都安瑶族自治县","罗城仫佬族自治县","巴马瑶族自治县","环江毛南族自治县","大化瑶族自治县","其他"]},{name:"来宾",area:["兴宾区","合山市","象州县","武宣县","忻城县","金秀瑶族自治县","其他"]},{name:"崇左",area:["江州区","凭祥市","宁明县","扶绥县","龙州县","大新县","天等县","其他"]},{name:"其他",area:["其他"]}]},{name:"海南",city:[{name:"海口",area:["龙华区","秀英区","琼山区","美兰区","其他"]},{name:"三亚",area:["三亚市","其他"]},{name:"五指山",area:["五指山"]},{name:"琼海",area:["琼海"]},{name:"儋州",area:["儋州"]},{name:"文昌",area:["文昌"]},{name:"万宁",area:["万宁"]},{name:"东方",area:["东方"]},{name:"澄迈县",area:["澄迈县"]},{name:"定安县",area:["定安县"]},{name:"屯昌县",area:["屯昌县"]},{name:"临高县",area:["临高县"]},{name:"白沙黎族自治县",area:["白沙黎族自治县"]},{name:"昌江黎族自治县",area:["昌江黎族自治县"]},{name:"乐东黎族自治县",area:["乐东黎族自治县"]},{name:"陵水黎族自治县",area:["陵水黎族自治县"]},{name:"保亭黎族苗族自治县",area:["保亭黎族苗族自治县"]},{name:"琼中黎族苗族自治县",area:["琼中黎族苗族自治县"]},{name:"其他",area:["其他"]}]},{name:"重庆",city:[{name:"重庆",area:["渝中区","大渡口区","江北区","南岸区","北碚区","渝北区","巴南区","长寿区","双桥区","沙坪坝区","万盛区","万州区","涪陵区","黔江区","永川区","合川区","江津区","九龙坡区","南川区","綦江县","潼南县","荣昌县","璧山县","大足县","铜梁县","梁平县","开县","忠县","城口县","垫江县","武隆县","丰都县","奉节县","云阳县","巫溪县","巫山县","石柱土家族自治县","秀山土家族苗族自治县","酉阳土家族苗族自治县","彭水苗族土家族自治县","其他"]}]},{name:"四川",city:[{name:"成都",area:["青羊区","锦江区","金牛区","武侯区","成华区","龙泉驿区","青白江区","新都区","温江区","都江堰市","彭州市","邛崃市","崇州市","金堂县","郫县","新津县","双流县","蒲江县","大邑县","其他"]},{name:"自贡",area:["大安区","自流井区","贡井区","沿滩区","荣县","富顺县","其他"]},{name:"攀枝花",area:["仁和区","米易县","盐边县","东区","西区","其他"]},{name:"泸州",area:["江阳区","纳溪区","龙马潭区","泸县","合江县","叙永县","古蔺县","其他"]},{name:"德阳",area:["旌阳区","广汉市","什邡市","绵竹市","罗江县","中江县","其他"]},{name:"绵阳",area:["涪城区","游仙区","江油市","盐亭县","三台县","平武县","安县","梓潼县","北川羌族自治县","其他"]},{name:"广元",area:["元坝区","朝天区","青川县","旺苍县","剑阁县","苍溪县","市中区","其他"]},{name:"遂宁",area:["船山区","安居区","射洪县","蓬溪县","大英县","其他"]},{name:"内江",area:["市中区","东兴区","资中县","隆昌县","威远县","其他"]},{name:"乐山",area:["市中区","五通桥区","沙湾区","金口河区","峨眉山市","夹江县","井研县","犍为县","沐川县","马边彝族自治县","峨边彝族自治县","其他"]},{name:"南充",area:["顺庆区","高坪区","嘉陵区","阆中市","营山县","蓬安县","仪陇县","南部县","西充县","其他"]},{name:"眉山",area:["东坡区","仁寿县","彭山县","洪雅县","丹棱县","青神县","其他"]},{name:"宜宾",area:["翠屏区","宜宾县","兴文县","南溪县","珙县","长宁县","高县","江安县","筠连县","屏山县","其他"]},{name:"广安",area:["广安区","华蓥市","岳池县","邻水县","武胜县","其他"]},{name:"达州",area:["通川区","万源市","达县","渠县","宣汉县","开江县","大竹县","其他"]},{name:"雅安",area:["雨城区","芦山县","石棉县","名山县","天全县","荥经县","宝兴县","汉源县","其他"]},{name:"巴中",area:["巴州区","南江县","平昌县","通江县","其他"]},{name:"资阳",area:["雁江区","简阳市","安岳县","乐至县","其他"]},{name:"阿坝藏族羌族自治州",area:["马尔康县","九寨沟县","红原县","汶川县","阿坝县","理县","若尔盖县","小金县","黑水县","金川县","松潘县","壤塘县","茂县","其他"]},{name:"甘孜藏族自治州",area:["康定县","丹巴县","炉霍县","九龙县","甘孜县","雅江县","新龙县","道孚县","白玉县","理塘县","德格县","乡城县","石渠县","稻城县","色达县","巴塘县","泸定县","得荣县","其他"]},{name:"凉山彝族自治州",area:["西昌市","美姑县","昭觉县","金阳县","甘洛县","布拖县","雷波县","普格县","宁南县","喜德县","会东县","越西县","会理县","盐源县","德昌县","冕宁县","木里藏族自治县","其他"]},{name:"其他",area:["其他"]}]},{name:"贵州",city:[{name:"贵阳",area:["南明区","云岩区","花溪区","乌当区","白云区","小河区","清镇市","开阳县","修文县","息烽县","其他"]},{name:"六盘水",area:["钟山区","水城县","盘县","六枝特区","其他"]},{name:"遵义",area:["红花岗区","汇川区","赤水市","仁怀市","遵义县","绥阳县","桐梓县","习水县","凤冈县","正安县","余庆县","湄潭县","道真仡佬族苗族自治县","务川仡佬族苗族自治县","其他"]},{name:"安顺",area:["西秀区","普定县","平坝县","镇宁布依族苗族自治县","紫云苗族布依族自治县","关岭布依族苗族自治县","其他"]},{name:"铜仁地区",area:["铜仁市","德江县","江口县","思南县","石阡县","玉屏侗族自治县","松桃苗族自治县","印江土家族苗族自治县","沿河土家族自治县","万山特区","其他"]},{name:"毕节地区",area:["毕节市","黔西县","大方县","织金县","金沙县","赫章县","纳雍县","威宁彝族回族苗族自治县","其他"]},{name:"黔西南布依族苗族自治州",area:["兴义市","望谟县","兴仁县","普安县","册亨县","晴隆县","贞丰县","安龙县","其他"]},{name:"黔东南苗族侗族自治州",area:["凯里市","施秉县","从江县","锦屏县","镇远县","麻江县","台江县","天柱县","黄平县","榕江县","剑河县","三穗县","雷山县","黎平县","岑巩县","丹寨县","其他"]},{name:"黔南布依族苗族自治州",area:["都匀市","福泉市","贵定县","惠水县","罗甸县","瓮安县","荔波县","龙里县","平塘县","长顺县","独山县","三都水族自治县","其他"]},{name:"其他",area:["其他"]}]},{name:"云南",city:[{name:"昆明",area:["盘龙区","五华区","官渡区","西山区","东川区","安宁市","呈贡县","晋宁县","富民县","宜良县","嵩明县","石林彝族自治县","禄劝彝族苗族自治县","寻甸回族彝族自治县","其他"]},{name:"曲靖",area:["麒麟区","宣威市","马龙县","沾益县","富源县","罗平县","师宗县","陆良县","会泽县","其他"]},{name:"玉溪",area:["红塔区","江川县","澄江县","通海县","华宁县","易门县","峨山彝族自治县","新平彝族傣族自治县","元江哈尼族彝族傣族自治县","其他"]},{name:"保山",area:["隆阳区","施甸县","腾冲县","龙陵县","昌宁县","其他"]},{name:"昭通",area:["昭阳区","鲁甸县","巧家县","盐津县","大关县","永善县","绥江县","镇雄县","彝良县","威信县","水富县","其他"]},{name:"丽江",area:["古城区","永胜县","华坪县","玉龙纳西族自治县","宁蒗彝族自治县","其他"]},{name:"普洱",area:["思茅区","普洱哈尼族彝族自治县","墨江哈尼族自治县","景东彝族自治县","景谷傣族彝族自治县","镇沅彝族哈尼族拉祜族自治县","江城哈尼族彝族自治县","孟连傣族拉祜族佤族自治县","澜沧拉祜族自治县","西盟佤族自治县","其他"]},{name:"临沧",area:["临翔区","凤庆县","云县","永德县","镇康县","双江拉祜族佤族布朗族傣族自治县","耿马傣族佤族自治县","沧源佤族自治县","其他"]},{name:"德宏傣族景颇族自治州",area:["潞西市","瑞丽市","梁河县","盈江县","陇川县","其他"]},{name:"怒江傈僳族自治州",area:["泸水县","福贡县","贡山独龙族怒族自治县","兰坪白族普米族自治县","其他"]},{name:"迪庆藏族自治州",area:["香格里拉县","德钦县","维西傈僳族自治县","其他"]},{name:"大理白族自治州",area:["大理市","祥云县","宾川县","弥渡县","永平县","云龙县","洱源县","剑川县","鹤庆县","漾濞彝族自治县","南涧彝族自治县","巍山彝族回族自治县","其他"]},{name:"楚雄彝族自治州",area:["楚雄市","双柏县","牟定县","南华县","姚安县","大姚县","永仁县","元谋县","武定县","禄丰县","其他"]},{name:"红河哈尼族彝族自治州",area:["蒙自县","个旧市","开远市","绿春县","建水县","石屏县","弥勒县","泸西县","元阳县","红河县","金平苗族瑶族傣族自治县","河口瑶族自治县","屏边苗族自治县","其他"]},{name:"文山壮族苗族自治州",area:["文山县","砚山县","西畴县","麻栗坡县","马关县","丘北县","广南县","富宁县","其他"]},{name:"西双版纳傣族自治州",area:["景洪市","勐海县","勐腊县","其他"]},{name:"其他",area:["其他"]}]},{name:"西藏",city:[{name:"拉萨",area:["城关区","林周县","当雄县","尼木县","曲水县","堆龙德庆县","达孜县","墨竹工卡县","其他"]},{name:"那曲地区",area:["那曲县","嘉黎县","比如县","聂荣县","安多县","申扎县","索县","班戈县","巴青县","尼玛县","其他"]},{name:"昌都地区",area:["昌都县","江达县","贡觉县","类乌齐县","丁青县","察雅县","八宿县","左贡县","芒康县","洛隆县","边坝县","其他"]},{name:"林芝地区",area:["林芝县","工布江达县","米林县","墨脱县","波密县","察隅县","朗县","其他"]},{name:"山南地区",area:["乃东县","扎囊县","贡嘎县","桑日县","琼结县","曲松县","措美县","洛扎县","加查县","隆子县","错那县","浪卡子县","其他"]},{name:"日喀则地区",area:["日喀则市","南木林县","江孜县","定日县","萨迦县","拉孜县","昂仁县","谢通门县","白朗县","仁布县","康马县","定结县","仲巴县","亚东县","吉隆县","聂拉木县","萨嘎县","岗巴县","其他"]},{name:"阿里地区",area:["噶尔县","普兰县","札达县","日土县","革吉县","改则县","措勤县","其他"]},{name:"其他",area:["其他"]}]},{name:"陕西",city:[{name:"西安",area:["莲湖区","新城区","碑林区","雁塔区","灞桥区","未央区","阎良区","临潼区","长安区","高陵县","蓝田县","户县","周至县","其他"]},{name:"铜川",area:["耀州区","王益区","印台区","宜君县","其他"]},{name:"宝鸡",area:["渭滨区","金台区","陈仓区","岐山县","凤翔县","陇县","太白县","麟游县","扶风县","千阳县","眉县","凤县","其他"]},{name:"咸阳",area:["秦都区","渭城区","杨陵区","兴平市","礼泉县","泾阳县","永寿县","三原县","彬县","旬邑县","长武县","乾县","武功县","淳化县","其他"]},{name:"渭南",area:["临渭区","韩城市","华阴市","蒲城县","潼关县","白水县","澄城县","华县","合阳县","富平县","大荔县","其他"]},{name:"延安",area:["宝塔区","安塞县","洛川县","子长县","黄陵县","延川县","富县","延长县","甘泉县","宜川县","志丹县","黄龙县","吴起县","其他"]},{name:"汉中",area:["汉台区","留坝县","镇巴县","城固县","南郑县","洋县","宁强县","佛坪县","勉县","西乡县","略阳县","其他"]},{name:"榆林",area:["榆阳区","清涧县","绥德县","神木县","佳县","府谷县","子洲县","靖边县","横山县","米脂县","吴堡县","定边县","其他"]},{name:"安康",area:["汉滨区","紫阳县","岚皋县","旬阳县","镇坪县","平利县","石泉县","宁陕县","白河县","汉阴县","其他"]},{name:"商洛",area:["商州区","镇安县","山阳县","洛南县","商南县","丹凤县","柞水县","其他"]},{name:"其他",area:["其他"]}]},{name:"甘肃",city:[{name:"兰州",area:["城关区","七里河区","西固区","安宁区","红古区","永登县","皋兰县","榆中县","其他"]},{name:"嘉峪关",area:["嘉峪关市","其他"]},{name:"金昌",area:["金川区","永昌县","其他"]},{name:"白银",area:["白银区","平川区","靖远县","会宁县","景泰县","其他"]},{name:"天水",area:["清水县","秦安县","甘谷县","武山县","张家川回族自治县","北道区","秦城区","其他"]},{name:"武威",area:["凉州区","民勤县","古浪县","天祝藏族自治县","其他"]},{name:"酒泉",area:["肃州区","玉门市","敦煌市","金塔县","肃北蒙古族自治县","阿克塞哈萨克族自治县","安西县","其他"]},{name:"张掖",area:["甘州区","民乐县","临泽县","高台县","山丹县","肃南裕固族自治县","其他"]},{name:"庆阳",area:["西峰区","庆城县","环县","华池县","合水县","正宁县","宁县","镇原县","其他"]},{name:"平凉",area:["崆峒区","泾川县","灵台县","崇信县","华亭县","庄浪县","静宁县","其他"]},{name:"定西",area:["安定区","通渭县","临洮县","漳县","岷县","渭源县","陇西县","其他"]},{name:"陇南",area:["武都区","成县","宕昌县","康县","文县","西和县","礼县","两当县","徽县","其他"]},{name:"临夏回族自治州",area:["临夏市","临夏县","康乐县","永靖县","广河县","和政县","东乡族自治县","积石山保安族东乡族撒拉族自治县","其他"]},{name:"甘南藏族自治州",area:["合作市","临潭县","卓尼县","舟曲县","迭部县","玛曲县","碌曲县","夏河县","其他"]},{name:"其他",area:["其他"]}]},{name:"青海",city:[{name:"西宁",area:["城中区","城东区","城西区","城北区","湟源县","湟中县","大通回族土族自治县","其他"]},{name:"海东地区",area:["平安县","乐都县","民和回族土族自治县","互助土族自治县","化隆回族自治县","循化撒拉族自治县","其他"]},{name:"海北藏族自治州",area:["海晏县","祁连县","刚察县","门源回族自治县","其他"]},{name:"海南藏族自治州",area:["共和县","同德县","贵德县","兴海县","贵南县","其他"]},{name:"黄南藏族自治州",area:["同仁县","尖扎县","泽库县","河南蒙古族自治县","其他"]},{name:"果洛藏族自治州",area:["玛沁县","班玛县","甘德县","达日县","久治县","玛多县","其他"]},{name:"玉树藏族自治州",area:["玉树县","杂多县","称多县","治多县","囊谦县","曲麻莱县","其他"]},{name:"海西蒙古族藏族自治州",area:["德令哈市","格尔木市","乌兰县","都兰县","天峻县","其他"]},{name:"其他",area:["其他"]}]},{name:"宁夏",city:[{name:"银川",area:["兴庆区","西夏区","金凤区","灵武市","永宁县","贺兰县","其他"]},{name:"石嘴山",area:["大武口区","惠农区","平罗县","其他"]},{name:"吴忠",area:["利通区","青铜峡市","盐池县","同心县","其他"]},{name:"固原",area:["原州区","西吉县","隆德县","泾源县","彭阳县","其他"]},{name:"中卫",area:["沙坡头区","中宁县","海原县","其他"]},{name:"其他",area:["其他"]}]},{name:"新疆",city:[{name:"乌鲁木齐",area:["天山区","沙依巴克区","新市区","水磨沟区","头屯河区","达坂城区","东山区","乌鲁木齐县","其他"]},{name:"克拉玛依",area:["克拉玛依区","独山子区","白碱滩区","乌尔禾区","其他"]},{name:"吐鲁番地区",area:["吐鲁番市","托克逊县","鄯善县","其他"]},{name:"哈密地区",area:["哈密市","伊吾县","巴里坤哈萨克自治县","其他"]},{name:"和田地区",area:["和田市","和田县","洛浦县","民丰县","皮山县","策勒县","于田县","墨玉县","其他"]},{name:"阿克苏地区",area:["阿克苏市","温宿县","沙雅县","拜城县","阿瓦提县","库车县","柯坪县","新和县","乌什县","其他"]},{name:"喀什地区",area:["喀什市","巴楚县","泽普县","伽师县","叶城县","岳普湖县","疏勒县","麦盖提县","英吉沙县","莎车县","疏附县","塔什库尔干塔吉克自治县","其他"]},{name:"克孜勒苏柯尔克孜自治州",area:["阿图什市","阿合奇县","乌恰县","阿克陶县","其他"]},{name:"巴音郭楞蒙古自治州",area:["库尔勒市","和静县","尉犁县","和硕县","且末县","博湖县","轮台县","若羌县","焉耆回族自治县","其他"]},{name:"昌吉回族自治州",area:["昌吉市","阜康市","奇台县","玛纳斯县","吉木萨尔县","呼图壁县","木垒哈萨克自治县","米泉市","其他"]},{name:"博尔塔拉蒙古自治州",area:["博乐市","精河县","温泉县","其他"]},{name:"石河子",area:["石河子"]},{name:"阿拉尔",area:["阿拉尔"]},{name:"图木舒克",area:["图木舒克"]},{name:"五家渠",area:["五家渠"]},{name:"伊犁哈萨克自治州",area:["伊宁市","奎屯市","伊宁县","特克斯县","尼勒克县","昭苏县","新源县","霍城县","巩留县","察布查尔锡伯自治县","塔城地区","阿勒泰地区","其他"]},{name:"其他",area:["其他"]}]},{name:"台湾",city:[{name:"台湾",area:["台北市","高雄市","台北县","桃园县","新竹县","苗栗县","台中县","彰化县","南投县","云林县","嘉义县","台南县","高雄县","屏东县","宜兰县","花莲县","台东县","澎湖县","基隆市","新竹市","台中市","嘉义市","台南市","其他"]},{name:"其他",area:["其他"]}]},{name:"澳门",city:[{name:"澳门",area:["花地玛堂区","圣安多尼堂区","大堂区","望德堂区","风顺堂区","嘉模堂区","圣方济各堂区","路凼","其他"]}]},{name:"香港",city:[{name:"香港",area:["中西区","湾仔区","东区","南区","深水埗区","油尖旺区","九龙城区","黄大仙区","观塘区","北区","大埔区","沙田区","西贡区","元朗区","屯门区","荃湾区","葵青区","离岛区","其他"]}]},{name:"钓鱼岛",city:[{name:"钓鱼岛",area:["钓鱼岛"]}]}];function e(){for(var e=[],a=0;a<t.length;a++)e.push({value:t[a].name});return e}function a(e){var a,n,i,l=[];for(n=0;n<t.length;n++)if(e===t[n].name){for(a=t[n].city,i=0;i<a.length;i++)l.push({value:a[i].name});break}return l}function n(e,a){var n,i,l,o,s=[];for(i=0;i<t.length;i++)if(e===t[i].name){for(n=t[i].city,l=0;l<n.length;l++)if(a===n[l].name){for(o=0;o<n[l].area.length;o++)s.push({value:n[l].area[o]});break}break}return s}var i={};i.getProvince=e,i.getCity=a,i.getArea=n,window.ChinaCity=i})()},a63c:function(t,e,a){"use strict";a.r(e);var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("d545"),d=a("f534"),p=function(t){function e(){return Object(n["a"])(this,e),Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu-admin",[this.renderMenuSlot()])}}]),e}(Object(c["b"])(u["a"]));p=r["a"]([Object(c["a"])({components:{ContestDetailMenuAdmin:d["a"]}})],p),e["default"]=p},a796:function(t,e,a){"use strict";var n=a("ba7e"),i=a.n(n);i.a},aa77:function(t,e,a){var n=a("5ca1"),i=a("be13"),l=a("79e5"),o=a("fdef"),s="["+o+"]",r="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,a){var i={},s=l(function(){return!!o[t]()||r[t]()!=r}),c=i[t]=s?e(p):o[t];a&&(i[a]=c),n(n.P+n.F*s,"String",i)},p=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ad12:function(t,e,a){"use strict";var n=a("7419"),i=a.n(n);i.a},ae85:function(t,e,a){"use strict";var n=a("3c0a"),i=a.n(n);i.a},aeef:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"TopicBankTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"$topicBankTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}},on:{"selection-change":t.selectionChange,"expand-change":t.expandChange}},[t.selectionHide?a("el-table-column",{attrs:{type:"selection",width:"40px"}}):t._e(),a("el-table-column",{attrs:{label:"题目编号",align:"center",width:"75px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row._id))])])}}])}),a("el-table-column",{attrs:{label:"题目","show-overflow-tooltip":"","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.title))])]}}])}),a("el-table-column",{attrs:{label:"考点",align:"center","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},t._l(e.row.tags,function(e,n){return a("span",{key:n,staticClass:"topic-tags"},[t._v("\n          "+t._s(e)+"\n        ")])}),0)}}])}),t.isPublicBank?a("el-table-column",{attrs:{label:"是否可见",align:"center","min-width":"37px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("el-switch",{attrs:{"active-color":"#0FCE96","inactive-color":"#B6B6B6",disabled:t.isPublicBank&&!t.isPublicBankPage},on:{change:function(a){return t.problemListSwitch(e.row)}},model:{value:e.row.visible,callback:function(a){t.$set(e.row,"visible",a)},expression:"scope.row.visible"}})],1)}}],null,!1,2045219807)},[a("template",{slot:"header"},[a("span",[t._v("是否可见")]),a("el-tooltip",{staticStyle:{"margin-left":"4px"},attrs:{effect:"dark",content:"不建议将未公开试题加入竞赛",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1)],2):t._e(),a("el-table-column",{attrs:{label:"正确/提交",align:"center","min-width":"42px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.accepted_number+"/"+e.row.submission_number))])]}}])}),a("el-table-column",{attrs:{label:"通过率",align:"center","min-width":"29px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[0===e.row.accepted_number||0===e.row.submission_number?a("span",[t._v("\n          0.0%\n        ")]):a("span",[t._v("\n          "+t._s((e.row.accepted_number/e.row.submission_number*100).toFixed(1)+"%")+"\n        ")])])}}])}),a("el-table-column",{attrs:{label:"难度",align:"center","min-width":"22px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("tag",{attrs:{effect:"dark",size:"mini",type:t.difficult(e.row.difficulty),round:!0}},[t._v("\n          "+t._s(e.row.difficulty)+"\n        ")])],1)}}])}),a("el-table-column",{attrs:{label:"竞赛引用次数",align:"center","min-width":"45px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.call_count))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("div",{staticClass:"operationBox",class:t.classAdd(e.row.addtest,e.row.collection),staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[a("p",{staticClass:"operationText",style:{display:t.getRouteName()}},[t.isCreateContestSelectTopicPage?t._e():a("el-button",{style:e.row.isTestEdit?{color:"#8acbf3"}:"",attrs:{type:"text",size:"mini",disabled:!t.canEdit},on:{click:function(a){e.row.isTestEdit?t.disabledClick():t.edit(e.$index,e.row)}}},[t._v("\n              编辑\n            ")]),t.isPublicBankPage?a("el-divider",{attrs:{direction:"vertical"}}):t._e(),t.isPublicBankPage?a("el-button",{style:e.row.isTestEdit?{color:"#8acbf3"}:"",attrs:{type:"text",size:"mini",disabled:!t.canEdit},on:{click:function(a){e.row.isTestEdit?t.disabledClick():t.deleteTopic(e.$index,e.row)}}},[t._v("\n              删除\n            ")]):t._e()],1),a("div",{ref:"addtest",staticClass:"operationBtn center"},[!t.isPublicBankPage||e.row.collection?a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isPublicBankPage&&!t.isCreateContestSelectTopicPage,expression:"!isPublicBankPage && !isCreateContestSelectTopicPage"}],staticClass:"collection",attrs:{size:"mini"},on:{click:function(a){return t.deleteTopic(e.$index,e.row)}}},[t._v("\n              删除试题\n            ")]):t._e(),t.isPublicBankPage?a("el-button",{ref:"collection",staticClass:"collection",attrs:{size:"mini"},on:{click:function(a){return t.collectionTopic(e.$index,e.row)}}},[t._v("\n              收藏试题\n            ")]):t._e(),t.isCreateContestSelectTopicPage?t._e():a("el-button",{staticClass:"delcollection",attrs:{size:"mini"},on:{click:function(a){return t.disCollection(e.$index,e.row)}}},[t._v("\n              取消收藏\n            ")]),a("el-button",{staticClass:"addtest",attrs:{size:"mini"},on:{click:function(a){return t.addToBasket(e.$index,e.row)}}},[t._v("加入试卷")]),a("el-button",{ref:"deltest",staticClass:"deltest",attrs:{size:"mini"},on:{click:function(a){return t.moveToBasket(e.$index,e.row)}}},[t._v("\n              移出试卷\n            ")])],1)])])}}])}),a("el-table-column",{attrs:{type:"expand",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("div",{staticClass:"expand_left"},[a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("题目")])]),a("span",{staticStyle:{"text-indent":"2em",display:"inline-block"},domProps:{innerHTML:t._s(e.row.title)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("题目描述")])]),a("p",{domProps:{innerHTML:t._s(e.row.description)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("输入描述")])]),a("p",{domProps:{innerHTML:t._s(e.row.input_description)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("输出描述")])]),a("p",{domProps:{innerHTML:t._s(e.row.output_description)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("提示")])]),a("p",{domProps:{innerHTML:t._s(e.row.hint)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("样例输入")])]),a("pre",{staticClass:"expand_left_span",domProps:{innerHTML:t._s(e.row.samples[0].input)}})]),a("div",{staticClass:"expand_left_son"},[a("div",[a("p",{staticStyle:{"font-weight":"bold",color:"black","font-size":"16px"}},[t._v("样例输出")])]),a("pre",{staticClass:"expand_left_span",domProps:{innerHTML:t._s(e.row.samples[0].output)}})])]),a("div",{staticClass:"expand_right"},[a("el-tabs",{key:e.$index,attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{key:e.$index,attrs:{label:"解析",name:"first"}},[t._l(e.row.answer,function(e,n){return[a("div",{key:n},[a("p",{staticStyle:{"font-weight":"bold","margin-bottom":"16px","font-size":"14px"}},[a("span",{staticStyle:{color:"#11c195"}},[t._v(t._s(e.language))])]),a("div",{staticClass:"answer"},[a("pre",{staticClass:"sample-pre"},[t._v(t._s(e.code))])])])]})],2),a("el-tab-pane",{key:e.$index,attrs:{label:"模版",name:"second"}},[t._l(e.row.template,function(e,n){return[a("div",{key:n},[a("p",{staticStyle:{"font-weight":"bold","margin-bottom":"16px","font-size":"14px"}},[a("span",{staticStyle:{color:"#11c195"}},[t._v(t._s(e.language))])]),a("div",{staticClass:"answer"},[a("pre",{staticClass:"sample-pre"},[t._v(t._s(e.code))])])])]})],2),a("el-tab-pane",{key:e.$index,attrs:{label:"测试用例",name:"third"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[a("p",{staticStyle:{"font-weight":"bold","font-size":"14px"}},[t._v("\n                    测试用例共\n                    "),a("span",{staticStyle:{color:"#11c195"}},[t._v(t._s(e.row.test_cases.length))]),t._v("\n                    组\n                  ")]),a("el-button",{staticStyle:{"margin-right":"20px"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.downTestCase(e.row.id,e.row.old_pro_id)}}},[t._v("\n                    下载\n                  ")])],1),t._l(e.row.test_cases,function(e,n){return[a("div",{key:n,staticClass:"tags_sample"},[a("p",{staticStyle:{"font-size":"16px"}},[t._v("输入样例"+t._s(n+1))]),a("pre",{staticClass:"sample-pre",domProps:{innerHTML:t._s(e.input)}}),a("p",{staticStyle:{"font-size":"16px"}},[t._v("输出样例"+t._s(n+1))]),a("pre",{staticClass:"sample-pre",domProps:{innerHTML:t._s(e.output)}})])]})],2)],1)],1)])]}}])})],1)],1)},i=[],l=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("374b"),f=a("9ed1"),h=a("4694"),b=a("6b17"),v=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.multipleSelection=[],t.activeName="first",t.bugTypes=[],t.addActive=4,t.collectionActive=2,t.routeName="",t.API_DOWN_TEST_CASE=Object(p["Y"])(),t.canEdit=!1,t.isPublicBankPage=!1,t.isPublicBank=!1,t.isCreateContestSelectTopicPage=!1,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"onBankTypeChange",value:function(t){this.isPublicBank="1"===t}},{key:"created",value:function(){this.isPublicBankPage="PublicTopicBankPage"===this.$route.name,this.isCreateContestSelectTopicPage="CreateContestSelectTopicPage"===this.$route.name,"2"!==this.bankType&&this.$store.state.baseInfo.u_type!==f["a"].ADMIN&&this.$store.state.baseInfo.u_type!==f["a"].SUPER_ADMIN||(this.canEdit=!0)}},{key:"disabledClick",value:function(){this.$message({message:"您没有此权限",type:"warning"})}},{key:"toggleAllSelection",value:function(){this.$refs.$topicBankTable.toggleAllSelection()}},{key:"getRouteName",value:function(){return"CreateContestAddTopicPage"===this.$route.name?"none":""}},{key:"difficult",value:function(t){switch(t){case"简单":return"success";case"中等":return"warning";case"困难":return"danger";case"待定":return"info";default:return}}},{key:"classAdd",value:function(t,e){return t&&e?"":t||e?!t&&e?"removeTest":!e&&t?"removeCollection":void 0:"removeTest removeCollection"}},{key:"edit",value:function(t,e){this.$emit("edit",t,e)}},{key:"deleteTopic",value:function(t,e){this.$emit("delete",t,e)}},{key:"addToBasket",value:function(t,e){this.$emit("add-to-basket",t,e)}},{key:"moveToBasket",value:function(t,e){this.$emit("move-to-basket",t,e)}},{key:"collectionTopic",value:function(t,e){this.$emit("collection",t,e)}},{key:"disCollection",value:function(t,e){this.$emit("dis-collection",t,e)}},{key:"problemListSwitch",value:function(t){m["a"].problemSwitch(this,t,Object(p["Ab"])())}},{key:"downTestCase",value:function(t,e){var a=document.createElement("a");a.href="".concat(Object(p["Y"])(),"?problem_id=").concat(0===e?t:e),a.download="filename",a.type="application/octet-stream",a.click()}},{key:"selectionChange",value:function(t){this.$emit("SelectionData",t)}},{key:"expandChange",value:function(t,e){e.length>0?(this.openExpand(t),this.$emit("open",t)):this.$emit("close",t)}},{key:"openExpand",value:function(t){if(!t.test_cases[0].output){var e={problem_id:t.id};Object(h["d"])(Object(p["fb"])(),e).then(function(e){e.result===b["c"]&&Object.assign(t,e.data)})}}}]),e}(d["d"]);u["a"]([Object(d["c"])()],v.prototype,"tableData",void 0),u["a"]([Object(d["c"])()],v.prototype,"flag",void 0),u["a"]([Object(d["c"])()],v.prototype,"loading",void 0),u["a"]([Object(d["c"])()],v.prototype,"selectionHide",void 0),u["a"]([Object(d["c"])()],v.prototype,"bankType",void 0),u["a"]([Object(d["e"])("bankType",{immediate:!0})],v.prototype,"onBankTypeChange",null),v=u["a"]([d["a"]],v);var g=v,y=g,_=(a("64da"),a("2877")),w=Object(_["a"])(y,n,i,!1,null,"5d9a7f75",null);e["a"]=w.exports},b13d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-body-container",staticStyle:{background:"#E1E5E9"}},[a("div",{staticStyle:{display:"flex",height:"60px",background:"#FFFFFF","justify-content":"space-between","align-items":"center"}},[a("class-manage-menu")],1),a("div",{staticStyle:{height:"16px"}}),a("class-contest-list-table",{attrs:{"table-data":t.data,loading:t.loading}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},i=[],l=a("7a34"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ClassContestListPageTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{label:"考试编号",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.display_id))])])}}])}),a("el-table-column",{attrs:{label:"考试名称","min-width":"150px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot",on:{click:t.goExamStatusPage}},[a("router-link",{staticStyle:{color:"#1B8CD0",flex:"1","text-align":"left",cursor:"pointer"},attrs:{to:{name:"ContestRankPage",params:{examID:e.row.id},query:{type:"class"}}}},[t._v("\n          "+t._s(e.row.title)+"\n        ")])],1)}}])}),a("el-table-column",{attrs:{label:"考试时间",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot",staticStyle:{display:"flex","flex-direction":"column"}},[a("p",[t._v("开始于"+t._s(t.getTimeGMT(e.row.start_time)))]),a("p",[t._v("结束于"+t._s(t.getTimeGMT(e.row.end_time)))])])}}])}),a("el-table-column",{attrs:{label:"是否公开",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("el-tooltip",{attrs:{content:"公开状态:"+e.row.visible,placement:"top"}},[a("el-switch",{attrs:{"active-color":"#0FCE96","inactive-color":"#B6B6B6"},on:{change:function(a){return t.TestListSwitch(e.row)}},model:{value:e.row.visible,callback:function(a){t.$set(e.row,"visible",a)},expression:"scope.row.visible"}})],1)],1)}}])}),a("el-table-column",{attrs:{label:"考试人数",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.s_number)+"人")])])}}])}),a("el-table-column",{attrs:{label:"考试状态",align:"center",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[1==e.row.status?a("span",{staticClass:"testStateNo"},[t._v("未开始")]):t._e(),-1==e.row.status?a("span",{staticClass:"testStateOff"},[t._v("已结束")]):t._e(),0==e.row.status?a("span",{staticClass:"testStateIng"},[t._v("进行中")]):t._e()])}}])})],1)],1)},s=[],r=(a("7f7f"),a("4191")),c=a("8564"),u=a("4694"),d=a("c402"),p=a("a1dd"),m={components:{},data:function(){return{total:"",title:"",testListDrawer:!1,getTimeGMT:r["d"],iconDelete:c["i"],problemData:[],contest_id:"",class_id:""}},props:{tableData:{type:Array,default:function(){return[]}},loading:{type:Boolean}},methods:{goExamStatusPage:function(){"ClassContestListPage"===this.$route.name&&Object(p["e"])("gradeID",this.$route.params.gradeID)},TestListSwitch:function(t){var e=this,a=t.visible?"公开":"不公开";this.$confirm("此操作将"+a+'<span style="color:red">'+t.display_id+"</span>的竞赛, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var n={id:t.id,visible:t.visible};Object(u["g"])(Object(d["Bb"])(),n).then(function(n){"successful"===n.result?e.$message({type:"success",message:a+"成功"}):(n.result,t.visible=!t.visible,e.$message({message:n.data,type:"error"}))})}).catch(function(){t.visible=!t.visible,e.$message({type:"info",message:"已取消"+a})})}}},f=m,h=a("2877"),b=Object(h["a"])(f,o,s,!1,null,null,null),v=b.exports,g=a("325f"),y={name:"ClassContestListPage",components:{"class-manage-menu":l["a"],"class-contest-list-table":v,pagination:g["a"]},data:function(){return{loading:!0,api:"",body:{},data:[]}},created:function(){this.api=Object(d["t"])(),this.body={grade_id:this.$route.params.gradeID}},methods:{getDate:function(t){this.data=t}}},_=y,w=(a("0fb4"),Object(h["a"])(_,n,i,!1,null,"1a700cb6",null));e["default"]=w.exports},b2ff:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-title",{attrs:{title:t.titleName}},[a("back-button",{on:{click:t.back}})],1),a("div",{staticStyle:{height:"30px"}}),a("step-view",{attrs:{step:t.step,"step-title":t.stepTitle}}),a("div",{staticStyle:{height:"56px"}}),a("router-view"),a("div",{staticStyle:{height:"24px"}})],1)},i=[],l=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.titleName="批量导入",t.stepTitle=[{title:"上传模板"},{title:"批量导入"},{title:"完成"}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.titleName="student"==this.$route.params.userType?"学生-批量导入":"教师-批量导入"}},{key:"back",value:function(){this.$router.back()}},{key:"step",get:function(){switch(this.$route.name){case"ImportUserTemplatePage":return 0;case"ImportUserProcessPage":return 1;case"ImportUserEndPage":return 2;default:return"unkown"}}}]),e}(d["d"]);p=u["a"]([d["a"]],p);var m=p,f=m,h=a("2877"),b=Object(h["a"])(f,n,i,!1,null,"64248f66",null);e["default"]=b.exports},b3e9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-setting-page"},[a("div",{staticClass:"Setting-Email"},[a("p",{staticClass:"title"},[t._v("邮件配置")]),a("el-form",{ref:"EmailDataFrom",staticStyle:{width:"50%","max-width":"700px"},attrs:{"label-position":"right",rules:t.EmailDataFromRules,model:t.EmailDataFrom,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"服务器:",prop:"server",required:""}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{disabled:this.modifyStatus,placeholder:"请输入服务器地址"},model:{value:t.EmailDataFrom.server,callback:function(e){t.$set(t.EmailDataFrom,"server",e)},expression:"EmailDataFrom.server"}})],1),a("el-col",{attrs:{span:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Top Center 提示文字",placement:"top"}},[a("img",{attrs:{src:t.iconSetHint,alt:""}})])],1)],1),a("el-form-item",{attrs:{label:"端口号:",prop:"port",required:""}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{disabled:this.modifyStatus,placeholder:"请输入端口号"},model:{value:t.EmailDataFrom.port,callback:function(e){t.$set(t.EmailDataFrom,"port",e)},expression:"EmailDataFrom.port"}})],1),a("el-col",{attrs:{span:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Top Center 提示文字",placement:"top"}},[a("img",{attrs:{src:t.iconSetHint,alt:""}})])],1)],1),a("el-form-item",{attrs:{label:"邮箱:",prop:"email",required:""}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{disabled:this.modifyStatus,placeholder:"请输入邮箱"},model:{value:t.EmailDataFrom.email,callback:function(e){t.$set(t.EmailDataFrom,"email",e)},expression:"EmailDataFrom.email"}})],1)],1),a("el-form-item",{attrs:{label:"授权码:",prop:"password",required:""}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{disabled:this.modifyStatus,placeholder:"请输入授权码"},model:{value:t.EmailDataFrom.password,callback:function(e){t.$set(t.EmailDataFrom,"password",e)},expression:"EmailDataFrom.password"}})],1),a("el-col",{attrs:{span:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Top Center ",placement:"right"}},[a("img",{attrs:{src:t.iconSetHint,alt:""}})])],1)],1),a("el-form-item",{attrs:{label:"TLS:",required:""}},[a("el-col",{attrs:{span:2}},[a("el-switch",{attrs:{disabled:this.modifyStatus,"active-color":"#11C195"},model:{value:t.EmailDataFrom.tls,callback:function(e){t.$set(t.EmailDataFrom,"tls",e)},expression:"EmailDataFrom.tls"}})],1),a("el-col",{staticStyle:{height:"40px",display:"flex","justify-content":"center","align-items":"center"},attrs:{span:2}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Top Center 提示文字",placement:"right"}},[a("img",{attrs:{src:t.iconSetHint,alt:""}})])],1)],1),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.submitEmail("EmailDataFrom")}}},[t._v("\n        "+t._s(this.modifyStatus?"修改":"保存")+"\n      ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:this.modifyStatus,expression:"this.modifyStatus"}],attrs:{size:"mini"},on:{click:function(e){return t.smtpTestButton()}}},[t._v("发送测试电子邮件")])],1)],1),t._e(),a("el-dialog",{staticStyle:{padding:"0"},attrs:{visible:t.dialogHeadLogo,width:"622px"},on:{"update:visible":function(e){t.dialogHeadLogo=e}}},[a("div",{staticClass:"dialogImg"},[a("avatar-cropper",{attrs:{src:this.WebsiteDataFrom.website_head_logo},on:{enter:t.uploadHeadLogo}})],1)]),a("el-dialog",{staticStyle:{padding:"0"},attrs:{visible:t.dialogWebsiteLogo,width:"622px"},on:{"update:visible":function(e){t.dialogWebsiteLogo=e}}},[a("div",{staticClass:"dialogImg"},[a("avatar-cropper",{attrs:{src:this.WebsiteDataFrom.website_logo},on:{enter:t.uploadWebsiteLogo}})],1)])],1)},i=[],l=(a("a50d"),a("8564")),o=a("4694"),s=a("c402"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"c-avatar-cutter column-horizontal-center",on:{dragstart:!1}},[a("div",{staticClass:"container g-popup-box"},[a("div",{staticClass:"content row-horizontal-center"},[a("div",{ref:"$cLeft",staticClass:"c-left",class:{"c-left--doing":t.imgURL}},[a("div",{staticClass:"container-box",style:{width:t.containerBoxData.width+"px",height:t.containerBoxData.height+"px"}},[a("img",{ref:"$img",attrs:{src:t.imgURL,alt:""}}),a("div",{staticClass:"img-mask"}),t.imgURL?a("div",{staticClass:"select-box",style:{top:t.selectData.top+"px",left:t.selectData.left+"px",width:t.selectData.width+"px",height:t.selectData.width+"px","background-image":"url("+t.imgURL+")","background-position":-t.selectData.left+"px "+-t.selectData.top+"px","background-size":t.containerBoxData.width+"px "+t.containerBoxData.height+"px"},on:{mousedown:function(e){return t.onMouseDown(e,"move")}}},[a("ul",{staticClass:"x-line"},[a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","top")}}}),a("li"),a("li"),a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","bottom")}}})]),a("ul",{staticClass:"y-line"},[a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","left")}}}),a("li"),a("li"),a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","right")}}})]),a("ul",{staticClass:"point"},[a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","top-left")}}}),a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","top-right")}}}),a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","bottom-left")}}}),a("li",{on:{mousedown:function(e){return e.stopPropagation(),t.onMouseDown(e,"stretch","bottom-right")}}})]),a("div",{staticClass:"cross"})]):t._e()])]),a("div",{staticClass:"line"}),a("div",{staticClass:"c-right center"},[a("div",{staticClass:"preview column-horizontal-center"},[a("p",[t._v(t._s(t.imgURL?"预览LOGO":" 当前LOGO"))]),a("canvas",{ref:"$canvas",class:{"canvas--doing":t.imgURL},staticStyle:{"border-radius":"50%"},attrs:{width:"100",height:"100"}}),a("upload-file-button",{staticStyle:{position:"absolute",bottom:"0"},on:{file:t.fileChange}})],1)])])]),a("p",{staticStyle:{"margin-top":"30px",color:"#99a2aa","font-size":"12px"}},[t._v("\n    请选择图片上传：大小180 * 180像素支持JPG、PNG等格式，图片需小于2M\n  ")]),a("div",{staticClass:"center"},[a("el-button",{staticStyle:{padding:"6px 20px","margin-top":"50px"},attrs:{type:"primary",icon:"el-icon-upload"},on:{click:t.onEnter}},[t._v("\n      确定\n    ")])],1)])},c=[],u=(a("a481"),a("34ef"),a("4917"),a("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("el-button",{staticClass:"btn-upload",attrs:{type:"text",icon:t.uploadFileSuccess?"el-icon-refresh":""}},[t._v("\n    "+t._s(t.uploadFileSuccess?"重新选择":"选择图片")+"\n  ")]),a("input",{staticStyle:{cursor:"pointer",position:"absolute",top:"0",right:"0",opacity:"0"},attrs:{type:"file",accept:"image/*"},on:{change:t.fileChange}})],1)}),d=[],p={name:"UploadFileButton",data:function(){return{uploadFileSuccess:!1}},methods:{fileChange:function(t){this.uploadFileSuccess=!0,this.$emit("file",t)}}},m=p,f=(a("ad12"),a("2877")),h=Object(f["a"])(m,u,d,!1,null,"abc71678",null),b=h.exports,v={components:{"upload-file-button":b},name:"AvatarCropper",props:{src:{type:String,default:""},returnType:{type:String,default:"file"}},data:function(){return{imgURL:"",scaleRate:1,minWidth:20,containerBoxData:{width:0,height:0},selectData:{top:0,left:0,width:0,action:"",originPoint:{},selectLine:""}}},created:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)},mounted:function(){this.$refs.$canvas.style.background="url(".concat(this.src,")")},beforeDestroy:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)},methods:{getImgSize:function(t){return new Promise(function(e){var a=document.createElement("img");a.src=t,a.style.opacity=0,a.addEventListener("error",function(){document.body.removeChild(a),e(!1)}),a.addEventListener("load",function(){var t={width:a.naturalWidth,height:a.naturalHeight};document.body.removeChild(a),e(t)}),document.body.appendChild(a)})},base64ToFile:function(t,e){var a=t.split(","),n=(a[0].match(/:(.*?);/)[1],atob(a[1])),i=n.length,l=new Uint8Array(i);while(i--)l[i]=n.charCodeAt(i);return new File([l],e)},getCamelCase:function(t){return t.replace(/-[a-z]+?/g,function(t){return t[1].toUpperCase()})},getWord:function(t){return t[0].toUpperCase()+t.substr(1)},onMouseDown:function(t,e,a){var n=this.selectData;n.action=e,n.direction=a||"",n.originPoint={x:t.clientX>0?t.clientX:0,y:t.clientY>0?t.clientY:0}},onMouseUp:function(){var t=this.selectData;t.action="",t.direction=""},onMouseMove:function(t){var e=this.selectData,a=this.containerBoxData,n=e.originPoint,i=n.x,l=n.y,o=t.clientX-i,s=t.clientY-l;if("move"===e.action)this.doMove(e,a,o,s);else{if("stretch"!==e.action)return;this.doStretch(e,a,o,s)}e.originPoint={x:t.clientX>0?t.clientX:0,y:t.clientY>0?t.clientY:0},this.setPreview()},doMove:function(t,e,a,n){t.top+=n,t.left+=a,t.top<0&&(t.top=0),t.left<0&&(t.left=0),t.top+t.width>e.height&&(t.top=e.height-t.width),t.left+t.width>e.width&&(t.left=e.width-t.width)},doStretch:function(t,e,a,n){var i=this.minWidth;getOverflowLength=function(){var a=t.left<0?-t.left:0,n=t.top<0?-t.top:0,l=t.left+t.width>e.width?t.left+t.width-e.width:0,o=t.top+t.width>e.height?t.top+t.width-e.height:0,s=t.width<i?i-t.width:0;return Math.max(a,n,l,o,s)},doStretchLeft=function(e){var n=a;n="preDo"===e?n:-n,t.top+=n/2,t.left+=n,t.width-=n},doStretchRight=function(e){var n=a;n="preDo"===e?n:-n,t.top-=n/2,t.width+=n},doStretchTop=function(e){var a=n;a="preDo"===e?a:-a,t.top+=a,t.left+=a/2,t.width-=a},doStretchBottom=function(e){var a=n;a="preDo"===e?a:-a,t.left-=a/2,t.width+=a},doStretchTopLeft=function(e){var i=Math.abs(a)>Math.abs(n)?a:n;i="preDo"===e?i:-i,t.top+=i,t.left+=i,t.width-=i},doStretchTopRight=function(e){var i=Math.abs(a)>Math.abs(n)?a:-n;i="preDo"===e?i:-i,t.top-=i,t.width+=i},doStretchBottomLeft=function(e){var i=Math.abs(a)>Math.abs(n)?a:-n;i="preDo"===e?i:-i,t.left+=i,t.width-=i},doStretchBottomRight=function(e){var i=Math.abs(a)>Math.abs(n)?a:n;i="preDo"===e?i:-i,t.width+=i};var l={doStretchLeft:doStretchLeft,doStretchRight:doStretchRight,doStretchTop:doStretchTop,doStretchBottom:doStretchBottom,doStretchTopLeft:doStretchTopLeft,doStretchTopRight:doStretchTopRight,doStretchBottomLeft:doStretchBottomLeft,doStretchBottomRight:doStretchBottomRight}["doStretch".concat(this.getWord(this.getCamelCase(t.direction)))];l("preDo");var o=getOverflowLength();o>0&&l("reset")},setPreview:function(){var t=this.selectData,e=this.scaleRate,a=this.$refs.$canvas.getContext("2d");a.clearRect(0,0,100,100),a.drawImage(this.$refs.$img,Math.floor(t.left/e),Math.floor(t.top/e),t.width/e,t.width/e,0,0,100,100)},fileChange:function(t){var e=this;this.$refs.$cLeft.style.backgroundColor="#000000";var a=t.target.files[0],n=new FileReader;n.onload=function(){var t=e.selectData,a=e.containerBoxData;e.imgURL=n.result,e.getImgSize(e.imgURL).then(function(n){n.width>n.height?(e.scaleRate=180/n.width,a.width=180,a.height=Math.floor(n.height*e.scaleRate),t.top=0,t.left=(180-a.height)/2,t.width=a.height):(e.scaleRate=180/n.height,a.height=180,a.width=Math.floor(n.width*e.scaleRate),t.left=0,t.top=(180-a.width)/2,t.width=a.width),e.setPreview()})},n.readAsDataURL(a)},onEnter:function(){this.imgURL&&("url"===this.returnType?this.$emit("enter",this.$refs.$canvas.toDataURL()):"file"===this.returnType&&this.$emit("enter",this.base64ToFile(this.$refs.$canvas.toDataURL(),"avatar.png"),this.$refs.$canvas.toDataURL()))},onCancel:function(){this.$emit("cancel")}}},g=v,y=(a("63d3"),Object(f["a"])(g,r,c,!1,null,"e2c98490",null)),_=y.exports,w=a("7b0a"),A=(a("92f3"),a("3dec")),k={components:{"avatar-cropper":_},data:function(){return{smtpTestValue:!1,dialogHeadLogo:!1,dialogWebsiteLogo:!1,iconSetHint:l["L"],modifyStatus:!0,WebsiteStatus:!0,EmailDataFrom:{server:"",port:"",email:"",password:"",tls:!1},WebsiteDataFrom:{website_filing:{Systemer:"",ICP_Filing_Num:"",ICP_FIling_Link:"",Official_website:"",Public_net_Security_Filing:"",Public_net_Security_Filing_Link:""},website_base_url:"",website_name_shortcut:"",website_head_logo:"",website_logo:""},provOptions:[],cityOptions:[],districtOptions:[],EmailDataFromRules:{server:[{required:!0,message:"请输入服务器地址",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:w["b"],trigger:"blur"}],password:[{required:!0,message:"请输入授权码",trigger:"blur"}]},WebsiteDataFromRules:{website_base_url:[{required:!0,message:"请输入Base URl地址",trigger:"blur"},{validator:w["h"],trigger:"blur"}],website_name_shortcut:[{required:!0,message:"请输入head 简称",trigger:"blur"}],"website_filing.ICP_Filing_Num":[{required:!0,message:"请输入ICP备案编号",trigger:"blur"}],"website_filing.Public_net_Security_Filing":[{required:!0,message:"请输入公网安备编号",trigger:"blur"}],"website_filing.Systemer":[{required:!0,message:"请填写系统版权方",trigger:"blur"}],"website_filing.Official_website":[{required:!0,message:"请输入版权方官网地址",trigger:"blur"},{validator:w["h"],trigger:"blur"}]}}},mounted:function(){this.GETEMAILDATA(),this.GETWEBDATA();var t=document.querySelector(".headLogoImg"),e=document.querySelector(".headLogoImgMask"),a=document.querySelector(".websiteLogoImg"),n=document.querySelector(".websiteLogoImgMask");t.onmousemove=function(){e.style.display="block"},a.onmousemove=function(){n.style.display="block"},e.onmouseleave=function(){this.style.display="none"},n.onmouseleave=function(){this.style.display="none"}},methods:{smtpTestButton:function(){var t=this;this.$prompt("请输入邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then(function(e){var a=e.value,n={email:a};Object(o["f"])(Object(s["A"])(),n).then(function(e){"successful"===e.result?Object(A["a"])("成功","success",1e3,t):Object(A["a"])("请输入有效的电子邮件地址","error",1e3,t)})}).catch(function(){t.$message({type:"info",message:"取消输入"})})},handleClose:function(){this.$confirm("确认关闭？").then(function(t){done()}).catch(function(t){})},uploadHeadLogo:function(t,e){this.WebsiteDataFrom.website_head_logo=e,this.WebsiteStatus=!1,this.dialogHeadLogo=!1},uploadWebsiteLogo:function(t,e){this.WebsiteDataFrom.website_logo=e,this.WebsiteStatus=!1,this.dialogWebsiteLogo=!1},webbtn:function(){alert("23")},GETEMAILDATA:function(){var t=this;Object(o["d"])(Object(s["m"])()).then(function(e){t.EmailDataFrom=e.data})},GETWEBDATA:function(){var t=this;Object(o["d"])(Object(s["n"])()).then(function(e){t.WebsiteDataFrom=e.data})},submitWebsite:function(t){var e=this;this.WebsiteStatus||this.$refs[t].validate(function(t){if(!t)return e.$message({message:"错误的提交",type:"error"}),!1;var a=e.WebsiteDataFrom;Object(o["f"])(Object(s["n"])(),a).then(function(t){"successful"===t.result?(e.GETWEBDATA(),e.$message({message:"修改成功",type:"success"})):e.$message({message:t.data,type:"error"})})}),this.WebsiteStatus=!this.WebsiteStatus},submitEmail:function(t){var e=this;this.modifyStatus||this.$refs[t].validate(function(t){if(!t)return Object(A["a"])("错误的提交","error",1e3,e),!1;var a=e.EmailDataFrom;Object(o["f"])(Object(s["m"])(),a).then(function(t){"successful"===t.result?(e.GETEMAILDATA(),Object(A["a"])("修改成功","success",1e3,e)):Object(A["a"])(t.data,"error",1e3,e)})}),this.modifyStatus=!this.modifyStatus}}},x=k,S=(a("98df"),Object(f["a"])(x,n,i,!1,null,null,null));e["default"]=S.exports},b493:function(t,e,a){"use strict";var n=a("5854"),i=a.n(n);i.a},b65b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"announcement"},[a("page-simple-title",{attrs:{title:"公告"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.createAnnouncement}},[t._v("新建公告")])],1),a("div",{staticClass:"judge-table"},[a("announcement-table",{attrs:{data:t.data,loading:t.loading},on:{edit:t.edit,close:t.close,open:t.open,delete:t.deleteAnnouncement}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1),a("announcement-dialog",{ref:"$announcementDialog",on:{createResult:t.createResult,updateResult:t.updateResult}})],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}},on:{"expand-change":t.expandChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("span",[t._v(t._s(t.getTimeGMT(e.row.create_time)))])]),a("el-form-item",{attrs:{label:"更新时间"}},[a("span",[t._v(t._s(t.getTimeGMT(e.row.last_update_time)))])]),a("el-form-item",{attrs:{label:"正文"}},[a("div",{domProps:{innerHTML:t._s(e.row.content)}})])],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{align:"center",label:"置顶","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(t){return a("div",{staticClass:"table-slot"},[a("el-switch",{attrs:{disabled:"true",size:"mini",value:t.row.is_top}})],1)}}])}),a("el-table-column",{attrs:{label:"标题",prop:"title","min-width":"280px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"类型",prop:"title","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.announcementType(e.row.type)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"创建者",prop:"created_by","min-width":"70px"}}),a("el-table-column",{attrs:{align:"center",label:"可见",aligin:"center","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:"true",size:"mini",value:t.row.visible}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"40px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.deleteAnnouncement(e.row)}}},[t._v("删除")])],1)}}])})],1)},m=[],f=a("4191"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.getTimeGMT=f["d"],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"edit",value:function(t){this.$emit("edit",t)}},{key:"deleteAnnouncement",value:function(t){this.$emit("delete",t)}},{key:"expandChange",value:function(t,e){e.length>0?this.$emit("open",t):this.$emit("close",t)}},{key:"announcementType",value:function(t){switch(t){case 0:return"普通公告";case 1:return"考试通知";case 2:return"新版发布"}}}]),e}(d["d"]);u["a"]([Object(d["c"])()],h.prototype,"data",void 0),u["a"]([Object(d["c"])()],h.prototype,"loading",void 0),h=u["a"]([d["a"]],h);var b=h,v=b,g=(a("83b6"),a("2877")),y=Object(g["a"])(v,p,m,!1,null,"1690bf9c",null),_=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.showAnnouncementDialog,width:"800px"},on:{"update:visible":function(e){t.showAnnouncementDialog=e},close:t.hide}},[a("el-form",{ref:"reviseProblemForm",attrs:{model:t.announcementDetailsForm,"label-width":"100px",size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"标题："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.announcementDetailsForm.title,callback:function(e){t.$set(t.announcementDetailsForm,"title",e)},expression:"announcementDetailsForm.title"}})],1),a("el-form-item",{attrs:{label:"正文："}},[a("editor",{attrs:{"editor-id":"announcementContent"},model:{value:t.announcementDetailsForm.content,callback:function(e){t.$set(t.announcementDetailsForm,"content",e)},expression:"announcementDetailsForm.content"}})],1),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"类型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.announcementDetailsForm.type,callback:function(e){t.$set(t.announcementDetailsForm,"type",e)},expression:"announcementDetailsForm.type"}},t._l(t.announcementTypeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"是否可见："}},[a("el-switch",{model:{value:t.announcementDetailsForm.visible,callback:function(e){t.$set(t.announcementDetailsForm,"visible",e)},expression:"announcementDetailsForm.visible"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"是否置顶："}},[a("el-switch",{model:{value:t.announcementDetailsForm.is_top,callback:function(e){t.$set(t.announcementDetailsForm,"is_top",e)},expression:"announcementDetailsForm.is_top"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.hide}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitAnnouncement}},[t._v("确 定")])],1)],1)},A=[],k=a("198e"),x=a("4694"),S=a("c402"),C=a("6b17"),D=a("3dec"),j=function t(){Object(l["a"])(this,t)};j.CREATE="0",j.UPDATE="1",j.DELETE="2";var O=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.type=j.CREATE,t.dialogTitle="-",t.showAnnouncementDialog=!1,t.announcementDetailsForm={title:"",content:"",type:0,visible:!0,is_top:!1},t.announcementTypeOptions=[{value:0,label:"普通公告"},{value:1,label:"考试通知"},{value:2,label:"新版发布"}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"submitAnnouncement",value:function(){var t=this;if(this.type===j.CREATE){var e={created_by:this.$store.state.baseInfo.real_name,created_user_id:this.$store.state.baseInfo.uid,created_by_type:this.$store.state.baseInfo.u_type};Object.assign(e,this.announcementDetailsForm),Object(x["f"])(Object(S["wb"])(),e).then(function(e){Object(D["a"])("创建成功","success",1e3,t),t.$emit("createResult",!0),t.hide()})}else{var a=this.announcementDetailsForm;Object(x["g"])(Object(S["wb"])(),a).then(function(e){e.result===C["c"]&&(Object(D["a"])("更新成功","success",1e3,t),t.$emit("updateResult",!0),t.hide())})}}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type=t,t===j.UPDATE?(this.announcementDetailsForm.id=e.id,this.announcementDetailsForm.title=e.title,this.announcementDetailsForm.content=e.content,this.announcementDetailsForm.type=e.type,this.announcementDetailsForm.visible=e.visible,this.announcementDetailsForm.is_top=e.is_top):t===j.CREATE&&(delete this.announcementDetailsForm.id,this.announcementDetailsForm={title:"",content:"",type:0,visible:!0,is_top:!1}),this.showAnnouncementDialog=!0}},{key:"hide",value:function(){this.showAnnouncementDialog=!1}},{key:"onAnnouncementTypeChange",value:function(t){t===j.CREATE?this.dialogTitle="新建公告":t===j.UPDATE&&(this.dialogTitle="修改公告")}}]),e}(d["d"]);u["a"]([Object(d["e"])("type",{immediate:!0})],O.prototype,"onAnnouncementTypeChange",null),O=u["a"]([Object(d["a"])({components:{Editor:k["a"]}})],O);var T=O,E=T,F=Object(g["a"])(E,w,A,!1,null,"30234c4b",null),$=F.exports,I=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api=Object(S["wb"])(),t.body={},t.data=[],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"createAnnouncement",value:function(){this.$refs.$announcementDialog.show(j.CREATE)}},{key:"getDate",value:function(t){t.map(function(t){t.content=""}),this.data=t}},{key:"edit",value:function(t){var e=this;t.content?this.$refs.$announcementDialog.show(j.UPDATE,t):Object(x["d"])(this.api,{id:t.id}).then(function(a){a.result===C["c"]&&(t.content=a.data.content,e.$refs.$announcementDialog.show(j.UPDATE,t))})}},{key:"deleteAnnouncement",value:function(t){this.handleDeleteAnnouncementEvent(t)}},{key:"close",value:function(t){}},{key:"open",value:function(t){t.content||Object(x["d"])(this.api,{id:t.id}).then(function(e){e.result===C["c"]&&(t.content=e.data.content)})}},{key:"handleDeleteAnnouncementEvent",value:function(t){var e=this;this.$msgbox.confirm("是否删除此公告","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(x["c"])(e.api,{id:t.id}).then(function(t){t.result===C["c"]&&(Object(D["a"])("删除成功","success",1e3,e),e.$refs.$pagination.forceRefresh())})})}},{key:"createResult",value:function(t){t&&this.$refs.$pagination.forceRefresh()}},{key:"updateResult",value:function(t){t&&this.$refs.$pagination.forceRefresh()}}]),e}(d["d"]);I=u["a"]([Object(d["a"])({components:{AnnouncementDialog:$,AnnouncementTable:_}})],I);var B=I,P=B,M=(a("29ed"),Object(g["a"])(P,n,i,!1,null,"75d58789",null));e["default"]=M.exports},b689:function(t,e,a){"use strict";var n=a("8331"),i=a.n(n);i.a},b691:function(t,e,a){"use strict";var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("a1dd"),d=(a("8b25"),function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.prefix="contest-detail",t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:"".concat(this.prefix)},[t("div",[t("router-view")])])}},{key:"beforeDestroy",value:function(){Object(u["c"])("topicId")}}]),e}(c["d"]));d=r["a"]([c["a"]],d),e["a"]=d},b8eb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("router-view")],1)},i=[],l={name:"ItemBank"},o=l,s=(a("5af0"),a("2877")),r=Object(s["a"])(o,n,i,!1,null,"0d5329a4",null);e["default"]=r.exports},b8ef:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",{staticStyle:{"font-size":"14px"}},[t._v("导入用户成功")]),a("div",{staticStyle:{height:"24px"}}),a("p",{staticStyle:{"font-size":"18px"}},[t._v("\n      已成功导入用户:\n      "),a("span",[t._v(t._s(t.SuccessData.length)+"人")])]),a("div",{staticStyle:{height:"12px"}}),a("p",{staticStyle:{color:"red"}},[t._v("账号初始密码默认为学号")]),a("div",{staticStyle:{height:"12px"}})]),a("div",{staticStyle:{display:"flex","justify-content":"center","margin-bottom":"30px"}},[a("el-col",{staticStyle:{width:"500px","margin-right":"10px"},attrs:{span:12}},[[a("el-table",{attrs:{data:t.SuccessData,"header-cell-style":{background:"#46CEAC",color:"#fff"}}},[a("el-table-column",{attrs:{label:"成功"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"number",label:"学号"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)]],2),a("el-col",{staticStyle:{width:"400px"},attrs:{span:12}},[[a("el-table",{attrs:{data:t.errorData,"header-cell-style":{background:"#EB3941",color:"#fff"}}},[a("el-table-column",{attrs:{label:"失败"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"number",label:"学号"}})],1)],1)]],2)],1),a("div",{staticStyle:{height:"24px"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.nextStep}},[t._v("继续导入")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.goBack}},[t._v("完成")])],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=(a("7f7f"),a("a481"),a("5880")),s=a("c402"),r=a("4694");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var d={name:"ImportUserEndPage",data:function(){return{}},methods:{nextStep:function(){this.$router.replace({name:"ImportUserTemplatePage",params:{userType:this.$route.params.userType}})},goBack:function(){this.$router.back()},handleDelete:function(t,e){var a=this;this.$confirm('此操作将删除<span style="color:red">'+e.name+"</span>的账号信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var n={user_id:e.number};Object(r["c"])(Object(s["U"])(),n).then(function(e){"successful"===e.result?(a.$message({type:"success",message:"删除成功"}),a.SuccessData.splice(t,1)):"error"===e.result&&a.$message({message:e.data,type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},computed:u({},Object(o["mapState"])({SuccessData:function(t){return t.successResult},errorData:function(t){return t.errorResult}})),mounted:function(){}},p=d,m=a("2877"),f=Object(m["a"])(p,n,i,!1,null,null,null);e["default"]=f.exports},ba7e:function(t,e,a){},bc0e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"JudgeServer"},[a("page-simple-title",{attrs:{title:"判题机服务器配置"}}),a("div",{staticClass:"judge-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.judgeTableData,"header-cell-style":{background:"#F0F0EF",color:"rgba(0,0,0,0.55)"}},on:{"expand-change":t.expandChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"判题机IP地址:"}},[a("el-tag",{attrs:{"disable-transitions":!0,size:"medium"}},[t._v(t._s(e.row.ip))])],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"判题机版本:"}},[a("el-tag",{attrs:{"disable-transitions":!0,size:"medium"}},[t._v(t._s(e.row.judger_version))])],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"服务器URL:"}},[a("span",[t._v(t._s(e.row.service_url))])])],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"创建时间:"}},[a("span",[t._v(t._s(t.getTimeGMT(e.row.create_time)))])])],1)],1)],1)]}}])}),a("el-table-column",{attrs:{label:"主机名称",prop:"hostname",width:"130"}}),a("el-table-column",{attrs:{label:"任务数量",prop:"task_number",align:"center"}}),a("el-table-column",{attrs:{label:"CPU核数",prop:"cpu_core",align:"center"}}),a("el-table-column",{attrs:{label:"cpu使用率",prop:"cpu_usage",align:"center"}}),a("el-table-column",{attrs:{label:"内存使用率",prop:"memory_usage",align:"center"}}),a("el-table-column",{attrs:{label:"上一次心跳",prop:"last_heartbeat",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getTimeGMT(e.row.last_heartbeat))+"\n          ")]}}])}),a("el-table-column",{attrs:{label:"状态",prop:"status",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{"disable-transitions":!0,type:""}},[t._v(t._s(e.row.status))])]}}])}),a("el-table-column",{attrs:{label:"是否禁用",prop:"is_disabled",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"禁用状态:"+e.row.is_disabled,placement:"top"}},[a("el-switch",{attrs:{"active-color":"red","inactive-color":"#0FCE96"},on:{change:function(a){return t.AvailableSwitch(e.row)}},model:{value:e.row.is_disabled,callback:function(a){t.$set(e.row,"is_disabled",a)},expression:"scope.row.is_disabled"}})],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-button",{attrs:{plain:"",type:"warning",size:"mini"},on:{click:function(a){return t.reload(e.row.id)}}},[t._v("reload")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(a){return t.deleteJudge(e.row.hostname)}}},[t._v("delete")])],1)}}])})],1)],1)],1),a("div",{staticStyle:{height:"24px","background-color":"rgb(236, 239, 242)"}}),a("div",{staticClass:"JudgeServer"},[a("page-simple-title",{attrs:{title:"判题机阻塞进程"}},[a("el-button",{staticStyle:{width:"90px"},attrs:{type:"primary",size:"mini",loading:t.loading},on:{click:t.RefreshBtn}},[t._v("\n        刷新\n      ")])],1),a("div",{staticClass:"judge-table"},[a("judge-server-setting-block-submit-table",{attrs:{data:t.data,loading:t.loading,"ref-pagination":t.$refs.$pagination}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body,"page-size":50},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)],1)])},i=[],l=a("4694"),o=a("c402"),s=a("4191"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}}},[a("el-table-column",{attrs:{label:"结果"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(t.submitStateText(e.row.result)))])])}}])}),a("el-table-column",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.contest_id?a("tag",{staticStyle:{"margin-right":"24px"},attrs:{type:"success",size:"mini",round:!0}},[t._v("竞赛")]):t._e()],1)}}])}),a("el-table-column",{attrs:{label:"题号"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.display_id))])])}}])}),a("el-table-column",{attrs:{label:"语言",prop:"language"}}),a("el-table-column",{attrs:{align:"center",label:"提交时间"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(t.getTimeGMT(e.row.create_time)))])])}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{class:t.prefix+"-item"},[a("el-button",{attrs:{plain:"",loading:t.rejudgeButtonLoading[e.$index],size:"mini"},on:{click:function(a){return t.rejudge(e.row.sub_id,e.$index)}}},[t._v("\n        rejudge\n      ")])],1)}}])})],1)},c=[],u=a("b0b4"),d=a("308d"),p=a("6bb5"),m=a("4e2b"),f=a("d225"),h=a("9ab4"),b=a("60a3"),v=a("525a"),g=a("3dec"),y=function t(e){Object(f["a"])(this,t),this.sub_id=e},_=function t(){Object(f["a"])(this,t)};_.SUCCESS=0,_.FAILED=1;var w=function(t){function e(){var t;return Object(f["a"])(this,e),t=Object(d["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.prefix="judge-server-setting-block-submit-table",t.getTimeGMT=s["d"],t.submitStateText=v["b"],t.rejudgeButtonLoading=[],t}return Object(m["a"])(e,t),Object(u["a"])(e,[{key:"rejudge",value:function(t,e){var a=this,n=new y(t);this.$set(this.rejudgeButtonLoading,e,!0),Object(l["d"])(Object(o["Hb"])(),n).then(function(t){t.data.result===_.SUCCESS?(Object(g["a"])("success","success",1e3,a),a.refPagination.forceRefresh()):Object(g["a"])("failed","error",1e3,a),a.$set(a.rejudgeButtonLoading,e,!1)})}},{key:"onDataChange",value:function(t){for(var e in t)this.$set(this.rejudgeButtonLoading,e,!1)}}]),e}(b["d"]);h["a"]([Object(b["c"])()],w.prototype,"data",void 0),h["a"]([Object(b["c"])()],w.prototype,"loading",void 0),h["a"]([Object(b["c"])()],w.prototype,"refPagination",void 0),h["a"]([Object(b["e"])("data",{deep:!0})],w.prototype,"onDataChange",null),w=h["a"]([b["a"]],w);var A=w,k=A,x=(a("298b"),a("2877")),S=Object(x["a"])(k,r,c,!1,null,"478dadb6",null),C=S.exports,D=a("6b17"),j={components:{JudgeServerSettingBlockSubmitTable:C},data:function(){return{loading:!0,api:Object(o["jb"])(),body:{},data:[],expanded:!1,judgeTableData:[{hostname:"",task_number:"",cpu_core:"",cpu_usage:"",memory_usage:"",status:"",is_disabled:!1,ip:"",judger_version:"",last_heartbeat:"",service_url:"",create_time:""}],blockSubmissionData:[{hostname:"",task_number:"",cpu_core:"",cpu_usage:"",memory_usage:"",status:"",is_disabled:!1,ip:"",judger_version:"",last_heartbeat:"",service_url:"",create_time:""}],getTimeGMT:s["d"],timer:""}},methods:{RefreshBtn:function(){this.$refs.$pagination.forceRefresh()},getDate:function(t){this.data=t},expandChange:function(t,e){0===e.length?this.expanded=!1:this.expanded=!0},AvailableSwitch:function(t){var e=this,a=t.is_disabled?"禁用":"启用";this.$confirm("此操作将"+a+'<span style="color:red">'+t.hostname+"</span>服务器, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var n={id:t.id,is_disabled:t.is_disabled};Object(l["g"])(Object(o["Db"])(),n).then(function(n){"successful"===n.result?e.$message({type:"success",message:a+"成功"}):(n.result,t.is_disabled=!t.is_disabled,e.$message({message:n.data,type:"error"}))})}).catch(function(){t.is_disabled=!t.is_disabled,e.$message({type:"info",message:"已取消"+a})})},getJudgeSever:function(){var t=this;this.expanded||Object(l["d"])(Object(o["eb"])()).then(function(e){"successful"===e.result?t.judgeTableData=e.data.servers:"error"===e.result&&t.$message({message:e.data,type:"error"})})},reload:function(t){var e=this;this.$confirm("此操作将重载该判题机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:t,is_reload:!0};Object(l["g"])(Object(o["Db"])(),a).then(function(t){t.result===D["c"]?Object(g["a"])("success","success",3e3,e):Object(g["a"])(t.data,"error",3e3,e)})})},deleteJudge:function(t){var e=this;this.$confirm("此操作将永久删除该判题机, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){var a={hostname:t};Object(l["c"])(Object(o["Db"])(),a).then(function(t){t.result===D["c"]?Object(g["a"])("success","success",3e3,e):Object(g["a"])(t.data,"error",3e3,e)})})}},mounted:function(){var t=this;this.getJudgeSever();var e=setInterval(function(){t.getJudgeSever()},3e3);this.$once("hook:beforeDestroy",function(){clearInterval(e)})}},O=j,T=(a("09db"),Object(x["a"])(O,n,i,!1,null,null,null));e["default"]=T.exports},bc21:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},i=[],l=a("d225"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=function(t){function e(){return Object(l["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(u["d"]);d=c["a"]([u["a"]],d);var p=d,m=p,f=a("2877"),h=Object(f["a"])(m,n,i,!1,null,"cf0e91e4",null);e["default"]=h.exports},bd20:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageTitle}},[a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"ImportUserTemplatePage",params:{userType:"teacher"}}}},[t._v("\n        导入\n      ")])],1),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.accountStatus,callback:function(e){t.accountStatus=e},expression:"accountStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.accountStatusType,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("院系：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.facultyValue,callback:function(e){t.facultyValue=e},expression:"facultyValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.facultyAll}},[t._v("全部")]),t._l(this.facultyData,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/工号",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("teacher-list-table",{attrs:{loading:t.loading,"table-data":t.tableData},on:{update:t.update,delclickStd:t.deleteStu}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t.isShowDialog?a("user-modify-dialog",{attrs:{"user-data":t.userData,"selected-faculty":{selected:t.selectedFaculty},"faculty-data":t.facultyData,"form-label-width":t.formLabelWidth,"dialog-visible":t.dialogFormStudent},on:{studentPut:t.studentPut,closeDialog:t.closeDialog}}):t._e()],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("4694"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teacherListTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"teacherListData",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{prop:"userprofile__real_name",label:"姓名","min-width":"60px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_id",label:"工号","min-width":"110"}}),a("el-table-column",{attrs:{prop:"userprofile__department","min-width":"250",label:"所属院系","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userprofile__department?a("span",[t._v(t._s(e.row.userprofile__department))]):t._e()]}}])}),a("el-table-column",{attrs:{label:"注册/最后登录时间","min-width":"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("注册时间："+t._s(t.$moment(e.row.create_time).format("YYYY-MM-DD HH:mm:ss")))]),e.row.last_login?a("p",[t._v("最后登录："+t._s(t.$moment(e.row.last_login).format("YYYY-MM-DD HH:mm:ss")))]):a("p",[t._v("目前暂未登录过")])]}}])}),a("el-table-column",{attrs:{label:"是否禁用","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-switch",{attrs:{disabled:!e.row.isDisabledTeacher,"active-color":"#FC5C59","inactive-color":"#B6B6B6"},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.is_disabled,callback:function(a){t.$set(e.row,"is_disabled",a)},expression:"scope.row.is_disabled"}})],1)}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("el-button",{style:e.row.isDisabledTeacher?"":{color:"#8acbf3"},attrs:{type:"text",size:"mini"},on:{click:function(a){e.row.isDisabledTeacher?t.update(e.$index,e.row):t.disabledClick()}}},[t._v("\n            编辑\n          ")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{style:e.row.isDisabledTeacher?"":{color:"#8acbf3"},attrs:{type:"text",size:"mini"},on:{click:function(a){e.row.isDisabledTeacher?t.delclickStd(e.$index,e.row):t.disabledClick()}}},[t._v("\n            删除\n          ")])],1)])}}])})],1)],1)},f=[],h=a("c402"),b=a("374b"),v=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"disabledClick",value:function(){this.$message({message:"您没有此权限",type:"warning"})}},{key:"update",value:function(t,e){this.$emit("update",t,e)}},{key:"delclickStd",value:function(t,e){this.$emit("delclickStd",t,e)}},{key:"changeSwitch",value:function(t){b["b"].userSwitch(this,t,Object(h["Cb"])())}}]),e}(d["d"]);u["a"]([Object(d["c"])()],v.prototype,"tableData",void 0),u["a"]([Object(d["c"])()],v.prototype,"loading",void 0),v=u["a"]([d["a"]],v);var g=v,y=g,_=a("2877"),w=Object(_["a"])(y,m,f,!1,null,null,null),A=w.exports,k=a("dbce"),x=a("3dec"),S=a("9ed1"),C=a("4191"),D=a("3ebc"),j=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.pageTitle="教师列表",t.facultyData=[],t.facultyValue="",t.facultyAll="",t.accountStatus="所有",t.accountStatusType=[{value:"所有",label:"所有"},{value:"可用",label:"可用"},{value:"不可用",label:"不可用"}],t.StudentFacultyData=[],t.AdminFacultyData=[],t.selectedFaculty=[],t.tableData=[],t.inputValue="",t.dialogFormStudent=!1,t.isShowDialog=!0,t.userData={},t.formLabelWidth="90px",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this;this.api=Object(h["f"])(),this.body={user_type:2},Object(p["d"])(Object(h["Lb"])()).then(function(e){t.StudentFacultyData=e.data,t.AdminFacultyData=e.data.map(function(t){return{value:t.value,label:t.value}}),t.facultyData=t.AdminFacultyData})}},{key:"onAccountStatusChange",value:function(t){"可用"===t?this.$set(this.body,"status",!0):"不可用"===t?this.$set(this.body,"status",!1):"所有"===t&&(this.$set(this.body,"status",null),delete this.body.status)}},{key:"onAccountDepartmentChange",value:function(t){t?(this.$set(this.body,"department",t),this.$set(this.body,"info",!0)):(this.$set(this.body,"department",null),delete this.body.department,this.$set(this.body,"info",null),delete this.body.info)}},{key:"onUserTypeChange",value:function(t){t===S["a"].REGULAR_USER?this.facultyData=this.StudentFacultyData:this.facultyData=this.AdminFacultyData}},{key:"closeDialog",value:function(t){this.isShowDialog=t}},{key:"getDate",value:function(t){var e=this;t.map(function(t){Object.assign(t,{isDisabledTeacher:!1}),t.id!==e.$store.state.baseInfo.uid&&e.$store.state.baseInfo.u_type!==S["a"].ADMIN&&e.$store.state.baseInfo.u_type!==S["a"].SUPER_ADMIN||(t.isDisabledTeacher=!0)}),this.tableData=t}},{key:"inputBtn",value:function(){this.$set(this.body,"keyword",this.inputValue)}},{key:"delInputValue",value:function(){this.$set(this.body,"keyword",null),delete this.body.keyword}},{key:"update",value:function(t,e){var a=this;this.isShowDialog=!0;var n={id:e.id};Object(p["d"])(Object(h["hb"])(),n).then(function(t){a.userData=t.data,a.userData.user.create_time=Object(C["d"])(a.userData.user.create_time),a.selectedFaculty.length=0,a.selectedFaculty.push(a.userData.department),a.dialogFormStudent=!0})}},{key:"studentPut",value:function(t){var e=this;Object(p["g"])(Object(h["Fb"])(),t).then(function(t){"successful"===t.result?(Object(x["a"])("修改成功","success",1e3,e),e.$refs.$pagination.forceRefresh()):"error"===t.result&&Object(x["a"])(t.data,"error",1e3,e),e.dialogFormStudent=!1})}},{key:"deleteStu",value:function(t,e){var a=this;b["b"].deleteUser(this,t,e,Object(h["W"])(),function(t){t&&a.$refs.$pagination.forceRefresh()})}}]),e}(d["d"]);u["a"]([Object(d["e"])("accountStatus")],j.prototype,"onAccountStatusChange",null),u["a"]([Object(d["e"])("facultyValue")],j.prototype,"onAccountDepartmentChange",null),u["a"]([Object(d["e"])("userData.user.admin_type")],j.prototype,"onUserTypeChange",null),j=u["a"]([Object(d["a"])({components:{"teacher-list-table":A,"user-modify-dialog":k["a"],"small-radio-button":D["a"]}})],j);var O=j,T=O,E=Object(_["a"])(T,n,i,!1,null,"4730bffc",null);e["default"]=E.exports},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var n=a("85f2"),i=a.n(n);function l(t,e,a){return e in t?i()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bdc4:function(t,e,a){"use strict";var n=a("dbd5"),i=a.n(n);i.a},bebb9:function(t,e,a){"use strict";var n=a("8205"),i=a.n(n);i.a},c09d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createFormAdd"},[a("create-option",{attrs:{createoption:t.createoption2,testlist:t.testlist2}}),a("div",{staticClass:"stdTestList"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.testListTitle,name:"test"}},[a("contest-selected-topic-table",{attrs:{"table-data":t.testDataList},on:{topclick:t.topclick,butclick:t.butclick,delClickTest:t.delClickTest}})],1),a("el-tab-pane",{attrs:{label:t.studentlistTitle,name:"student"}},[a("contest-selected-student-table",{ref:"$selectedStudentTable",attrs:{"table-data":t.stdDataList},on:{delclickStd:t.delclickStd,SelectionData:t.SelectionData}})],1)],1)],1),a("div",{staticClass:"addProblemBtn"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"student"===t.activeName,expression:"activeName === 'student'"}],staticStyle:{display:"flex","align-items":"center",position:"absolute",left:"14px"}},[a("batch-action-checkbox-button",{style:{margin:"0","margin-right":"14px"},attrs:{"data-length":this.stdDataList.length,"check-length":this.SelectionStudentLength},on:{handleCheckAllChange:function(e){return t.handleCheckAllChange()}}}),a("el-button",{attrs:{size:"mini"},on:{click:t.delstd}},[t._v("\n        删除考生\n      ")])],1),a("el-button",{attrs:{disabled:1===this.stepActive,size:"small"},on:{click:t.lastStep}},[t._v("上一步")]),a("el-button",{attrs:{disabled:4===this.stepActive,size:"small"},on:{click:function(e){return t.submitClick()}}},[t._v("下一步")])],1)],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("8bbf"),s=a.n(o),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{"row-key":"_id",data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{label:"编号",type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"题号",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row._id))])])}}])}),a("el-table-column",{attrs:{label:"题目","show-overflow-tooltip":"","min-width":"195px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.title))])])}}])}),a("el-table-column",{attrs:{label:"考点",align:"center",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},t._l(e.row.tags,function(e,n){return a("span",{key:n,staticClass:"tagsStyle"},[t._v("\n          "+t._s(e)+"\n        ")])}),0)}}])}),a("el-table-column",{attrs:{label:"提交",align:"center",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.submission_number))])])}}])}),a("el-table-column",{attrs:{label:"通过率",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[0===e.row.accepted_number||0===e.row.submission_number?a("span",[t._v("\n          0.0%\n        ")]):a("span",[t._v("\n          "+t._s((e.row.accepted_number/e.row.submission_number*100).toFixed(1)+"%")+"\n        ")])])}}])}),a("el-table-column",{attrs:{label:"竞赛引用次数",align:"center",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.call_count))])])}}])}),a("el-table-column",{attrs:{label:"难度",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("tag",{attrs:{effect:"dark",size:"mini",type:t.difficult(e.row.difficulty),round:!0}},[t._v("\n          "+t._s(e.row.difficulty)+"\n        ")])],1)}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticClass:"operationBox",staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[a("p",{staticClass:"operationText"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.topclick(e.$index,e.row)}}},[t._v("上移")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.butclick(e.$index,e.row)}}},[t._v("下移")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delClickTest(e.$index,e.row)}}},[t._v("\n              删除\n            ")])],1)])])}}])})],1)],1)},c=[];
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},p.apply(this,arguments)}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){d(t,e,a[e])})}return t}function f(t,e){if(null==t)return{};var a,n,i={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}function h(t,e){if(null==t)return{};var a,n,i=f(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}var b="1.10.2";function v(t){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var g=v(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),y=v(/Edge/i),_=v(/firefox/i),w=v(/safari/i)&&!v(/chrome/i)&&!v(/android/i),A=v(/iP(ad|od|hone)/i),k=v(/chrome/i)&&v(/android/i),x={capture:!1,passive:!1};function S(t,e,a){t.addEventListener(e,a,!g&&x)}function C(t,e,a){t.removeEventListener(e,a,!g&&x)}function D(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(a){return!1}return!1}}function j(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function O(t,e,a,n){if(t){a=a||document;do{if(null!=e&&(">"===e[0]?t.parentNode===a&&D(t,e):D(t,e))||n&&t===a)return t;if(t===a)break}while(t=j(t))}return null}var T,E=/\s+/g;function F(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(E," ").replace(" "+e+" "," ");t.className=(n+(a?" "+e:"")).replace(E," ")}}function $(t,e,a){var n=t&&t.style;if(n){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),void 0===e?a:a[e];e in n||-1!==e.indexOf("webkit")||(e="-webkit-"+e),n[e]=a+("string"===typeof a?"":"px")}}function I(t,e){var a="";if("string"===typeof t)a=t;else do{var n=$(t,"transform");n&&"none"!==n&&(a=n+" "+a)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(a)}function B(t,e,a){if(t){var n=t.getElementsByTagName(e),i=0,l=n.length;if(a)for(;i<l;i++)a(n[i],i);return n}return[]}function P(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,a,n,i){if(t.getBoundingClientRect||t===window){var l,o,s,r,c,u,d;if(t!==window&&t!==P()?(l=t.getBoundingClientRect(),o=l.top,s=l.left,r=l.bottom,c=l.right,u=l.height,d=l.width):(o=0,s=0,r=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||a)&&t!==window&&(i=i||t.parentNode,!g))do{if(i&&i.getBoundingClientRect&&("none"!==$(i,"transform")||a&&"static"!==$(i,"position"))){var p=i.getBoundingClientRect();o-=p.top+parseInt($(i,"border-top-width")),s-=p.left+parseInt($(i,"border-left-width")),r=o+l.height,c=s+l.width;break}}while(i=i.parentNode);if(n&&t!==window){var m=I(i||t),f=m&&m.a,h=m&&m.d;m&&(o/=h,s/=f,d/=f,u/=h,r=o+u,c=s+d)}return{top:o,left:s,bottom:r,right:c,width:d,height:u}}}function L(t,e,a){var n=Q(t,!0),i=M(t)[e];while(n){var l=M(n)[a],o=void 0;if(o="top"===a||"left"===a?i>=l:i<=l,!o)return n;if(n===P())break;n=Q(n,!1)}return!1}function R(t,e,a){var n=0,i=0,l=t.children;while(i<l.length){if("none"!==l[i].style.display&&l[i]!==Zt.ghost&&l[i]!==Zt.dragged&&O(l[i],a.draggable,t,!1)){if(n===e)return l[i];n++}i++}return null}function z(t,e){var a=t.lastElementChild;while(a&&(a===Zt.ghost||"none"===$(a,"display")||e&&!D(a,e)))a=a.previousElementSibling;return a||null}function N(t,e){var a=0;if(!t||!t.parentNode)return-1;while(t=t.previousElementSibling)"TEMPLATE"===t.nodeName.toUpperCase()||t===Zt.clone||e&&!D(t,e)||a++;return a}function V(t){var e=0,a=0,n=P();if(t)do{var i=I(t),l=i.a,o=i.d;e+=t.scrollLeft*l,a+=t.scrollTop*o}while(t!==n&&(t=t.parentNode));return[e,a]}function U(t,e){for(var a in t)if(t.hasOwnProperty(a))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[a][n])return Number(a);return-1}function Q(t,e){if(!t||!t.getBoundingClientRect)return P();var a=t,n=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var i=$(a);if(a.clientWidth<a.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!a.getBoundingClientRect||a===document.body)return P();if(n||e)return a;n=!0}}}while(a=a.parentNode);return P()}function H(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function Y(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function G(t,e){return function(){if(!T){var a=arguments,n=this;1===a.length?t.call(n,a[0]):t.apply(n,a),T=setTimeout(function(){T=void 0},e)}}}function q(){clearTimeout(T),T=void 0}function W(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function J(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}var X="Sortable"+(new Date).getTime();function K(){var t,e=[];return{captureAnimationState:function(){if(e=[],this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(t){if("none"!==$(t,"display")&&t!==Zt.ghost){e.push({target:t,rect:M(t)});var a=m({},e[e.length-1].rect);if(t.thisAnimationDuration){var n=I(t,!0);n&&(a.top-=n.f,a.left-=n.e)}t.fromRect=a}})}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(U(e,{target:t}),1)},animateAll:function(a){var n=this;if(!this.options.animation)return clearTimeout(t),void("function"===typeof a&&a());var i=!1,l=0;e.forEach(function(t){var e=0,a=t.target,o=a.fromRect,s=M(a),r=a.prevFromRect,c=a.prevToRect,u=t.rect,d=I(a,!0);d&&(s.top-=d.f,s.left-=d.e),a.toRect=s,a.thisAnimationDuration&&Y(r,s)&&!Y(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(e=tt(u,r,c,n.options)),Y(s,o)||(a.prevFromRect=o,a.prevToRect=s,e||(e=n.options.animation),n.animate(a,u,s,e)),e&&(i=!0,l=Math.max(l,e),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},e),a.thisAnimationDuration=e)}),clearTimeout(t),i?t=setTimeout(function(){"function"===typeof a&&a()},l):"function"===typeof a&&a(),e=[]},animate:function(t,e,a,n){if(n){$(t,"transition",""),$(t,"transform","");var i=I(this.el),l=i&&i.a,o=i&&i.d,s=(e.left-a.left)/(l||1),r=(e.top-a.top)/(o||1);t.animatingX=!!s,t.animatingY=!!r,$(t,"transform","translate3d("+s+"px,"+r+"px,0)"),Z(t),$(t,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),$(t,"transform","translate3d(0,0,0)"),"number"===typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){$(t,"transition",""),$(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},n)}}}}function Z(t){return t.offsetWidth}function tt(t,e,a,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*n.animation}var et=[],at={initializeByDefault:!0},nt={mount:function(t){for(var e in at)!at.hasOwnProperty(e)||e in t||(t[e]=at[e]);et.push(t)},pluginEvent:function(t,e,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var i=t+"Global";et.forEach(function(n){e[n.pluginName]&&(e[n.pluginName][i]&&e[n.pluginName][i](m({sortable:e},a)),e.options[n.pluginName]&&e[n.pluginName][t]&&e[n.pluginName][t](m({sortable:e},a)))})},initializePlugins:function(t,e,a,n){for(var i in et.forEach(function(n){var i=n.pluginName;if(t.options[i]||n.initializeByDefault){var l=new n(t,e,t.options);l.sortable=t,l.options=t.options,t[i]=l,p(a,l.defaults)}}),t.options)if(t.options.hasOwnProperty(i)){var l=this.modifyOption(t,i,t.options[i]);"undefined"!==typeof l&&(t.options[i]=l)}},getEventProperties:function(t,e){var a={};return et.forEach(function(n){"function"===typeof n.eventProperties&&p(a,n.eventProperties.call(e[n.pluginName],t))}),a},modifyOption:function(t,e,a){var n;return et.forEach(function(i){t[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[e]&&(n=i.optionListeners[e].call(t[i.pluginName],a))}),n}};function it(t){var e=t.sortable,a=t.rootEl,n=t.name,i=t.targetEl,l=t.cloneEl,o=t.toEl,s=t.fromEl,r=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,p=t.originalEvent,f=t.putSortable,h=t.extraEventProperties;if(e=e||a&&a[X],e){var b,v=e.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||g||y?(b=document.createEvent("Event"),b.initEvent(n,!0,!0)):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=o||a,b.from=s||a,b.item=i||a,b.clone=l,b.oldIndex=r,b.newIndex=c,b.oldDraggableIndex=u,b.newDraggableIndex=d,b.originalEvent=p,b.pullMode=f?f.lastPutMode:void 0;var w=m({},h,nt.getEventProperties(n,e));for(var A in w)b[A]=w[A];a&&a.dispatchEvent(b),v[_]&&v[_].call(e,b)}}var lt=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.evt,i=h(a,["evt"]);nt.pluginEvent.bind(Zt)(t,e,m({dragEl:st,parentEl:rt,ghostEl:ct,rootEl:ut,nextEl:dt,lastDownEl:pt,cloneEl:mt,cloneHidden:ft,dragStarted:Dt,putSortable:_t,activeSortable:Zt.active,originalEvent:n,oldIndex:ht,oldDraggableIndex:vt,newIndex:bt,newDraggableIndex:gt,hideGhostForTarget:Wt,unhideGhostForTarget:Jt,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(t){ot({sortable:e,name:t,originalEvent:n})}},i))};function ot(t){it(m({putSortable:_t,cloneEl:mt,targetEl:st,rootEl:ut,oldIndex:ht,oldDraggableIndex:vt,newIndex:bt,newDraggableIndex:gt},t))}var st,rt,ct,ut,dt,pt,mt,ft,ht,bt,vt,gt,yt,_t,wt,At,kt,xt,St,Ct,Dt,jt,Ot,Tt,Et,Ft=!1,$t=!1,It=[],Bt=!1,Pt=!1,Mt=[],Lt=!1,Rt=[],zt="undefined"!==typeof document,Nt=A,Vt=y||g?"cssFloat":"float",Ut=zt&&!k&&!A&&"draggable"in document.createElement("div"),Qt=function(){if(zt){if(g)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Ht=function(t,e){var a=$(t),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),i=R(t,0,e),l=R(t,1,e),o=i&&$(i),s=l&&$(l),r=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+M(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(l).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o["float"]&&"none"!==o["float"]){var u="left"===o["float"]?"left":"right";return!l||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||r>=n&&"none"===a[Vt]||l&&"none"===a[Vt]&&r+c>n)?"vertical":"horizontal"},Yt=function(t,e,a){var n=a?t.left:t.top,i=a?t.right:t.bottom,l=a?t.width:t.height,o=a?e.left:e.top,s=a?e.right:e.bottom,r=a?e.width:e.height;return n===o||i===s||n+l/2===o+r/2},Gt=function(t,e){var a;return It.some(function(n){if(!z(n)){var i=M(n),l=n[X].options.emptyInsertThreshold,o=t>=i.left-l&&t<=i.right+l,s=e>=i.top-l&&e<=i.bottom+l;return l&&o&&s?a=n:void 0}}),a},qt=function(t){function e(t,a){return function(n,i,l,o){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==t&&(a||s))return!0;if(null==t||!1===t)return!1;if(a&&"clone"===t)return t;if("function"===typeof t)return e(t(n,i,l,o),a)(n,i,l,o);var r=(a?n:i).options.group.name;return!0===t||"string"===typeof t&&t===r||t.join&&t.indexOf(r)>-1}}var a={},n=t.group;n&&"object"==u(n)||(n={name:n}),a.name=n.name,a.checkPull=e(n.pull,!0),a.checkPut=e(n.put),a.revertClone=n.revertClone,t.group=a},Wt=function(){!Qt&&ct&&$(ct,"display","none")},Jt=function(){!Qt&&ct&&$(ct,"display","")};zt&&document.addEventListener("click",function(t){if($t)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),$t=!1,!1},!0);var Xt=function(t){if(st){t=t.touches?t.touches[0]:t;var e=Gt(t.clientX,t.clientY);if(e){var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);a.target=a.rootEl=e,a.preventDefault=void 0,a.stopPropagation=void 0,e[X]._onDragOver(a)}}},Kt=function(t){st&&st.parentNode[X]._isOutsideThisEl(t.target)};function Zt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=p({},e),t[X]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ht(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Zt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in nt.initializePlugins(this,t,a),a)!(n in e)&&(e[n]=a[n]);for(var i in qt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Ut,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?S(t,"pointerdown",this._onTapStart):(S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),It.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),p(this,K())}function te(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ee(t,e,a,n,i,l,o,s){var r,c,u=t[X],d=u.options.onMove;return!window.CustomEvent||g||y?(r=document.createEvent("Event"),r.initEvent("move",!0,!0)):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=e,r.from=t,r.dragged=a,r.draggedRect=n,r.related=i||e,r.relatedRect=l||M(e),r.willInsertAfter=s,r.originalEvent=o,t.dispatchEvent(r),d&&(c=d.call(u,r,o)),c}function ae(t){t.draggable=!1}function ne(){Lt=!1}function ie(t,e,a){var n=M(z(a.el,a.options.draggable)),i=10;return e?t.clientX>n.right+i||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+i}function le(t,e,a,n,i,l,o,s){var r=n?t.clientY:t.clientX,c=n?a.height:a.width,u=n?a.top:a.left,d=n?a.bottom:a.right,p=!1;if(!o)if(s&&Tt<c*i){if(!Bt&&(1===Ot?r>u+c*l/2:r<d-c*l/2)&&(Bt=!0),Bt)p=!0;else if(1===Ot?r<u+Tt:r>d-Tt)return-Ot}else if(r>u+c*(1-i)/2&&r<d-c*(1-i)/2)return oe(e);return p=p||o,p&&(r<u+c*l/2||r>d-c*l/2)?r>u+c/2?1:-1:0}function oe(t){return N(st)<N(t)?1:-1}function se(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,n=0;while(a--)n+=e.charCodeAt(a);return n.toString(36)}function re(t){Rt.length=0;var e=t.getElementsByTagName("input"),a=e.length;while(a--){var n=e[a];n.checked&&Rt.push(n)}}function ce(t){return setTimeout(t,0)}function ue(t){return clearTimeout(t)}Zt.prototype={constructor:Zt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(jt=null)},_getDirection:function(t,e){return"function"===typeof this.options.direction?this.options.direction.call(this,t,e,st):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,a=this.el,n=this.options,i=n.preventOnFilter,l=t.type,o=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(o||t).target,r=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=n.filter;if(re(a),!st&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||n.disabled)&&!r.isContentEditable&&(s=O(s,n.draggable,a,!1),(!s||!s.animated)&&pt!==s)){if(ht=N(s),vt=N(s,n.draggable),"function"===typeof c){if(c.call(this,t,s,this))return ot({sortable:e,rootEl:r,name:"filter",targetEl:s,toEl:a,fromEl:a}),lt("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(n){if(n=O(r,n.trim(),a,!1),n)return ot({sortable:e,rootEl:n,name:"filter",targetEl:s,fromEl:a,toEl:a}),lt("filter",e,{evt:t}),!0}),c))return void(i&&t.cancelable&&t.preventDefault());n.handle&&!O(r,n.handle,a,!1)||this._prepareDragStart(t,o,s)}}},_prepareDragStart:function(t,e,a){var n,i=this,l=i.el,o=i.options,s=l.ownerDocument;if(a&&!st&&a.parentNode===l){var r=M(a);if(ut=l,st=a,rt=st.parentNode,dt=st.nextSibling,pt=a,yt=o.group,Zt.dragged=st,wt={target:st,clientX:(e||t).clientX,clientY:(e||t).clientY},St=wt.clientX-r.left,Ct=wt.clientY-r.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,st.style["will-change"]="all",n=function(){lt("delayEnded",i,{evt:t}),Zt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!_&&i.nativeDraggable&&(st.draggable=!0),i._triggerDragStart(t,e),ot({sortable:i,name:"choose",originalEvent:t}),F(st,o.chosenClass,!0))},o.ignore.split(",").forEach(function(t){B(st,t.trim(),ae)}),S(s,"dragover",Xt),S(s,"mousemove",Xt),S(s,"touchmove",Xt),S(s,"mouseup",i._onDrop),S(s,"touchend",i._onDrop),S(s,"touchcancel",i._onDrop),_&&this.nativeDraggable&&(this.options.touchStartThreshold=4,st.draggable=!0),lt("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(y||g))n();else{if(Zt.eventCanceled)return void this._onDrop();S(s,"mouseup",i._disableDelayedDrag),S(s,"touchend",i._disableDelayedDrag),S(s,"touchcancel",i._disableDelayedDrag),S(s,"mousemove",i._delayedDragTouchMoveHandler),S(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&S(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){st&&ae(st),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._disableDelayedDrag),C(t,"touchend",this._disableDelayedDrag),C(t,"touchcancel",this._disableDelayedDrag),C(t,"mousemove",this._delayedDragTouchMoveHandler),C(t,"touchmove",this._delayedDragTouchMoveHandler),C(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?S(document,"pointermove",this._onTouchMove):S(document,e?"touchmove":"mousemove",this._onTouchMove):(S(st,"dragend",this),S(ut,"dragstart",this._onDragStart));try{document.selection?ce(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(t,e){if(Ft=!1,ut&&st){lt("dragStarted",this,{evt:e}),this.nativeDraggable&&S(document,"dragover",Kt);var a=this.options;!t&&F(st,a.dragClass,!1),F(st,a.ghostClass,!0),Zt.active=this,t&&this._appendGhost(),ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(At){this._lastX=At.clientX,this._lastY=At.clientY,Wt();var t=document.elementFromPoint(At.clientX,At.clientY),e=t;while(t&&t.shadowRoot){if(t=t.shadowRoot.elementFromPoint(At.clientX,At.clientY),t===e)break;e=t}if(st.parentNode[X]._isOutsideThisEl(t),e)do{if(e[X]){var a=void 0;if(a=e[X]._onDragOver({clientX:At.clientX,clientY:At.clientY,target:t,rootEl:e}),a&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Jt()}},_onTouchMove:function(t){if(wt){var e=this.options,a=e.fallbackTolerance,n=e.fallbackOffset,i=t.touches?t.touches[0]:t,l=ct&&I(ct,!0),o=ct&&l&&l.a,s=ct&&l&&l.d,r=Nt&&Et&&V(Et),c=(i.clientX-wt.clientX+n.x)/(o||1)+(r?r[0]-Mt[0]:0)/(o||1),u=(i.clientY-wt.clientY+n.y)/(s||1)+(r?r[1]-Mt[1]:0)/(s||1);if(!Zt.active&&!Ft){if(a&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<a)return;this._onDragStart(t,!0)}if(ct){l?(l.e+=c-(kt||0),l.f+=u-(xt||0)):l={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");$(ct,"webkitTransform",d),$(ct,"mozTransform",d),$(ct,"msTransform",d),$(ct,"transform",d),kt=c,xt=u,At=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ct){var t=this.options.fallbackOnBody?document.body:ut,e=M(st,!0,Nt,!0,t),a=this.options;if(Nt){Et=t;while("static"===$(Et,"position")&&"none"===$(Et,"transform")&&Et!==document)Et=Et.parentNode;Et!==document.body&&Et!==document.documentElement?(Et===document&&(Et=P()),e.top+=Et.scrollTop,e.left+=Et.scrollLeft):Et=P(),Mt=V(Et)}ct=st.cloneNode(!0),F(ct,a.ghostClass,!1),F(ct,a.fallbackClass,!0),F(ct,a.dragClass,!0),$(ct,"transition",""),$(ct,"transform",""),$(ct,"box-sizing","border-box"),$(ct,"margin",0),$(ct,"top",e.top),$(ct,"left",e.left),$(ct,"width",e.width),$(ct,"height",e.height),$(ct,"opacity","0.8"),$(ct,"position",Nt?"absolute":"fixed"),$(ct,"zIndex","100000"),$(ct,"pointerEvents","none"),Zt.ghost=ct,t.appendChild(ct),$(ct,"transform-origin",St/parseInt(ct.style.width)*100+"% "+Ct/parseInt(ct.style.height)*100+"%")}},_onDragStart:function(t,e){var a=this,n=t.dataTransfer,i=a.options;lt("dragStart",this,{evt:t}),Zt.eventCanceled?this._onDrop():(lt("setupClone",this),Zt.eventCanceled||(mt=J(st),mt.draggable=!1,mt.style["will-change"]="",this._hideClone(),F(mt,this.options.chosenClass,!1),Zt.clone=mt),a.cloneId=ce(function(){lt("clone",a),Zt.eventCanceled||(a.options.removeCloneOnHide||ut.insertBefore(mt,st),a._hideClone(),ot({sortable:a,name:"clone"}))}),!e&&F(st,i.dragClass,!0),e?($t=!0,a._loopId=setInterval(a._emulateDragOver,50)):(C(document,"mouseup",a._onDrop),C(document,"touchend",a._onDrop),C(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(a,n,st)),S(document,"drop",a),$(st,"transform","translateZ(0)")),Ft=!0,a._dragStartId=ce(a._dragStarted.bind(a,e,t)),S(document,"selectstart",a),Dt=!0,w&&$(document.body,"user-select","none"))},_onDragOver:function(t){var e,a,n,i,l=this.el,o=t.target,s=this.options,r=s.group,c=Zt.active,u=yt===r,d=s.sort,p=_t||c,f=this,h=!1;if(!Lt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),o=O(o,s.draggable,l,!0),T("dragOver"),Zt.eventCanceled)return h;if(st.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||f._ignoreWhileAnimating===o)return I(!1);if($t=!1,c&&!s.disabled&&(u?d||(n=!ut.contains(st)):_t===this||(this.lastPutMode=yt.checkPull(this,c,st,t))&&r.checkPut(this,c,st,t))){if(i="vertical"===this._getDirection(t,o),e=M(st),T("dragOverValid"),Zt.eventCanceled)return h;if(n)return rt=ut,E(),this._hideClone(),T("revert"),Zt.eventCanceled||(dt?ut.insertBefore(st,dt):ut.appendChild(st)),I(!0);var b=z(l,s.draggable);if(!b||ie(t,i,this)&&!b.animated){if(b===st)return I(!1);if(b&&l===t.target&&(o=b),o&&(a=M(o)),!1!==ee(ut,l,st,e,o,a,t,!!o))return E(),l.appendChild(st),rt=l,B(),I(!0)}else if(o.parentNode===l){a=M(o);var v,g,y=0,_=st.parentNode!==l,w=!Yt(st.animated&&st.toRect||e,o.animated&&o.toRect||a,i),A=i?"top":"left",k=L(o,"top","top")||L(st,"top","top"),x=k?k.scrollTop:void 0;if(jt!==o&&(v=a[A],Bt=!1,Pt=!w&&s.invertSwap||_),y=le(t,o,a,i,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Pt,jt===o),0!==y){var S=N(st);do{S-=y,g=rt.children[S]}while(g&&("none"===$(g,"display")||g===ct))}if(0===y||g===o)return I(!1);jt=o,Ot=y;var C=o.nextElementSibling,D=!1;D=1===y;var j=ee(ut,l,st,e,o,a,t,D);if(!1!==j)return 1!==j&&-1!==j||(D=1===j),Lt=!0,setTimeout(ne,30),E(),D&&!C?l.appendChild(st):o.parentNode.insertBefore(st,D?C:o),k&&W(k,0,x-k.scrollTop),rt=st.parentNode,void 0===v||Pt||(Tt=Math.abs(v-M(o)[A])),B(),I(!0)}if(l.contains(st))return I(!1)}return!1}function T(s,r){lt(s,f,m({evt:t,isOwner:u,axis:i?"vertical":"horizontal",revert:n,dragRect:e,targetRect:a,canSort:d,fromSortable:p,target:o,completed:I,onMove:function(a,n){return ee(ut,l,st,e,a,M(a),t,n)},changed:B},r))}function E(){T("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function I(e){return T("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(f),f!==p&&(F(st,_t?_t.options.ghostClass:c.options.ghostClass,!1),F(st,s.ghostClass,!0)),_t!==f&&f!==Zt.active?_t=f:f===Zt.active&&_t&&(_t=null),p===f&&(f._ignoreWhileAnimating=o),f.animateAll(function(){T("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===st&&!st.animated||o===l&&!o.animated)&&(jt=null),s.dragoverBubble||t.rootEl||o===document||(st.parentNode[X]._isOutsideThisEl(t.target),!e&&Xt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function B(){bt=N(st),gt=N(st,s.draggable),ot({sortable:f,name:"change",toEl:l,newIndex:bt,newDraggableIndex:gt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",Xt),C(document,"mousemove",Xt),C(document,"touchmove",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._onDrop),C(t,"touchend",this._onDrop),C(t,"pointerup",this._onDrop),C(t,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(t){var e=this.el,a=this.options;bt=N(st),gt=N(st,a.draggable),lt("drop",this,{evt:t}),rt=st&&st.parentNode,bt=N(st),gt=N(st,a.draggable),Zt.eventCanceled?this._nulling():(Ft=!1,Pt=!1,Bt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ue(this.cloneId),ue(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),w&&$(document.body,"user-select",""),$(st,"transform",""),t&&(Dt&&(t.cancelable&&t.preventDefault(),!a.dropBubble&&t.stopPropagation()),ct&&ct.parentNode&&ct.parentNode.removeChild(ct),(ut===rt||_t&&"clone"!==_t.lastPutMode)&&mt&&mt.parentNode&&mt.parentNode.removeChild(mt),st&&(this.nativeDraggable&&C(st,"dragend",this),ae(st),st.style["will-change"]="",Dt&&!Ft&&F(st,_t?_t.options.ghostClass:this.options.ghostClass,!1),F(st,this.options.chosenClass,!1),ot({sortable:this,name:"unchoose",toEl:rt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ut!==rt?(bt>=0&&(ot({rootEl:rt,name:"add",toEl:rt,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"remove",toEl:rt,originalEvent:t}),ot({rootEl:rt,name:"sort",toEl:rt,fromEl:ut,originalEvent:t}),ot({sortable:this,name:"sort",toEl:rt,originalEvent:t})),_t&&_t.save()):bt!==ht&&bt>=0&&(ot({sortable:this,name:"update",toEl:rt,originalEvent:t}),ot({sortable:this,name:"sort",toEl:rt,originalEvent:t})),Zt.active&&(null!=bt&&-1!==bt||(bt=ht,gt=vt),ot({sortable:this,name:"end",toEl:rt,originalEvent:t}),this.save()))),this._nulling())},_nulling:function(){lt("nulling",this),ut=st=rt=ct=dt=mt=pt=ft=wt=At=Dt=bt=gt=ht=vt=jt=Ot=_t=yt=Zt.dragged=Zt.ghost=Zt.clone=Zt.active=null,Rt.forEach(function(t){t.checked=!0}),Rt.length=kt=xt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":st&&(this._onDragOver(t),te(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t,e=[],a=this.el.children,n=0,i=a.length,l=this.options;n<i;n++)t=a[n],O(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||se(t));return e},sort:function(t){var e={},a=this.el;this.toArray().forEach(function(t,n){var i=a.children[n];O(i,this.options.draggable,a,!1)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(a.removeChild(e[t]),a.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return O(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var a=this.options;if(void 0===e)return a[t];var n=nt.modifyOption(this,t,e);a[t]="undefined"!==typeof n?n:e,"group"===t&&qt(a)},destroy:function(){lt("destroy",this);var t=this.el;t[X]=null,C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart),C(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),It.splice(It.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ft){if(lt("hideClone",this),Zt.eventCanceled)return;$(mt,"display","none"),this.options.removeCloneOnHide&&mt.parentNode&&mt.parentNode.removeChild(mt),ft=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ft){if(lt("showClone",this),Zt.eventCanceled)return;ut.contains(st)&&!this.options.group.revertClone?ut.insertBefore(mt,st):dt?ut.insertBefore(mt,dt):ut.appendChild(mt),this.options.group.revertClone&&this.animate(st,mt),$(mt,"display",""),ft=!1}}else this._hideClone()}},zt&&S(document,"touchmove",function(t){(Zt.active||Ft)&&t.cancelable&&t.preventDefault()}),Zt.utils={on:S,off:C,css:$,find:B,is:function(t,e){return!!O(t,e,t,!1)},extend:H,throttle:G,closest:O,toggleClass:F,clone:J,index:N,nextTick:ce,cancelNextTick:ue,detectDirection:Ht,getChild:R},Zt.get=function(t){return t[X]},Zt.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Zt.utils=m({},Zt.utils,t.utils)),nt.mount(t)})},Zt.create=function(t,e){return new Zt(t,e)},Zt.version=b;var de,pe,me,fe,he,be,ve=[],ge=!1;function ye(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):this.options.supportPointer?S(document,"pointermove",this._handleFallbackAutoScroll):e.touches?S(document,"touchmove",this._handleFallbackAutoScroll):S(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),we(),_e(),q()},nulling:function(){he=pe=de=ge=be=me=fe=null,ve.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var a=this,n=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(n,i);if(he=t,e||y||g||w){Ae(t,this.options,l,e);var o=Q(l,!0);!ge||be&&n===me&&i===fe||(be&&we(),be=setInterval(function(){var l=Q(document.elementFromPoint(n,i),!0);l!==o&&(o=l,_e()),Ae(t,a.options,l,e)},10),me=n,fe=i)}else{if(!this.options.bubbleScroll||Q(l,!0)===P())return void _e();Ae(t,this.options,Q(l,!1),!1)}}},p(t,{pluginName:"scroll",initializeByDefault:!0})}function _e(){ve.forEach(function(t){clearInterval(t.pid)}),ve=[]}function we(){clearInterval(be)}var Ae=G(function(t,e,a,n){if(e.scroll){var i,l=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,r=e.scrollSpeed,c=P(),u=!1;pe!==a&&(pe=a,_e(),de=e.scroll,i=e.scrollFn,!0===de&&(de=Q(a,!0)));var d=0,p=de;do{var m=p,f=M(m),h=f.top,b=f.bottom,v=f.left,g=f.right,y=f.width,_=f.height,w=void 0,A=void 0,k=m.scrollWidth,x=m.scrollHeight,S=$(m),C=m.scrollLeft,D=m.scrollTop;m===c?(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),A=_<x&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<k&&("auto"===S.overflowX||"scroll"===S.overflowX),A=_<x&&("auto"===S.overflowY||"scroll"===S.overflowY));var j=w&&(Math.abs(g-l)<=s&&C+y<k)-(Math.abs(v-l)<=s&&!!C),O=A&&(Math.abs(b-o)<=s&&D+_<x)-(Math.abs(h-o)<=s&&!!D);if(!ve[d])for(var T=0;T<=d;T++)ve[T]||(ve[T]={});ve[d].vx==j&&ve[d].vy==O&&ve[d].el===m||(ve[d].el=m,ve[d].vx=j,ve[d].vy=O,clearInterval(ve[d].pid),0==j&&0==O||(u=!0,ve[d].pid=setInterval(function(){n&&0===this.layer&&Zt.active._onTouchMove(he);var e=ve[this.layer].vy?ve[this.layer].vy*r:0,a=ve[this.layer].vx?ve[this.layer].vx*r:0;"function"===typeof i&&"continue"!==i.call(Zt.dragged.parentNode[X],a,e,t,he,ve[this.layer].el)||W(ve[this.layer].el,a,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==c&&(p=Q(p,!1)));ge=u}},30),ke=function(t){var e=t.originalEvent,a=t.putSortable,n=t.dragEl,i=t.activeSortable,l=t.dispatchSortableEvent,o=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var r=a||i;o();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);s(),r&&!r.el.contains(u)&&(l("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function xe(){}function Se(){}xe.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,a=t.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=R(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),a&&a.animateAll()},drop:ke},p(xe,{pluginName:"revertOnSpill"}),Se.prototype={onSpill:function(t){var e=t.dragEl,a=t.putSortable,n=a||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ke},p(Se,{pluginName:"removeOnSpill"});Zt.mount(new ye),Zt.mount(Se,xe);var Ce=Zt,De={data:function(){return{}},props:{tableData:{type:Array,default:function(){return[]}}},mounted:function(){this.rowDrop()},methods:{rowDrop:function(){var t=document.querySelector(".el-table__body-wrapper tbody"),e=this;Ce.create(t,{onEnd:function(t){var a=t.newIndex,n=t.oldIndex,i=e.tableData.splice(n,1)[0];e.tableData.splice(a,0,i)}})},topclick:function(t,e){this.$emit("topclick",t,e)},butclick:function(t,e){this.$emit("butclick",t,e)},delClickTest:function(t,e){this.$emit("delClickTest",t,e)},difficult:function(t){switch(t){case"简单":return"success";case"中等":return"warning";case"困难":return"danger";case"待定":return"info";default:return}}}},je=De,Oe=a("2877"),Te=Object(Oe["a"])(je,r,c,!1,null,null,null),Ee=Te.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{ref:"$contestSelectedStudentTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}},on:{"selection-change":t.SelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"userprofile__real_name",label:"用户","min-width":"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_id",label:"学号","min-width":"200"}}),a("el-table-column",{attrs:{prop:"level",label:"专业班级","min-width":"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.userprofile__level?a("span",[t._v(t._s(e.row.userprofile__level)+"级")]):t._e(),e.row.userprofile__major?a("span",[t._v(t._s(e.row.userprofile__major)+"专业")]):t._e(),e.row.userprofile__class_id?a("span",[t._v(t._s(e.row.userprofile__class_id)+"班")]):a("span",[t._v("用户尚未认证")])])}}])}),a("el-table-column",{attrs:{prop:"email",label:"邮箱","min-width":"200"}}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticClass:"operationBox",staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[a("p",{staticClass:"operationText"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delclickStd(e.$index,e.row)}}},[t._v("\n              删除\n            ")])],1)])])}}])})],1)],1)},$e=[],Ie={data:function(){return{}},props:{tableData:{type:Array,default:function(){return[]}}},methods:{toggleAllSelection:function(){this.$refs.$contestSelectedStudentTable.toggleAllSelection()},delclickStd:function(t,e){this.$emit("delclickStd",t,e)},SelectionChange:function(t){this.$emit("SelectionData",t)}}},Be=Ie,Pe=Object(Oe["a"])(Be,Fe,$e,!1,null,null,null),Me=Pe.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.createoption,staticStyle:{background:"#fff"}},[t._l(t.testlist,function(e,n){return a("div",{key:n,staticClass:"create-option-box",staticStyle:{"font-size":"14px",display:"inline-block",width:"190px",margin:"20px 15px","box-shadow":"0 1px 2px 0 #d2d2d2",cursor:"pointer"},on:{click:function(a){return t.handleClickEvent(e,n)}}},[e.disabled?a("div",{staticStyle:{position:"absolute",height:"100%",width:"100%",background:"#000",opacity:"0.3",cursor:"not-allowed"}}):t._e(),a("span",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.subtitle))])])}),a("div",{staticClass:"create_Dialog"},[a("el-dialog",{attrs:{title:t.testlist[1].title,visible:t.isShowTitleSelectionDialog,width:"450px",top:"25vh"},on:{"update:visible":function(e){t.isShowTitleSelectionDialog=e}}},[a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"flex","min-width":"65px"}},[t._v("\n          题号：\n          "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{staticStyle:{"line-height":"18px"},attrs:{slot:"content"},slot:"content"},[t._v("\n              题号请以逗号、空格或分号隔开\n            ")]),a("img",{staticStyle:{"align-self":"flex-start",cursor:"pointer"},attrs:{src:t.iconSetHint,alt:""}})])],1),a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.TitleNumber,callback:function(e){t.TitleNumber=e},expression:"TitleNumber"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.isShowTitleSelectionDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.dialogTitleSelectionClick()}}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:t.testlist[2].title,visible:t.isShowSingleImportDialog,width:"420px",top:"25vh"},on:{"update:visible":function(e){t.isShowSingleImportDialog=e}}},[a("el-form",{ref:"singleImport",attrs:{model:t.singleImport,"status-icon":"",rules:t.rulesSingleImport}},[a("el-form-item",{attrs:{label:"学生学号：","label-width":t.formLabelWidth,size:"small",required:"",prop:"id"}},[a("el-input",{attrs:{autocomplete:"off"},on:{change:t.nameChange},model:{value:t.singleImport.id,callback:function(e){t.$set(t.singleImport,"id",e)},expression:"singleImport.id"}})],1),a("el-form-item",{attrs:{label:"学生姓名：","label-width":t.formLabelWidth,size:"small",required:"",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off",readonly:t.readonlyName},model:{value:t.singleImport.name,callback:function(e){t.$set(t.singleImport,"name",e)},expression:"singleImport.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.isShowSingleImportDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.dialogSingleImportClick()}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:t.testlist[3].title,visible:t.isShowCreateTemporaryAccountDialog,width:"420px",top:"25vh"},on:{"update:visible":function(e){t.isShowCreateTemporaryAccountDialog=e}}},[a("el-form",{ref:"Temporary",attrs:{model:t.Temporary,"status-icon":"",rules:t.rulesTemporary}},[a("el-form-item",{attrs:{label:"账号数量：","label-width":t.formLabelWidth3,size:"small",required:"",prop:"accountNumber"}},[a("el-input",{attrs:{type:"number",onkeypress:"return( /[\\d]/.test(String.fromCharCode(event.keyCode) ) )",autocomplete:"off"},model:{value:t.Temporary.accountNumber,callback:function(e){t.$set(t.Temporary,"accountNumber",e)},expression:"Temporary.accountNumber"}})],1),a("el-form-item",{attrs:{label:"密码长度：","label-width":t.formLabelWidth3,size:"small",required:"",prop:"pwLength"}},[a("el-input",{attrs:{type:"number",onkeypress:"return( /[\\d]/.test(String.fromCharCode(event.keyCode) ) )",autocomplete:"off"},model:{value:t.Temporary.pwLength,callback:function(e){t.$set(t.Temporary,"pwLength",e)},expression:"Temporary.pwLength"}})],1),a("el-form-item",{attrs:{label:"账号前置名称：","label-width":t.formLabelWidth3,size:"small",prop:"beforeName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.Temporary.beforeName,callback:function(e){t.$set(t.Temporary,"beforeName",e)},expression:"Temporary.beforeName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.isShowCreateTemporaryAccountDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleCreateTemporaryAccountEvent("Temporary")}}},[t._v("\n          确 定\n        ")])],1)],1)],1)],2)},Re=[],ze=(a("7f7f"),a("4f7f"),a("5df3"),a("1c4c"),a("28a5"),a("d225")),Ne=a("b0b4"),Ve=a("308d"),Ue=a("6bb5"),Qe=a("4e2b"),He=a("9ab4"),Ye=a("60a3"),Ge=a("4694"),qe=a("c402"),We=a("7b0a"),Je=a("3dec"),Xe=a("8564"),Ke=function(t){function e(){var t;return Object(ze["a"])(this,e),t=Object(Ve["a"])(this,Object(Ue["a"])(e).apply(this,arguments)),t.iconSetHint=Xe["L"],t.TitleNumber="",t.TitleNumberArray=[],t.contestId=0,t.filename="",t.isShowSingleImportDialog=!1,t.isShowCreateTemporaryAccountDialog=!1,t.isShowTitleSelectionDialog=!1,t.formLabelWidth="95px",t.formLabelWidth3="130px",t.readonlyName=!1,t.singleImport={id:"",name:""},t.Temporary={accountNumber:10,pwLength:6,beforeName:"nomooc"},t.rulesSingleImport={id:[{required:!0,message:"请输入学生学号",trigger:"blur"}],name:[]},t.rulesTemporary={accountNumber:[{validator:We["a"],trigger:"blur"}],pwLength:[{required:!0,message:"请输入密码长度",trigger:"blur"},{validator:We["e"],trigger:"blur"}],beforeName:[{required:!0,message:"请输入账号前缀",trigger:"blur"},{min:2,max:6,message:"长度在 2到 6 个字符",trigger:"blur"}]},t}return Object(Qe["a"])(e,t),Object(Ne["a"])(e,[{key:"mounted",value:function(){this.contestId=this.$route.query.contest}},{key:"dialogTitleSelectionClick",value:function(){var t=this,e=!0,a=new Array;a=this.TitleNumber.split(/[\n\s+,，；;]/g);for(var n=0;n<a.length;n++)if(""==a[n])a.splice(n,1),n--;else if(4!==a[n].length){Object(Je["a"])("题号输入有误，请核查后再输","warning",1e3,this),e=!1;break}if(e){a=Array.from(new Set(a));var i={pro_ids:a};Object(Ge["f"])(Object(qe["z"])(),i).then(function(e){"successful"===e.result?e.data.map(function(e){t.$store.commit("addTestData",e),t.isShowTitleSelectionDialog=!1}):"error-no-problem"===e.result?Object(Je["b"])("".concat(e.data,"试题不存在"),"error",t,null,null,"提示",!1):Object(Je["a"])(e.data,"error",1e3,t)})}}},{key:"handleClickEvent",value:function(t,e){t.disabled?Object(Je["a"])("敬请期待","info",1e3,this):t.name?this.$router.push({name:t.name}):this.dialogForm(e)}},{key:"handleCreateTemporaryAccountEvent",value:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.isShowCreateTemporaryAccountDialog=!1;var a={contest_id:parseInt(e.contestId),prefix:e.Temporary.beforeName,password_len:parseInt(e.Temporary.pwLength),number:parseInt(e.Temporary.accountNumber)};Object(Ge["f"])(Object(qe["s"])(),a).then(function(t){"successful"===t.result?e.getGenerateUser(t.data.filename):e.$message.error(t.data)})})}},{key:"getGenerateUser",value:function(t){var e=document.createElement("a");e.href="".concat(Object(qe["s"])(),"?file_name=").concat(t),e.download="filename",e.type="application/octet-stream",e.click()}},{key:"dialogForm",value:function(t){switch(t){case 1:this.isShowTitleSelectionDialog=!0;case 2:break;case 3:this.isShowSingleImportDialog=!0;break;case 4:this.isShowCreateTemporaryAccountDialog=!0;default:break}}},{key:"nameChange",value:function(){var t=this;if(this.singleImport.id){var e={user_id:this.singleImport.id};Object(Ge["f"])(Object(qe["j"])(),e).then(function(e){!0===e.data.exists?(t.$alert('<p style="color:red">此账号已被注册!</p><p>姓名：'+e.data.info+"&nbsp;&nbsp;账号："+t.singleImport.id+"</p><p>如果账号与姓名不匹配，您可修改账号!<p></p><p>例如:<p>"+t.singleImport.id+"a</p>","提示",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(t){}}),t.singleImport.name=e.data.info,t.readonlyName=!0):!1===e.data.exists&&(t.singleImport.name="",t.readonlyName=!1)}).catch(function(t){})}}},{key:"dialogSingleImportClick",value:function(){var t=this;if(""!==this.singleImport.name&&""!==this.singleImport.id){var e={user_id:this.singleImport.id,real_name:this.singleImport.name};Object(Ge["f"])(Object(qe["g"])(),e).then(function(e){var a=[];a.push(e.data),t.$store.commit("addStdData",a),t.isShowSingleImportDialog=!1})}}}]),e}(Ye["d"]);He["a"]([Object(Ye["c"])()],Ke.prototype,"testlist",void 0),He["a"]([Object(Ye["c"])({required:!0})],Ke.prototype,"createoption",void 0),Ke=He["a"]([Ye["a"]],Ke);var Ze=Ke,ta=Ze,ea=(a("f2d3"),Object(Oe["a"])(ta,Le,Re,!1,null,null,null)),aa=ea.exports,na=a("5880"),ia=a("aab2"),la=a("78ce");function oa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function sa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?oa(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oa(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var ra={data:function(){return{activeName:"test",pro_id_list:[],stu_id_list:[],grade_id_list:{},createoption1:"createoption1",createoption2:"createoption2",testlist2:[{name:"CreateContestSelectTopicPage",title:"从题库中选题",subtitle:"海量精品题库",disabled:!1},{name:"",title:"输入题号选题",subtitle:"方便快捷效率高",disabled:!1},{name:"CreateContestSelectStudentPage",title:"从班级导入考生",subtitle:"方便快捷效率高",disabled:!1},{name:"",title:"单个录入考生",subtitle:"随时随地添加",disabled:!1},{name:"",title:"生成临时账号",subtitle:"随时随地添加",disabled:!1}],dialogFormStudent:!1,formLabelWidth:"80px",SelectionStudent:[],SelectionStudentLength:0,contestId:0}},components:{"batch-action-checkbox-button":la["a"],"contest-selected-topic-table":Ee,"contest-selected-student-table":Me,"create-option":aa},created:function(){this.contestId=this.$route.query.contest},methods:{handleCheckAllChange:function(){this.$refs.$selectedStudentTable.toggleAllSelection()},nextStep:function(){this.$router.push({name:"SetRulePage",query:{contest:this.contestId}})},lastStep:function(){this.$router.back()},submitClick:function(){var t=this;this.getProblemId(),this.getStudentId(),this.getGradeId(),0===this.pro_id_list.length?this.$message({customClass:"notAddPro",showClose:!0,type:"warning",message:"请添加试题"}):0===this.stu_id_list.length?this.$confirm("您还没有添加考生, 是否继续?","提示",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then(function(){t.postProblemId()}).catch(function(){t.$message({type:"info",message:"已取消"})}):this.postProblemId()},postProblemId:function(){var t=this,e={contest_id:parseInt(this.contestId),pro_id_list:this.pro_id_list};Object(Ge["f"])(Object(qe["h"])(),e).then(function(e){"successful"===e.result?0!==t.stu_id_list.length?t.postStudentId():t.nextStep():"duplicate-error"===e.result&&(t.pro_id_list=Object(ia["a"])(t.pro_id_list,e.data),t.postProblemId())})},postStudentId:function(){var t=this,e={contest_id:parseInt(this.contestId),user_id_list:this.stu_id_list};Object(Ge["f"])(Object(qe["i"])(),e).then(function(e){"successful"===e.result&&(t.postContestGrade(),t.$message({type:"success",message:"成功"}))})},postContestGrade:function(){var t=this,e={contest_id:parseInt(this.contestId),user_join_detail:this.grade_id_list};Object(Ge["f"])(Object(qe["p"])(),e).then(function(e){"successful"===e.result?t.nextStep():t.$message({type:"error",message:e.data})})},getProblemId:function(){var t=this;this.pro_id_list=[],this.testDataList.map(function(e){t.pro_id_list.push(e.id)})},getStudentId:function(){var t=this;this.stu_id_list=[],this.stdDataList.map(function(e){t.stu_id_list.push(e["id"])})},getGradeId:function(){var t=this;this.grade_id_list={},this.stdDataList.map(function(e){e.grade_id&&(t.grade_id_list[e.grade_id]?t.grade_id_list[e.grade_id]++:t.grade_id_list[e.grade_id]=1)})},SelectionData:function(t){this.SelectionStudent=t,this.SelectionStudentLength=t.length},delstd:function(){var t=this;this.SelectionStudent.map(function(e){t.$store.state.stdDataList.map(function(a,n){a.id===e.id&&t.$store.state.stdDataList.splice(n,1)})})},topclick:function(t){if(0!==t){var e=this.testDataList[t-1];s.a.set(this.testDataList,t-1,this.testDataList[t]),s.a.set(this.testDataList,t,e)}else alert("已经是第一个了")},butclick:function(t){if(this.testDataList.length-1!==t){var e=this.testDataList[t+1];s.a.set(this.testDataList,t+1,this.testDataList[t]),s.a.set(this.testDataList,t,e)}else alert("已经是最后一个了")},delClickTest:function(t,e){this.testDataList.splice(t,1)},delclickStd:function(t){this.stdDataList.splice(t,1)},formDialog:function(){this.dialogVisible=!0}},computed:sa({},Object(na["mapState"])({testDataList:function(t){return t.testDataList},stdDataList:function(t){return t.stdDataList},stepActive:function(t){return t.stepActive}}),{testListTitle:function(){return"竞赛试题(".concat(this.testDataList.length,")")},studentlistTitle:function(){return"学生人数(".concat(this.stdDataList.length,")")}})},ca=ra,ua=(a("c7d4"),Object(Oe["a"])(ca,n,i,!1,null,null,null));e["default"]=ua.exports},c131:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-title",{attrs:{title:t.titleName}},[a("back-button",{on:{click:t.back}})],1),a("div",{staticStyle:{height:"24px"}}),a("div",{staticClass:"row",staticStyle:{"justify-content":"space-around","align-items":"stretch"}},[a("card",{staticClass:"user-statistics-card",attrs:{shadow:"never",header:"基本信息","header-style":{fontSize:"18px",fontWeight:"bolder",fontFamily:"sans-serif",marginLeft:"2px"},"body-style":{display:"flex",flexDirection:"column"}}},[a("div",{staticClass:"row",staticStyle:{margin:"15px 0"}},[a("el-avatar",{staticStyle:{height:"100px",width:"100px"},attrs:{src:this.userData.avatar}}),a("div",{staticClass:"column",staticStyle:{"margin-left":"15px","font-size":"12px"}},[a("span",{staticClass:"row"},[a("span",{staticClass:"user-data"},[t._v("姓名：")]),t._v("\n            "+t._s(this.userData.real_name)+"\n            "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},["男"===this.userData.user__sex?a("use",{attrs:{"xlink:href":"#el-icon-nm-man"}}):t._e(),"女"===this.userData.user__sex?a("use",{attrs:{"xlink:href":"#el-icon-nm-woman"}}):t._e()])]),a("span",{staticClass:"row"},[a("span",{staticClass:"user-data"},[t._v("院系：")]),t._v("\n            "+t._s(this.userData.department)+"\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"user-data"},[t._v("年级：")]),t._v("\n            "+t._s(this.userData.level?this.userData.level+"级":"暂无")+"\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"user-data"},[t._v("专业：")]),t._v("\n            "+t._s(this.userData.major?this.userData.major+"专业":"暂无")+"\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"user-data"},[t._v("班级：")]),t._v("\n            "+t._s(this.userData.class_id?this.userData.class_id+"班":"暂无")+"\n          ")])]),a("div",{staticClass:"column",staticStyle:{"margin-left":"25px","font-size":"12px"}},[a("span",{staticClass:"row"},[a("span",{staticClass:"submit-data"},[t._v("提交次数：")]),t._v("\n            "+t._s(this.submit_count)+"次\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"submit-data"},[t._v("正确次数：")]),t._v("\n            "+t._s(this.accepte)+"次\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"submit-data"},[t._v("编译失败：")]),t._v("\n            "+t._s(this.compile_error)+"次\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"submit-data"},[t._v("答案错误：")]),t._v("\n            "+t._s(this.wrong_answer)+"次\n          ")]),a("span",{staticClass:"row"},[a("span",{staticClass:"submit-data"},[t._v("部分通过：")]),t._v("\n            "+t._s(this.partially_accepted)+"次\n          ")])])],1),a("span",{staticStyle:{"padding-bottom":"5px"}},[t._v("github："+t._s(this.userData.github?this.userData.github:"暂无"))]),a("span",{staticStyle:{"padding-bottom":"5px"}},[t._v("\n        email："+t._s(this.userData.user__email?this.userData.user__email:"暂无")+"\n      ")]),a("span",{staticStyle:{"padding-bottom":"5px"}},[t._v("phone："+t._s(this.userData.phone?this.userData.user.phone:"暂无"))])]),a("card",{staticClass:"user-statistics-card",attrs:{shadow:"never",header:"提交分析","header-style":{fontSize:"18px",fontWeight:"bolder",fontFamily:"sans-serif",marginLeft:"2px"}}},[a("div",{staticClass:"row",staticStyle:{padding:"15px 0"}},[a("span",{staticStyle:{"font-size":"12px","min-width":"120px"}},[t._v("\n          答案正确[\n          "),a("span",{staticStyle:{color:"#1bb277"}},[t._v(t._s(this.accepteNumber())+"%")]),t._v("\n          ]：\n        ")]),a("el-progress",{staticStyle:{width:"100%","margin-left":"5px"},attrs:{percentage:t.accepteNumber(),"stroke-width":18,color:"#1bb277","text-inside":!0}})],1),a("div",{staticClass:"row",staticStyle:{padding:"15px 0"}},[a("span",{staticStyle:{"font-size":"12px","min-width":"120px"}},[t._v("\n          编译失败[\n          "),a("span",{staticStyle:{color:"#A22EF5"}},[t._v(t._s(this.compileNumber())+"%")]),t._v("\n          ]：\n        ")]),a("el-progress",{staticStyle:{width:"100%","margin-left":"5px"},attrs:{"text-inside":!0,percentage:t.compileNumber(),"stroke-width":18,"show-text":"false",color:"#A22EF5"}})],1),a("div",{staticClass:"row",staticStyle:{padding:"15px 0"}},[a("span",{staticStyle:{"font-size":"12px","min-width":"120px"}},[t._v("\n          答案错误[\n          "),a("span",{staticStyle:{color:"#FF8080"}},[t._v(t._s(this.wrongNumber())+"%")]),t._v("\n          ]：\n        ")]),a("el-progress",{staticStyle:{width:"100%","margin-left":"5px"},attrs:{percentage:t.wrongNumber(),"stroke-width":18,"text-inside":!0,color:"#FF8080"}})],1),a("div",{staticClass:"row",staticStyle:{padding:"15px 0"}},[a("span",{staticStyle:{"font-size":"12px","min-width":"120px"}},[t._v("\n          部分通过[\n          "),a("span",{staticStyle:{color:"#FFC66D"}},[t._v(t._s(this.partiallyNumber())+"%")]),t._v("\n          ]：\n        ")]),a("el-progress",{staticStyle:{width:"100%","margin-left":"5px"},attrs:{percentage:t.partiallyNumber(),"stroke-width":18,color:"#FFC66D","text-inside":!0}})],1)])],1)],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("4694"),m=a("c402"),f=a("6b17"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.titleName="数据分析",t.accepte="",t.accept_count="",t.compile_error="",t.partially_accepted="",t.submit_count="",t.wrong_answer="",t.userData={real_name:"",avatar:"",department:"",level:"",major:"",class_id:"",user__email:"",user__sex:"保密"},t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this,e={uid:this.$route.params.uId};Object(p["d"])(Object(m["Yb"])(),e).then(function(e){t.userData=e.data}),Object(p["d"])(Object(m["D"])(this.$route.params.uId)).then(function(e){e.result===f["c"]&&(t.accepte=e.data.ACCEPTE,t.accept_count=e.data.ACCEPT_COUNT,t.compile_error=e.data.COMPILE_ERROR,t.partially_accepted=e.data.PARTIALLY_ACCEPTED,t.submit_count=e.data.SUBMIT_COUNT,t.wrong_answer=e.data.WRONG_ANSWER)})}},{key:"back",value:function(){this.$router.back()}},{key:"compileNumber",value:function(){return 0==this.submit_count?"0.0":(100*this.compile_error/this.submit_count).toFixed(1)}},{key:"partiallyNumber",value:function(){return 0==this.partially_accepted?"0.0":(100*this.partially_accepted/this.submit_count).toFixed(1)}},{key:"wrongNumber",value:function(){return 0==this.wrong_answer?"0.0":(100*this.wrong_answer/this.submit_count).toFixed(1)}},{key:"accepteNumber",value:function(){return 0==this.accepte?"0.0":(100*this.accepte/this.submit_count).toFixed(1)}}]),e}(d["d"]);h=u["a"]([Object(d["a"])({})],h);var b=h,v=b,g=(a("7137"),a("2877")),y=Object(g["a"])(v,n,i,!1,null,"6b603a3e",null);e["default"]=y.exports},c499:function(t,e,a){},c549:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageTitle}},[a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"ImportUserTemplatePage",params:{userType:"student"}}}},[t._v("\n        导入\n      ")])],1),a("template",{staticClass:"Header_screen",slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("账号：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.accountStatus,callback:function(e){t.accountStatus=e},expression:"accountStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.accountStatus_Type,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.authenticationStatus,callback:function(e){t.authenticationStatus=e},expression:"authenticationStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.authenticationStatusType,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("院系：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.departmentValue,callback:function(e){t.departmentValue=e},expression:"departmentValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.departmentAll}},[t._v("全部")]),t._l(this.departmentArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("专业：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.majorValue,callback:function(e){t.majorValue=e},expression:"majorValue"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("small-radio-button",{attrs:{label:t.majorAll}},[t._v("全部")]),t._l(this.majorArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("学历：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.eduLevelValue,callback:function(e){t.eduLevelValue=e},expression:"eduLevelValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.eduLevelAll}},[t._v("全部")]),t._l(this.eduLevelArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("年级：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.levelValue,callback:function(e){t.levelValue=e},expression:"levelValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.levelAll}},[t._v("全部")]),t._l(this.levelArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("班级：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.classIdValue,callback:function(e){t.classIdValue=e},expression:"classIdValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.classIdAll}},[t._v("全部")]),t._l(this.classIdArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label)+"班")])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/学号/专业/年级",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("student-list-table",{attrs:{loading:t.loading,"table-data":t.tableData},on:{update:t.update,delclickStd:t.deleteStu}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),t.isShowDialog?a("user-modify-dialog",{attrs:{"user-data":t.userData,"selected-faculty":{selected:t.selectedFaculty},"faculty-data":t.facultyData,"form-label-width":t.formLabelWidth,"dialog-visible":t.dialogFormStudent},on:{studentPut:t.studentPut,closeDialog:t.closeDialog}}):t._e()],1)},i=[],l=(a("6b54"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("4694"),m=a("d421"),f=a("dbce"),h=a("c402"),b=a("374b"),v=a("3dec"),g=a("9ed1"),y=a("4191"),_=a("3ebc"),w=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.authenticationStatus="",t.authenticationStatusType=[{value:"",label:"全部"},{value:"1",label:"已认证"},{value:"0",label:"未认证"}],t.accountStatus="",t.accountStatus_Type=[{value:"",label:"全部"},{value:"可用",label:"可用"},{value:"不可用",label:"不可用"}],t.departmentArray=[],t.departmentValue="",t.departmentAll="",t.majorArray=[],t.defaultMajorArray=[],t.majorValue="",t.majorAll="",t.eduLevelArray=[],t.defaultEduLevelArray=[{value:"本科",label:"本科",children:[]},{value:"专科",label:"专科",children:[]},{value:"专升本",label:"专升本",children:[]}],t.eduLevelValue="",t.eduLevelAll="",t.levelArray=[],t.defaultLevelArray=[{value:"2019",label:"2019"},{value:"2018",label:"2018"},{value:"2017",label:"2017"},{value:"2016",label:"2016"}],t.levelValue="",t.levelAll="",t.classIdArray=[],t.defaultClassIdArray=[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],t.classIdValue="",t.classIdAll="",t.pageTitle="学生列表",t.facultyData=[],t.StudentFacultyData=[],t.StudentFacultyValue=[],t.AdminFacultyData=[],t.selectedFaculty=[],t.tableData=[],t.inputValue="",t.dialogFormStudent=!1,t.isShowDialog=!0,t.userData={},t.formLabelWidth="90px",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this;this.api=Object(h["f"])(),this.body={user_type:1},Object(p["d"])(Object(h["Lb"])()).then(function(e){t.StudentFacultyData=e.data,t.AdminFacultyData=e.data.map(function(t){return{value:t.value,label:t.value}}),t.facultyData=t.departmentArray,t.departmentArray=e.data.map(function(t){return{value:t.value,label:t.value,children:t.children}}),e.data.map(function(e){e.children.map(function(e){t.defaultMajorArray.push({value:e.value,label:e.value,children:e.children})})})}),this.eduLevelArray=this.defaultEduLevelArray,this.majorArray=this.defaultMajorArray,this.levelArray=this.defaultLevelArray,this.classIdArray=this.defaultClassIdArray}},{key:"onDepartmentValueChange",value:function(t){var e=this;t?(this.$set(this.body,"info",!0),this.$set(this.body,"department",t),this.departmentArray.map(function(a){a.value===t&&(e.majorArray=a.children.map(function(t){return{value:t.value,label:t.value,children:t.children}}))}),this.majorValue=this.majorArray[0].value):(this.$set(this.body,"department",null),delete this.body.department,this.majorArray=this.defaultMajorArray,this.levelValue||this.majorValue||this.classIdValue||this.eduLevelValue||(this.$set(this.body,"info",null),delete this.body.info))}},{key:"onMajorValueChange",value:function(t){var e=this;t?(this.$set(this.body,"info",!0),this.$set(this.body,"major",t),this.majorArray.map(function(a){a.value===t&&(e.eduLevelArray=a.children.map(function(t){return{value:t.value,label:t.value,children:t.children}}))})):(this.$set(this.body,"major",null),delete this.body.major,this.eduLevelArray=this.defaultEduLevelArray,this.levelValue||this.departmentValue||this.classIdValue||this.eduLevelValue||(this.$set(this.body,"info",null),delete this.body.info))}},{key:"onEduLevelValueChange",value:function(t){var e=this;t?(this.$set(this.body,"info",!0),this.$set(this.body,"edu_level",t),this.eduLevelArray.map(function(a){if(a.value===t){var n=new Array;a.children.map(function(t){t.children.map(function(t){n.push({value:t.value,label:t.value})});var a={};e.levelArray=n.reduce(function(t,e){return!a[e.value]&&(a[e.value]=t.push(e)),t},[])})}})):(this.$set(this.body,"edu_level",null),delete this.body.edu_level,this.levelArray=this.defaultLevelArray,this.levelValue||this.departmentValue||this.classIdValue||this.majorValue||(this.$set(this.body,"info",null),delete this.body.info))}},{key:"onLevelValueChange",value:function(t){var e=this;t?(this.$set(this.body,"info",!0),this.$set(this.body,"level",t),this.eduLevelArray.map(function(a){if(a.value===e.eduLevelValue){var n=new Array;a.children.map(function(e){e.children.map(function(a){a.value===t&&n.push({value:e.value,label:e.value})})});var i={};e.classIdArray=n.reduce(function(t,e){return!i[e.value]&&(i[e.value]=t.push(e)),t},[])}})):(this.$set(this.body,"level",null),delete this.body.level,this.classIdArray=this.defaultClassIdArray,this.eduLevelValue||this.departmentValue||this.classIdValue||this.majorValue||(this.$set(this.body,"info",null),delete this.body.info))}},{key:"onClassIdValueChange",value:function(t){t?(this.$set(this.body,"info",!0),this.$set(this.body,"class_id",t)):(this.$set(this.body,"class_id",null),delete this.body.class_id,this.departmentValue||this.majorValue||this.eduLevelValue||this.levelValue||(this.$set(this.body,"info",null),delete this.body.info))}},{key:"onAccountStatusChange",value:function(t){"可用"===t?this.$set(this.body,"status",!0):"不可用"===t?this.$set(this.body,"status",!1):""===t&&(this.$set(this.body,"status",null),delete this.body.status)}},{key:"onAuthenticationStatusChange",value:function(t){"0"===t?this.$set(this.body,"is_auth","0"):"1"===t?this.$set(this.body,"is_auth","1"):""===t&&(this.$set(this.body,"is_auth",null),delete this.body.is_auth)}},{key:"onUserTypeChange",value:function(t){t===g["a"].REGULAR_USER?this.facultyData=this.StudentFacultyData:this.facultyData=this.AdminFacultyData}},{key:"getDate",value:function(t){this.tableData=t}},{key:"closeDialog",value:function(t){this.isShowDialog=t}},{key:"inputBtn",value:function(){this.$set(this.body,"keyword",this.inputValue)}},{key:"delInputValue",value:function(){this.$set(this.body,"keyword",null),delete this.body.keyword}},{key:"update",value:function(t,e){var a=this;this.isShowDialog=!0;var n={id:e.id};Object(p["d"])(Object(h["hb"])(),n).then(function(t){a.userData=t.data,a.userData.user.create_time=Object(y["d"])(a.userData.user.create_time),a.selectedFaculty.length=0,0===a.selectedFaculty.length&&(a.selectedFaculty.push(a.userData.department,a.userData.major,a.userData.edu_level),a.userData.class_id?a.selectedFaculty.push(a.userData.class_id.toString()):a.selectedFaculty.push(""),a.selectedFaculty.push(a.userData.level)),a.dialogFormStudent=!0})}},{key:"studentPut",value:function(t){var e=this;Object(p["g"])(Object(h["Fb"])(),t).then(function(t){"successful"===t.result?(Object(v["a"])("修改成功","success",1e3,e),e.$refs.$pagination.forceRefresh()):"error"===t.result?Object(v["a"])(t.data,"error",1e3,e):"server-error"===t.result?Object(v["a"])("服务器异常","error",1e3,e):"permission-denied"===t.result&&Object(v["a"])("更改用户角色失败"+t.data,"error",1e3,e),e.dialogFormStudent=!1})}},{key:"deleteStu",value:function(t,e){var a=this;b["b"].deleteUser(this,t,e,Object(h["W"])(),function(t){t&&a.$refs.$pagination.forceRefresh()})}}]),e}(d["d"]);u["a"]([Object(d["e"])("departmentValue")],w.prototype,"onDepartmentValueChange",null),u["a"]([Object(d["e"])("majorValue")],w.prototype,"onMajorValueChange",null),u["a"]([Object(d["e"])("eduLevelValue")],w.prototype,"onEduLevelValueChange",null),u["a"]([Object(d["e"])("levelValue")],w.prototype,"onLevelValueChange",null),u["a"]([Object(d["e"])("classIdValue")],w.prototype,"onClassIdValueChange",null),u["a"]([Object(d["e"])("accountStatus")],w.prototype,"onAccountStatusChange",null),u["a"]([Object(d["e"])("authenticationStatus")],w.prototype,"onAuthenticationStatusChange",null),u["a"]([Object(d["e"])("userData.user.admin_type")],w.prototype,"onUserTypeChange",null),w=u["a"]([Object(d["a"])({components:{"student-list-table":m["a"],"user-modify-dialog":f["a"],"small-radio-button":_["a"]}})],w);var A=w,k=A,x=a("2877"),S=Object(x["a"])(k,n,i,!1,null,"3ee0353f",null);e["default"]=S.exports},c5f6:function(t,e,a){"use strict";var n=a("7726"),i=a("69a8"),l=a("2d95"),o=a("5dbc"),s=a("6a99"),r=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,p=a("aa77").trim,m="Number",f=n[m],h=f,b=f.prototype,v=l(a("2aeb")(b))==m,g="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():p(e,3);var a,n,i,l=e.charCodeAt(0);if(43===l||45===l){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,r=e.slice(2),c=0,u=r.length;c<u;c++)if(o=r.charCodeAt(c),o<48||o>i)return NaN;return parseInt(r,n)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(v?r(function(){b.valueOf.call(a)}):l(a)!=m)?o(new h(y(e)),a,f):y(e)};for(var _,w=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)i(h,_=w[A])&&!i(f,_)&&d(f,_,u(h,_));f.prototype=b,b.constructor=f,a("2aba")(n,m,f)}},c7d1:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adminList"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"adminListData",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{prop:"userprofile__real_name",label:"姓名","min-width":"60px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_id",label:"工号","min-width":"110"}}),a("el-table-column",{attrs:{prop:"level",label:"所属院系","min-width":"250","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userprofile__department?a("span",[t._v("\n          "+t._s(e.row.userprofile__department)+"\n        ")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"注册/最后登录时间","min-width":"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("注册时间："+t._s(t.$moment(e.row.create_time).format("YYYY-MM-DD HH:mm:ss")))]),e.row.last_login?a("p",[t._v("最后登录："+t._s(t.$moment(e.row.last_login).format("YYYY-MM-DD HH:mm:ss")))]):a("p",[t._v("目前暂未登录过")])]}}])}),a("el-table-column",{attrs:{label:"是否禁用","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-switch",{attrs:{disabled:!e.row.isDisabledAdmin,"active-color":"#FC5C59","inactive-color":"#B6B6B6"},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.is_disabled,callback:function(a){t.$set(e.row,"is_disabled",a)},expression:"scope.row.is_disabled"}})],1)}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("el-button",{style:e.row.isDisabledAdmin?"":{color:"#8acbf3"},attrs:{type:"text",size:"mini"},on:{click:function(a){e.row.isDisabledAdmin?t.update(e.$index,e.row):t.disabledClick()}}},[t._v("\n            编辑\n          ")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{style:e.row.isDisabledAdmin?"":{color:"#8acbf3"},attrs:{type:"text",size:"mini"},on:{click:function(a){e.row.isDisabledAdmin?t.delclickStd(e.$index,e.row):t.disabledClick()}}},[t._v("\n            删除\n          ")])],1)])}}])})],1)],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("374b"),f=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"disabledClick",value:function(){this.$message({message:"您没有此权限",type:"warning"})}},{key:"update",value:function(t,e){this.$emit("update",t,e)}},{key:"delclickStd",value:function(t,e){this.$emit("delclickStd",t,e)}},{key:"changeSwitch",value:function(t){m["b"].userSwitch(this,t,Object(p["Cb"])())}}]),e}(d["d"]);u["a"]([Object(d["c"])()],f.prototype,"tableData",void 0),u["a"]([Object(d["c"])()],f.prototype,"loading",void 0),f=u["a"]([d["a"]],f);var h=f,b=h,v=a("2877"),g=Object(v["a"])(b,n,i,!1,null,"67bdad8e",null);e["a"]=g.exports},c7d4:function(t,e,a){"use strict";var n=a("6770"),i=a.n(n);i.a},c877:function(t,e,a){"use strict";var n=a("3293"),i=a.n(n);i.a},c8fe:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",[t._v("系统正在处理用户导入，请稍后....")]),a("div",{staticStyle:{height:"24px"}}),a("div",{staticStyle:{height:"60px"}},[[t._m(0)]],2),a("div",{staticStyle:{height:"24px"}}),a("p",[t._v("温馨提示：导入未完成之前，请勿关闭界面，否则可能导致数据错误")])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"middle"},[a("div",{staticClass:"bar bar1"}),a("div",{staticClass:"bar bar2"}),a("div",{staticClass:"bar bar3"}),a("div",{staticClass:"bar bar4"}),a("div",{staticClass:"bar bar5"}),a("div",{staticClass:"bar bar6"}),a("div",{staticClass:"bar bar7"}),a("div",{staticClass:"bar bar8"}),a("div",{staticClass:"bar bar9"}),a("div",{staticClass:"bar bar10"}),a("div",{staticClass:"bar bar11"}),a("div",{staticClass:"bar bar12"}),a("div",{staticClass:"bar bar13"}),a("div",{staticClass:"bar bar14"}),a("div",{staticClass:"bar bar15"})])}],l={name:"ImportUserProcessPage",data:function(){return{}}},o=l,s=(a("86e4"),a("2877")),r=Object(s["a"])(o,n,i,!1,null,null,null);e["default"]=r.exports},cb97:function(t,e,a){},cdc6:function(t,e,a){},cf46:function(t,e,a){},cf49:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("div",{style:{backgroundColor:t.simple?"#f2f2f2":"#E1E5E9"}},[a("div",[a("el-row",{staticStyle:{display:"flex"}},[a("el-col",{staticClass:" meter_active",staticStyle:{"margin-right":"10px"},attrs:{span:8}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between","margin-left":"20px"}},[a("span",{staticStyle:{"font-weight":"bolder","font-size":"13px"}},[t._v("日活跃用户")]),a("el-date-picker",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{type:"daterange",size:"small","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.active_datetime,callback:function(e){t.active_datetime=e},expression:"active_datetime"}})],1),a("chart",{style:t.chartStyleActive,attrs:{"chart-data":t.chartActive,id:t.chartActiveId}})],1),a("el-col",{staticClass:" meter_sub",staticStyle:{margin:"0 10px"},attrs:{span:8}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between","margin-left":"20px"}},[a("span",{staticStyle:{"font-weight":"bolder","font-size":"13px"}},[t._v("日提交量")]),a("el-date-picker",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{type:"daterange",size:"small","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.sub_datetime,callback:function(e){t.sub_datetime=e},expression:"sub_datetime"}})],1),a("chart",{style:t.chartStyleSub,attrs:{"chart-data":t.chartSubCount,id:t.chartSubId}})],1),a("el-col",{staticClass:" meter_accept",staticStyle:{"margin-left":"10px"},attrs:{span:8}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between","margin-left":"20px"}},[a("span",{staticStyle:{"font-weight":"bolder","font-size":"13px"}},[t._v("正确率")]),a("el-date-picker",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{type:"daterange",size:"small",align:"right","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.accept_datetime,callback:function(e){t.accept_datetime=e},expression:"accept_datetime"}})],1),a("chart",{style:t.chartStyleAccept,attrs:{"chart-data":t.chartAcceptCount,id:t.chartAcceptId}})],1)],1)],1),a("el-row",{staticStyle:{display:"flex","margin-top":"20px"}},[a("el-col",{staticClass:" meter_summary",attrs:{span:t.simple?24:15}},[a("div",{staticStyle:{display:"flex","flex-direction":"row-reverse","margin-left":"20px"}},[a("el-date-picker",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{type:"daterange",size:"small","unlink-panels":"","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.summary_datetime,callback:function(e){t.summary_datetime=e},expression:"summary_datetime"}})],1),a("chart",{style:t.chartStyleSummary,attrs:{"chart-data":t.chartSummaryData,id:t.chartSummaryId}})],1),t.simple?t._e():a("el-col",{staticClass:" ",staticStyle:{"margin-left":"10px"},attrs:{span:9}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-row",{staticStyle:{display:"flex"}},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"15px 10px"}}},[a("p",{staticClass:"text"},[t._v("提交总数")]),a("p",{staticClass:"number"},[t._v(t._s(t.submit))])])],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"15px 10px"}}},[a("p",{staticClass:"text"},[t._v("注册用户")]),a("p",{staticClass:"number"},[t._v(t._s(t.users))])])],1)],1),a("el-row",{staticStyle:{display:"flex","margin-top":"20px"}},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"15px 10px"}}},[a("p",{staticClass:"text"},[t._v("成功发起的竞赛")]),a("p",{staticClass:"number"},[t._v(t._s(t.contest))])])],1),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:12}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"15px 10px"}}},[a("p",{staticClass:"text"},[t._v("试题数量")]),a("p",{staticClass:"number"},[t._v(t._s(t.problems))])])],1)],1)],1),a("div",{staticClass:"meter_rank"},[a("p",{staticClass:"rank_title"},[t._v("TOP 10")]),a("ul",{staticClass:"rank_ul"},[a("li",[a("img",{attrs:{src:t.iconPaiming,alt:""}})]),a("li",[t._v("姓名")]),a("li",[t._v("提交")]),a("li",[t._v("通过")]),a("li",[t._v("通过率")])]),a("div",{attrs:{id:"rankDiv"}},t._l(this.rankData,function(e,n){return a("ul",{key:n,staticClass:"rank_ul"},[1!=e.rank&&2!==e.rank&&3!=e.rank?a("li",[t._v(t._s(e.rank))]):t._e(),1===e.rank?a("li",{staticClass:"img"},[a("img",{attrs:{src:t.iconFirst,alt:""}})]):t._e(),2===e.rank?a("li",{staticClass:"img"},[a("img",{attrs:{src:t.iconSecond,alt:""}})]):t._e(),3===e.rank?a("li",{staticClass:"img"},[a("img",{attrs:{src:t.iconThird,alt:""}})]):t._e(),a("li",[a("p",{staticClass:"name",attrs:{title:e.real_name}},[t._v(t._s(e.real_name))])]),a("li",[t._v(t._s(e.submission_number))]),a("li",[t._v(t._s(e.accepted_number))]),0===e.submission_number?a("li",[t._v("0.0%")]):t._e(),0!=e.submission_number?a("li",[t._v("\n                "+t._s((100*e.accepted_number/e.submission_number).toFixed(1))+"%\n              ")]):t._e()])}),0)])])],1)],1)])},i=[],l=(a("a481"),a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{style:t.style},attrs:{id:t.id}})}),o=[],s=a("d225"),r=a("b0b4"),c=a("308d"),u=a("6bb5"),d=a("4e2b"),p=a("9ab4"),m=a("60a3"),f=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.chart=null,t}return Object(d["a"])(e,t),Object(r["a"])(e,[{key:"mounted",value:function(){this.initChart()}},{key:"initChart",value:function(){this.chart=echarts.init(document.getElementById("".concat(this.id))),this.chart.setOption(this.chartData)}},{key:"onChartDataChange",value:function(){this.initChart()}}]),e}(m["d"]);p["a"]([Object(m["c"])()],f.prototype,"chartData",void 0),p["a"]([Object(m["c"])()],f.prototype,"id",void 0),p["a"]([Object(m["c"])()],f.prototype,"style",void 0),p["a"]([Object(m["e"])("chartData.xAxis.data")],f.prototype,"onChartDataChange",null),f=p["a"]([Object(m["a"])()],f);var h=f,b=h,v=a("2877"),g=Object(v["a"])(b,l,o,!1,null,"4f4d3c8d",null),y=g.exports,_=a("c402"),w=a("4694"),A=a("8564"),k={name:"OverviewPage",props:{simple:{type:Boolean,default:!1}},components:{chart:y},data:function(){return{datetime:"",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()||t.getTime()<Date.parse("2019-10-13")}},iconPaiming:A["C"],iconFirst:A["s"],iconSecond:A["K"],iconThird:A["M"],submit:0,users:0,contest:0,problems:0,active_radio:"20",active_datetime:[Date.now()-1728e6,Date.now()-864e5],sub_radio:"20",sub_datetime:[Date.now()-1728e6,Date.now()-864e5],accept_radio:"20",accept_datetime:[Date.now()-1728e6,Date.now()-864e5],summary_radio:"30",summary_datetime:[Date.now()-2592e6,Date.now()-864e5],chartAcceptId:"accept",chartActiveId:"active",chartSubId:"sub_count",chartSummaryId:"summary",chartStyleAccept:"height: 200px;",chartStyleActive:"height: 200px;",chartStyleSub:"height: 200px;",chartStyleSummary:"height: 450px;",rankData:[],chartSummaryData:{title:{text:""},tooltip:{trigger:"axis",textStyle:{color:"rgba(87,87,87)"},backgroundColor:"rgba(255,255,255,0.9)",extraCssText:"box-shadow: 0 0 10px rgba(174,174,174);"},legend:{data:["竞赛","提交","通过","活跃"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",splitLine:{show:!1}},series:[{name:"竞赛",type:"line",data:[],color:["#F2637B"]},{name:"提交",type:"line",data:[],color:["#3AA0FF"]},{name:"通过",type:"line",data:[],color:["#4ECB73"]},{name:"活跃",type:"line",data:[],color:["#975FE4"]}]},chartActive:{grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"none"},textStyle:{color:"rgba(87,87,87)"},backgroundColor:"rgba(255,255,255,0.9)",extraCssText:"box-shadow: 0 0 10px rgba(174,174,174);"},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",splitLine:{show:!1}},series:[{name:"日活跃用户",type:"line",smooth:!0,areaStyle:{normal:{}},data:[],color:["#975FE4"]}]},chartSubCount:{grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:[]},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(t){return t[0].marker+" "+t[0].seriesName+"<br>&nbsp;&nbsp;"+t[0].name+"："+t[0].value+"次<br>"},textStyle:{color:"rgba(87,87,87)"},backgroundColor:"rgba(255,255,255,0.9)",extraCssText:"box-shadow: 0 0 10px rgba(174,174,174);"},yAxis:{type:"value",splitLine:{show:!1}},series:[{name:"日提交量",type:"bar",data:[],color:["#3AA0FF"],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]},chartAcceptCount:{grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(t){return t[0].marker+" "+t[0].seriesName+"<br>&nbsp;&nbsp;"+t[0].name+"："+t[0].value+"%<br>"},textStyle:{color:"rgba(87,87,87)"},backgroundColor:"rgba(255,255,255,0.9)",extraCssText:"box-shadow: 0 0 10px rgba(174,174,174);"},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{formatter:"{value}%"}},series:[{name:"正确率",type:"line",data:[],color:["#4ECB73"]}]}}},mounted:function(){this.getActiveData(),this.getSubData(),this.getAcceptData(),this.getSummaryData(),this.getTotalData(),this.getRankData()},watch:{active_datetime:function(){var t=this;this.formatData(this.active_datetime,function(e){e.length?t.getActiveData(e[0],e[1]):t.getActiveData()})},sub_datetime:function(){var t=this;this.formatData(this.sub_datetime,function(e){e.length?t.getSubData(e[0],e[1]):t.getSubData()})},accept_datetime:function(){var t=this;this.formatData(this.accept_datetime,function(e){e.length?t.getAcceptData(e[0],e[1]):t.getAcceptData()})},summary_datetime:function(){var t=this;this.formatData(this.summary_datetime,function(e){e.length?t.getSummaryData(e[0],e[1]):t.getSummaryData()})}},methods:{formatData:function(t,e){if(t){var a=[];a=t.map(function(t){return new Date(t).toLocaleDateString().replace(/\//g,"-")}),e([a[0],a[1]])}else e([])},getRankData:function(){var t=this,e={limit:10,rule:"ACM",offset:0};Object(w["d"])(Object(_["pb"])(),e,{}).then(function(e){e.data.results.map(function(t,e){Object.assign(t,{rank:e+1})}),t.rankData=e.data.results})},getActiveData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={limit:this.active_radio,keyword:"active_count",start_time:e,end_time:a};Object(w["d"])(Object(_["kb"])(),n,{}).then(function(e){t.chartActive.xAxis.data=e.data.create_time,t.chartActive.series[0].data=e.data.active_count})},getSubData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={limit:this.sub_radio,keyword:"sub_count",start_time:e,end_time:a};Object(w["d"])(Object(_["kb"])(),n,{}).then(function(e){t.chartSubCount.xAxis.data=e.data.create_time,t.chartSubCount.series[0].data=e.data.sub_count})},getAcceptData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={limit:this.accept_radio,keyword:"",start_time:e,end_time:a};Object(w["d"])(Object(_["kb"])(),n,{}).then(function(e){e.data.accept_count.map(function(a,n){t.chartAcceptCount.xAxis.data=e.data.create_time,0!==a?t.chartAcceptCount.series[0].data.push((100*a/e.data.sub_count[n]).toFixed(1)):t.chartAcceptCount.series[0].data.push("0")})})},getSummaryData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={limit:this.summary_radio,start_time:e,end_time:a};Object(w["d"])(Object(_["kb"])(),n,{}).then(function(e){t.chartSummaryData.xAxis.data=e.data.create_time,t.chartSummaryData.series.map(function(t){"竞赛"===t.name?t.data=e.data.con_count:"提交"===t.name?t.data=e.data.sub_count:"通过"===t.name?t.data=e.data.accept_count:"活跃"===t.name&&(t.data=e.data.active_count)})})},getTotalData:function(){var t=this;Object(w["d"])(Object(_["B"])(),null,{}).then(function(e){t.submit=parseFloat(e.data.submit).toLocaleString(),t.users=parseFloat(e.data.users).toLocaleString(),t.contest=parseFloat(e.data.contest).toLocaleString(),t.problems=parseFloat(e.data.problems).toLocaleString()})}}},x=k,S=(a("02e6"),Object(v["a"])(x,n,i,!1,null,"4a4f09c8",null));e["default"]=S.exports},cfba:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageHeaderName}},[a("div",{staticClass:"center"},[a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"ImportTopicTemplatePage",params:{topicType:"private"}}}},[t._v("\n          批量导入\n        ")])],1),a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"AddTopicPage",params:{topicType:"private"}}}},[t._v("添加题目")])],1)]),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("难度：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.difficultyValue,callback:function(e){t.difficultyValue=e},expression:"difficultyValue"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},[a("small-radio-button",{attrs:{label:t.difficultyAll}},[t._v("全部")]),t._l(this.difficultyArray,function(e){return a("span",{key:e},[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("考点：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.testTagValue,callback:function(e){t.testTagValue=e},expression:"testTagValue"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("small-radio-button",{attrs:{label:t.testTagAll}},[t._v("全部")]),t._l(this.testTags_Type,function(e){return a("span",{key:e},[a("small-radio-button",{attrs:{label:e.name}},[t._v(t._s(e.name))])],1)})],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticClass:"input-with-select ",staticStyle:{width:"300px"},attrs:{placeholder:"请输入题目名称/题目编号",size:"small ",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("div",[a("title-bank-table",{staticClass:"privateItemBankList",attrs:{"bank-type":"2","selection-hide":!1,"table-data":t.tableData,loading:t.loading},on:{edit:t.edit,delete:t.deleteTopic,"add-to-basket":t.addToBasket,"move-to-basket":t.moveToBasket,"dis-collection":t.disCollectionTopic}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1),a("edit-topic-dialog",{ref:"$editTopicDialog",attrs:{data:t.tableData,api:t.submitApi}}),a("test-basket",{on:{delbasket:t.delbasket}})],1)},i=[],l=(a("ac4d"),a("8a81"),a("ac6a"),a("3ebc")),o=a("aeef"),s=a("325f"),r=a("0701"),c=a("4694"),u=a("c402"),d=a("374b"),p=a("3dec"),m=a("e432"),f={components:{EditTopicDialog:m["a"],pagination:s["a"],"test-basket":r["a"],"title-bank-table":o["a"],"small-radio-button":l["a"]},name:"PrivateTopicBankPage",data:function(){return{submitApi:Object(u["J"])(),loading:!0,collectionList:[],difficultyValue:"",difficultyAll:"",difficultyArray:[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"},{value:"待定",label:"待定"}],testTags_Type:[],testTagAll:"",testTagValue:"",api:"",body:{},tableData:[],inputValue:"",testTags:"",tagFlag:"",pageHeaderName:"私有题库",langType:[{value:"C",label:"C语言"},{value:"C++",label:"C++语言"},{value:"Java",label:"Java语言"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],inBasketTopicList:[]}},watch:{difficultyValue:function(t){this.body.dif=t},testTagValue:function(t){this.body.tag=t}},created:function(){var t=this;this.api=Object(u["c"])(),this.body={dif:"",keyword:"",tag:"",bank:"2"},this.getKeepList(),window.onbeforeunload=function(e){t.sendBasketData()};var e=!0,a=!1,n=void 0;try{for(var i,l=this.$store.state.basketData[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var o=i.value;this.inBasketTopicList.push(o.id)}}catch(s){a=!0,n=s}finally{try{e||null==l.return||l.return()}finally{if(a)throw n}}},beforeRouteLeave:function(t,e,a){this.sendBasketData(),a()},methods:{resetAnswer:function(t,e){t.language="",t.code=""},languageCommand:function(t,e){t.language=e},addAnswer:function(){this.reviseProblemForm.answer.push({language:"",code:""})},deleteAnswer:function(t){this.reviseProblemForm.answer.splice(t,1)},sendBasketData:function(){var t=[];this.$store.state.basketData.map(function(e,a){t[a]={},t[a]["id"]=e.id,t[a]["_id"]=e._id,t[a]["title"]=e.title});var e={uid:this.$store.state.baseInfo.uid,problem_basket:t};Object(c["f"])(Object(u["x"])(),e).then(function(t){})},getDate:function(t){var e=this;t.map(function(t){t.old_pro_id&&(t._id=t.old_pro_dis_id),Object.assign(t,{addtest:!0},{collection:!0},{description:"",input_description:"",output_description:"",hint:"",samples:[{input:"",output:""}],answer:[{language:"",code:""}],template:[{language:"",code:""}],test_cases:[{input:"",output:""}]}),e.$store.state.basketData.map(function(e){0===t.old_pro_id?e.id===t.id&&(t.addtest=!1):e.id===t.old_pro_id&&(t.addtest=!1)}),e.collectionList.map(function(e){0!==t.old_pro_id&&(t.collection=!1)})}),this.tableData=t},addToBasket:function(t,e){if(e.collection)e.addtest=!1,this.$store.commit("addBasketData",e);else{e.addtest=!1;var a=e;a.id=e.old_pro_id,this.$store.commit("addBasketData",a)}},moveToBasket:function(t,e){e.addtest=!0,this.$store.commit("delBasketData",e)},delbasket:function(t){this.tableData.map(function(e){0===e.old_pro_id?t.id===e.id&&(e.addtest=!0):t.id===e.old_pro_id&&(e.addtest=!0)})},disCollectionTopic:function(t,e){var a=this,n={problem_id:e.old_pro_id};Object(c["c"])(Object(u["L"])(),n).then(function(e){"successful"===e.result?(a.tableData.splice(t,1),a.$refs.$pagination.forceRefresh()):Object(p["a"])(e.data,"error",1e3,a)})},deleteTopic:function(t,e){var a=this;d["a"].deleteProblem(this,t,e,Object(u["V"])(),function(n){n&&(a.$store.commit("delBasketData",e),a.tableData.splice(t,1),a.$refs.$pagination.forceRefresh())})},getKeepList:function(){var t=this;Object(c["d"])(Object(u["L"])()).then(function(e){"successful"===e.result?t.collectionList=e.data:t.$message({type:"error",message:e.data})})},inputBtn:function(){this.body.keyword=this.inputValue},delInputValue:function(){this.body.keyword=""},clickFocus:function(){var t=this;Object(c["d"])(Object(u["e"])()).then(function(e){t.testTags_Type=e.data})},edit:function(t,e){this.$refs.$editTopicDialog.edit(t,e)}},mounted:function(){this.clickFocus()}},h=f,b=(a("b493"),a("2877")),v=Object(b["a"])(h,n,i,!1,null,"7dd19ef1",null);e["default"]=v.exports},cfdc:function(t,e,a){},cfef:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",[t._v("系统正在处理用户导入，请稍后....")]),a("div",{staticStyle:{height:"24px"}}),a("div",{staticStyle:{height:"60px"}},[[t._m(0)]],2),a("div",{staticStyle:{height:"24px"}}),a("p",[t._v("温馨提示：导入未完成之前，请勿关闭界面，否则可能导致数据错误")])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"middle"},[a("div",{staticClass:"bar bar1"}),a("div",{staticClass:"bar bar2"}),a("div",{staticClass:"bar bar3"}),a("div",{staticClass:"bar bar4"}),a("div",{staticClass:"bar bar5"}),a("div",{staticClass:"bar bar6"}),a("div",{staticClass:"bar bar7"}),a("div",{staticClass:"bar bar8"}),a("div",{staticClass:"bar bar9"}),a("div",{staticClass:"bar bar10"}),a("div",{staticClass:"bar bar11"}),a("div",{staticClass:"bar bar12"}),a("div",{staticClass:"bar bar13"}),a("div",{staticClass:"bar bar14"}),a("div",{staticClass:"bar bar15"})])}],l=a("d225"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=function(t){function e(){return Object(l["a"])(this,e),Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,t),e}(u["d"]);d=c["a"]([u["a"]],d);var p=d,m=p,f=(a("11bb"),a("2877")),h=Object(f["a"])(m,n,i,!1,null,"5db113c0",null);e["default"]=h.exports},d144:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.titlename}},[a("p",{staticClass:"addTest"},[a("router-link",{attrs:{to:{name:"FillContestInfoPage"}}},[t._v("创建竞赛")])],1),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row",staticStyle:{"margin-left":"20px"}},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("状态：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.testStateValue,callback:function(e){t.testStateValue=e},expression:"testStateValue"}},[a("div",{staticStyle:{display:"table"}},t._l(this.testStateArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"请输入竞赛名称或创建者",size:"small ",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("contest-list-table",{attrs:{"table-data":t.tableData,tablep:t.tablep1,"selection-hide":!0,loading:t.loading},on:{update:t.update,manageStudent:t.manageStudent,manageProblem:t.manageProblem,reFresh:t.reFresh}}),a("pagination",{ref:"$pagination",attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),a("contest-info-modify-dialog",{attrs:{"info-data":t.ruleForm,"dialog-visible":t.contestDialogVisible},on:{ContestDataChanged:t.ContestDataChanged,closeDialog:t.closeDialog}}),a("contest-manage-student-drawer",{attrs:{visible:t.manageStudentVisible,id:t.contest_id},on:{reFresh:t.reFresh,emitFalse:t.emitFalse}}),a("contest-manage-problem-drawer",{attrs:{visible:t.manageProblemVisible,id:t.contest_id_pro,title:t.title},on:{reFresh:t.reFresh,emitProFalse:t.emitProFalse}})],1)},i=[],l=a("760c"),o=a("3ebc"),s=a("325f"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-drawer",{attrs:{title:"考生列表",size:"800px","show-close":!1,"destroy-on-close":!0,visible:t.manageStd},on:{"update:visible":function(e){t.manageStd=e}}},[a("div",{staticStyle:{height:"50%"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center",padding:"0 12px 12px 12px"}},[a("simple-pagination",{attrs:{api:t.studentTableApi,body:t.studentTableBody},on:{getDate:t.getStudentTableDate},model:{value:t.studentTableLoading,callback:function(e){t.studentTableLoading=e},expression:"studentTableLoading"}})],1),a("manage-student-table",{attrs:{"contest-id":t.id,"student-data":t.studentData,loading:t.studentTableLoading},on:{deleteRow:t.deleteRow}})],1),a("div",{staticClass:"drawer-operate-container"},[a("div",{staticClass:"add-contest-btn",on:{click:function(e){return t.newAddStudent()}}},[t._v("新增考生")]),a("div",{staticClass:"add-contest-btn",on:{click:function(e){t.manageStd=!1}}},[t._v("取消")])])]),a("el-drawer",{attrs:{title:"学生列表",size:"800px","show-close":!1,visible:t.manageStd_son},on:{"update:visible":function(e){t.manageStd_son=e}}},[a("div",{staticStyle:{height:"50%"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 12px 12px 12px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名/学号/年级/专业/班号","suffix-icon":"el-icon-search",size:"mini",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("simple-pagination",{attrs:{api:t.addStudentTableApi,body:t.addStudentTableBody},on:{getDate:t.getAddStudentTableDate},model:{value:t.addStudentTableLoading,callback:function(e){t.addStudentTableLoading=e},expression:"addStudentTableLoading"}})],1),a("manage-add-student-table",{attrs:{loading:t.addStudentTableLoading,"old-data":t.list_user_id,"student-list-data":t.studentListData,"select-value":t.selectValue},on:{SelectionChangeStudent:t.SelectionChangeStudent}})],1),a("div",{staticClass:"drawer-operate-container"},[a("div",{staticClass:"add-contest-btn",on:{click:function(e){return t.sureSelection()}}},[t._v("确定添加")]),a("div",{staticClass:"add-contest-btn",on:{click:function(e){t.manageStd_son=!1}}},[t._v("取消")])])])],1)},c=[],u=a("d225"),d=a("b0b4"),p=a("308d"),m=a("6bb5"),f=a("4e2b"),h=a("9ab4"),b=a("60a3"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"studentListRef",staticStyle:{width:"100%"},attrs:{data:t.studentListData,"highlight-current-row":"","tooltip-effect":"dark",size:"mini"},on:{"selection-change":t.SelectionChangeStudent}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{prop:"userprofile__real_name",label:"姓名",width:"85","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_id",label:"学号"}}),a("el-table-column",{attrs:{prop:"level",label:"专业班级","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v("\n          "+t._s(t.getSchoolRollInfo(e.row.userprofile__major,e.row.userprofile__class_id,e.row.userprofile__level))+"\n        ")])])}}])})],1)],1)},g=[],y=(a("6b54"),function(){function t(e,a,n){Object(u["a"])(this,t),this._realName="",this._school="",this._department="",this._major="",this._eduLevel="",this._classId=0,this._level="",this._major=e,this._classId=a,this._level=n}return Object(d["a"])(t,[{key:"getSchoolRoolInfo",value:function(){var t=this._classId?this._classId.toString():"0";return this._department+this._level+this._major+this._eduLevel+t}},{key:"getSchoolRoolSimpleInfo",value:function(){if(""===this._level||""===this._major||null===this._classId)return"-";var t=this._classId?this._classId.toString():"0";return"".concat(this._level,"级").concat(this._major).concat(t,"班")}},{key:"realName",get:function(){return this._realName},set:function(t){this._realName=t}},{key:"school",get:function(){return this._school},set:function(t){this._school=t}},{key:"department",get:function(){return this._department},set:function(t){this._department=t}},{key:"major",get:function(){return this._major},set:function(t){this._major=t}},{key:"eduLevel",get:function(){return this._eduLevel},set:function(t){this._eduLevel=t}},{key:"classId",get:function(){return this._classId},set:function(t){this._classId=t}},{key:"level",get:function(){return this._level},set:function(t){this._level=t}}]),t}()),_=function(t){function e(){return Object(u["a"])(this,e),Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments))}return Object(f["a"])(e,t),Object(d["a"])(e,[{key:"onStudentListDataChange",value:function(){this.toggleSelection()}},{key:"SelectionChangeStudent",value:function(t){this.$emit("SelectionChangeStudent",t)}},{key:"toggleSelection",value:function(){this.$nextTick(function(){var t=this;this.oldData.map(function(e){t.studentListData.map(function(a){e===a.id&&t.$refs.studentListRef.toggleRowSelection(a,!0)})})})}},{key:"getSchoolRollInfo",value:function(t,e,a){var n=new y(t,e,a);return n.getSchoolRoolSimpleInfo()}}]),e}(b["d"]);h["a"]([Object(b["c"])()],_.prototype,"oldData",void 0),h["a"]([Object(b["c"])()],_.prototype,"studentListData",void 0),h["a"]([Object(b["c"])()],_.prototype,"selectValue",void 0),h["a"]([Object(b["c"])()],_.prototype,"loading",void 0),h["a"]([Object(b["e"])("studentListData")],_.prototype,"onStudentListDataChange",null),_=h["a"]([b["a"]],_);var w=_,A=w,k=(a("4a87"),a("2877")),x=Object(k["a"])(A,v,g,!1,null,"8abfce92",null),S=x.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.studentData,"tooltip-effect":"dark",size:"mini"}},[a("el-table-column",{attrs:{label:"",align:"center",width:"20"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[t.isAdmin(e.row.user__admin_type)?a("use",{attrs:{"xlink:href":"#el-icon-nm-admin"}}):t._e(),t.isTeacher(e.row.user__admin_type)?a("use",{attrs:{"xlink:href":"#el-icon-nm-teacher"}}):t._e()])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"70","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.user__userprofile__real_name))])]}}])}),a("el-table-column",{attrs:{prop:"user__user_id",label:"学号/工号"}}),a("el-table-column",{attrs:{label:"专业班级","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v("\n          "+t._s(t.getSchoolRollInfo(e.row.user__userprofile__major,e.row.user__userprofile__class_id,e.row.user__userprofile__level))+"\n        ")])])}}])}),a("el-table-column",{attrs:{label:"认证完成",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.is_auth?"是":"否"))])])}}])}),a("el-table-column",{attrs:{label:"禁用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#FC5C59","inactive-color":"#B6B6B6"},on:{change:function(a){return t.handleSwitchEvent(e.row)}},model:{value:e.row.is_disabled,callback:function(a){t.$set(e.row,"is_disabled",a)},expression:"scope.row.is_disabled"}})]}}])}),a("el-table-column",{attrs:{label:"删除",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.$index,e.row)}}},[a("img",{attrs:{src:t.iconDelete,alt:""}})])]}}])})],1)],1)},D=[],j=a("8564"),O=a("3dec"),T=a("4694"),E=a("c402"),F=a("9ed1"),$=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.iconDelete=j["i"],t}return Object(f["a"])(e,t),Object(d["a"])(e,[{key:"isAdmin",value:function(t){return t===F["a"].SUPER_ADMIN||t===F["a"].ADMIN}},{key:"isTeacher",value:function(t){return t===F["a"].TEACHER}},{key:"deleteRow",value:function(t,e){this.$emit("deleteRow",t,e)}},{key:"handleSwitchEvent",value:function(t){var e=this,a={uid:t.user_id,contest_id:this.contestId,status:t.is_disabled};Object(T["g"])(Object(E["Vb"])(),a).then(function(a){if("successful"===a.result){var n={uid:t.user_id,contest_id:e.contestId};Object(T["c"])(Object(E["Z"])(),n).then(function(t){"successful"===t.result&&Object(O["a"])("修改成功","success",1e3,e)})}})}},{key:"getSchoolRollInfo",value:function(t,e,a){var n=new y(t,e,a);return n.getSchoolRoolSimpleInfo()}}]),e}(b["d"]);h["a"]([Object(b["c"])()],$.prototype,"studentData",void 0),h["a"]([Object(b["c"])()],$.prototype,"loading",void 0),h["a"]([Object(b["c"])()],$.prototype,"contestId",void 0),$=h["a"]([b["a"]],$);var I=$,B=I,P=(a("455e"),Object(k["a"])(B,C,D,!1,null,"18e23af6",null)),M=P.exports,L=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.loading=!1,t.manageStd=!1,t.manageStd_son=!1,t.contest_id=0,t.studentData=[],t.studentListData=[],t.id_list=[],t.list_user_id=[],t.selectValue=!1,t.keyword="",t.addStudentTableLoading=!1,t.studentTableLoading=!1,t.addStudentTableApi="",t.addStudentTableBody={},t.studentTableApi="",t.studentTableBody={},t}return Object(f["a"])(e,t),Object(d["a"])(e,[{key:"getAddStudentTableDate",value:function(t){this.studentListData=t,this.selectValue=!0}},{key:"getStudentTableDate",value:function(t,e){this.studentData=t,this.list_user_id=e}},{key:"getStudentData",value:function(){this.contest_id&&(this.studentTableBody={contest_id:this.contest_id},this.studentTableApi=Object(E["S"])())}},{key:"SelectionChangeStudent",value:function(t){var e=this;this.id_list=[],t.map(function(t){e.id_list.push(t.id)})}},{key:"newAddStudent",value:function(){this.manageStd_son=!0,this.addStudentTableApi=Object(E["f"])(),this.addStudentTableBody={user_type:1,keyword:this.keyword}}},{key:"sureSelection",value:function(){var t=this,e={contest_id:this.contest_id,user_id_list:this.id_list};Object(T["f"])(Object(E["i"])(),e).then(function(e){"successful"===e.result&&(t.getStudentData(),t.manageStd_son=!1,t.$message({type:"success",message:"添加成功"}))}).catch(function(t){})}},{key:"deleteRow",value:function(t,e){var a=this,n={contest_id:this.contest_id,uid:e.user_id,user_id:e.user__user_id};Object(T["c"])(Object(E["S"])(),n).then(function(e){"successful"===e.result&&"删除成功"===e.data&&(a.studentData.splice(t,1),a.getStudentData())})}},{key:"onManageStdChange",value:function(t){this.$emit("emitFalse",t),t||this.$emit("reFresh")}},{key:"onIdChange",value:function(t){this.contest_id=t,this.getStudentData()}},{key:"onVisibleChange",value:function(t){this.manageStd=t}},{key:"onKeywordChange",value:function(t){this.addStudentTableBody.keyword=t}}]),e}(b["d"]);h["a"]([Object(b["c"])()],L.prototype,"visible",void 0),h["a"]([Object(b["c"])()],L.prototype,"id",void 0),h["a"]([Object(b["e"])("manageStd")],L.prototype,"onManageStdChange",null),h["a"]([Object(b["e"])("id")],L.prototype,"onIdChange",null),h["a"]([Object(b["e"])("visible")],L.prototype,"onVisibleChange",null),h["a"]([Object(b["e"])("keyword")],L.prototype,"onKeywordChange",null),L=h["a"]([Object(b["a"])({components:{"manage-add-student-table":S,"manage-student-table":M}})],L);var R=L,z=R,N=(a("c877"),Object(k["a"])(z,r,c,!1,null,"81f15bf2",null)),V=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-drawer",{attrs:{title:"试题列表","show-close":!1,size:"450px",visible:t.managePro},on:{"update:visible":function(e){t.managePro=e}}},[a("div",{staticStyle:{height:"50%"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-bottom":"20px",position:"relative"}},[a("p",{staticStyle:{"font-size":"20px","text-align":"center"}},[t._v(t._s(t.title))]),a("simple-pagination",{staticStyle:{position:"absolute",right:"12px"},attrs:{api:t.topicListTableApi,body:t.topicListTableBody},on:{getDate:t.getTopicListDate},model:{value:t.topicListTableLoading,callback:function(e){t.topicListTableLoading=e},expression:"topicListTableLoading"}})],1),a("el-scrollbar",{staticClass:"page-component__scroll"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.topicListTableLoading,expression:"topicListTableLoading"}],ref:"problemData",attrs:{data:t.problemData,"tooltip-effect":"dark",size:"mini"}},[a("el-table-column",{attrs:{prop:"_id",label:"题号",width:"60"}}),a("el-table-column",{attrs:{prop:"title",label:"题目名称"}}),a("el-table-column",{attrs:{label:"操作",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.edit(e.$index,e.row)}}},[t._v("\n                编辑\n              ")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteRow(e.$index,e.row)}}},[t._v("\n                删除\n              ")])]}}])})],1)],1)],1),a("div",{staticClass:"drawer-operate-container"},[a("div",{staticClass:"add-contest-btn",on:{click:t.proAddExamBtn}},[t._v("去添加试题")]),a("div",{staticClass:"add-contest-btn",on:{click:function(e){t.managePro=!1}}},[t._v("取消")])])]),a("contest-manage-problem-dialog",{ref:"$contestManageProblemDialog",attrs:{data:t.reviseProblemForm,"contest-id":t.contest_id_pro},on:{updateTitle:t.updateTitle}})],1)},Q=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.dialogFormProblem?a("el-dialog",{attrs:{title:"修改信息",visible:t.dialogFormProblem,width:"800px"},on:{"update:visible":function(e){t.dialogFormProblem=e},close:t.closeDialog}},[a("el-form",{ref:"reviseProblemForm",attrs:{model:t.reviseProblemForm,"label-width":"100px",size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"题目名称：",required:""}},[a("el-input",{attrs:{placeholder:"例如 ：XX专业第一周测试"},model:{value:t.reviseProblemForm.title,callback:function(e){t.$set(t.reviseProblemForm,"title",e)},expression:"reviseProblemForm.title"}})],1)],1)],1),a("el-form-item",{staticClass:"addWanged1",attrs:{label:"题目描述：",required:""}},[a("editor",{attrs:{"editor-id":t.addWanged1},model:{value:t.reviseProblemForm.description,callback:function(e){t.$set(t.reviseProblemForm,"description",e)},expression:"reviseProblemForm.description"}})],1),a("el-form-item",{staticClass:"addWanged2",attrs:{label:"输入描述："}},[a("editor",{attrs:{"editor-id":t.addWanged2},model:{value:t.reviseProblemForm.input_description,callback:function(e){t.$set(t.reviseProblemForm,"input_description",e)},expression:"reviseProblemForm.input_description"}})],1),a("el-form-item",{staticClass:"addWanged3",attrs:{label:"输出描述："}},[a("editor",{attrs:{"editor-id":t.addWanged3},model:{value:t.reviseProblemForm.output_description,callback:function(e){t.$set(t.reviseProblemForm,"output_description",e)},expression:"reviseProblemForm.output_description"}})],1),a("el-form-item",{staticClass:"addWanged4",attrs:{label:"提示："}},[a("editor",{attrs:{"editor-id":t.addWanged4},model:{value:t.reviseProblemForm.hint,callback:function(e){t.$set(t.reviseProblemForm,"hint",e)},expression:"reviseProblemForm.hint"}})],1),a("div",{staticClass:"testCases"},t._l(t.reviseProblemForm.samples,function(e,n){return a("el-form-item",{key:"sample"+n,attrs:{label:"样例："}},[a("div",{staticClass:"testCaseHeader"}),a("div",{staticClass:"testCasebox"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title "},[t._v("输入样例")]),a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"sample.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输出样例")]),a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"sample.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"testCases"},t._l(t.reviseProblemForm.test_cases,function(e,n){return a("el-form-item",{key:"testCase"+n,attrs:{label:"测试用例"+(n+1)+"：",required:""}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center","padding-right":"24px"}},[0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteSample(n)}}},[t._v("\n              删除用例\n            ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addSample()}}},[t._v("新增用例")])],1),a("div",{staticClass:"testCasebox"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输入用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输入用例"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"testCase.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title  putSase"},[t._v("输出用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输出用例"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"testCase.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"problemDetails"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"题目难度："}},[a("el-select",{staticStyle:{float:"left"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseProblemForm.difficulty,callback:function(e){t.$set(t.reviseProblemForm,"difficulty",e)},expression:"reviseProblemForm.difficulty"}},t._l(t.difficultyTYpe,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"时间限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseProblemForm.time_limit,callback:function(e){t.$set(t.reviseProblemForm,"time_limit",e)},expression:"reviseProblemForm.time_limit"}}),a("span",[t._v("ms")])],1)])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"编程语言：",required:""}},[a("el-select",{staticStyle:{float:"left"},attrs:{filterable:"",multiple:"","collapse-tags":""},model:{value:t.reviseProblemForm.languages,callback:function(e){t.$set(t.reviseProblemForm,"languages",e)},expression:"reviseProblemForm.languages"}},t._l(t.langType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"内存限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseProblemForm.memory_limit,callback:function(e){t.$set(t.reviseProblemForm,"memory_limit",e)},expression:"reviseProblemForm.memory_limit"}}),a("span",[t._v("MB")])],1)])],1)],1)],1),a("div",{staticClass:"testCases"},t._l(t.reviseProblemForm.answer,function(e,n){return a("el-form-item",{key:"answer"+n,attrs:{label:"题目解析"+(n+1)+"："}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 24px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:function(a){return t.languageCommand(e,a)}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                "+t._s(e.language?e.language:"编程语言")+"\n                "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.langType,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                  "+t._s(e.value)+"\n                ")])}),1)],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.resetAnswer(e,n)}}},[t._v("重置")]),0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteAnswer(n)}}},[t._v("\n                删除答案\n              ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addAnswer()}}},[t._v("新增答案")])],1)],1),a("div",{staticClass:"testCasebox"},[a("el-input",{attrs:{rows:20,type:"textarea",placeholder:"示例答案"},model:{value:e.code,callback:function(a){t.$set(e,"code",a)},expression:"answer.code"}})],1)])}),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormProblem=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.problemPut}},[t._v("确 定")])],1)],1):t._e()],1)},Y=[],G=(a("ac6a"),a("c5f6"),a("198e")),q={components:{editor:G["a"]},props:{data:{type:Object},contestId:{type:Number}},watch:{data:function(t){this.reviseProblemForm=t}},data:function(){return{dialogFormProblem:!1,addWanged1:"addWanged1",addWanged2:"addWanged2",addWanged3:"addWanged3",addWanged4:"addWanged4",langType:[{value:"C",label:"C语言"},{value:"C++",label:"C++语言"},{value:"Java",label:"Java语言"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],difficultyTYpe:[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"}],reviseProblemForm:{languages:[],title:"",description:"",input_description:" ",output_description:"",hint:"",test_cases:[{input:"",output:""}],samples:[{input:"",output:""}],score:10,difficulty:"中等",time_limit:"1000",memory_limit:"256",answer:[{language:"",code:""}],test_case_id:"",test_case_score:[]}}},methods:{showDialog:function(){this.dialogFormProblem=!0},closeDialog:function(){this.dialogFormProblem=!1},addSample:function(){this.reviseProblemForm.test_cases.push({input:"",output:""})},deleteSample:function(t){this.reviseProblemForm.test_cases.splice(t,1)},resetAnswer:function(t,e){t.language="",t.code=""},languageCommand:function(t,e){t.language=e},addAnswer:function(){this.reviseProblemForm.answer.push({language:"",code:""})},deleteAnswer:function(t){this.reviseProblemForm.answer.splice(t,1)},problemPut:function(){var t=this;delete this.reviseProblemForm.visible;var e=JSON.parse(JSON.stringify(this.reviseProblemForm)),a=[];e.answer.forEach(function(t){""===t.language&&""===t.code||a.push(t)}),e.answer=a,e.contest_id=this.contestId;var n=e;Object(T["g"])(Object(E["r"])(),n).then(function(e){"successful"===e.result?(t.$message({message:"修改成功",type:"success"}),t.$emit("updateTitle",n.title,n.id)):t.$message({message:e.data,type:"error"})}),this.closeDialog()}}},W=q,J=(a("251e"),Object(k["a"])(W,H,Y,!1,null,"29bf06c2",null)),X=J.exports,K=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.iconDelete=j["i"],t.managePro=!1,t.topicListTableLoading=!1,t.problemData=[],t.contest_id_pro=0,t.topicListTableBody={},t.topicListTableApi="",t.reviseProblemForm={},t}return Object(f["a"])(e,t),Object(d["a"])(e,[{key:"getTopicListDate",value:function(t){this.problemData=t}},{key:"getProblemData",value:function(){this.contest_id_pro&&(this.topicListTableBody={contest_id:this.contest_id_pro},this.topicListTableApi=Object(E["r"])())}},{key:"updateTitle",value:function(t,e){t&&e&&this.problemData.some(function(a,n){a.id===e&&(a.title=t)})}},{key:"edit",value:function(t,e){var a=this,n={problem_id:e.id};Object(T["d"])(Object(E["r"])(),n).then(function(t){a.reviseProblemForm=t.data,0===a.reviseProblemForm.answer.length&&a.reviseProblemForm.answer.push({language:"",code:""}),0===a.reviseProblemForm.test_cases.length&&a.reviseProblemForm.test_cases.push({input:"",output:""}),a.$refs.$contestManageProblemDialog.showDialog()})}},{key:"deleteRow",value:function(t,e){var a=this,n={contest_id:this.contest_id_pro,problem_id:e.id};Object(T["c"])(Object(E["r"])(),n).then(function(e){"successful"===e.result&&(a.problemData.splice(t,1),a.getProblemData())})}},{key:"proAddExamBtn",value:function(){this.$router.push({name:"PublicTopicBankPage"})}},{key:"onManageProChange",value:function(t){this.$emit("emitProFalse",t),t||this.$emit("reFresh")}},{key:"onIdChange",value:function(t){this.contest_id_pro=t,this.getProblemData()}},{key:"onVisibleChange",value:function(t){this.managePro=t}}]),e}(b["d"]);h["a"]([Object(b["c"])()],K.prototype,"title",void 0),h["a"]([Object(b["c"])()],K.prototype,"visible",void 0),h["a"]([Object(b["c"])()],K.prototype,"id",void 0),h["a"]([Object(b["e"])("managePro")],K.prototype,"onManageProChange",null),h["a"]([Object(b["e"])("id")],K.prototype,"onIdChange",null),h["a"]([Object(b["e"])("visible")],K.prototype,"onVisibleChange",null),K=h["a"]([Object(b["a"])({components:{"contest-manage-problem-dialog":X}})],K);var Z=K,tt=Z,et=(a("846e"),Object(k["a"])(tt,U,Q,!1,null,"6eb30b14",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"contest-info-dialog",attrs:{title:"修改信息",visible:t.dialogVisible,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDialog}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","status-icon":""}},[a("el-form-item",{attrs:{label:"竞赛名称:",required:"",prop:"title"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{size:"small",placeholder:"例如 ：XX专业第一周测试"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),a("el-form-item",{attrs:{label:"开始时间:",required:"",prop:"start_time"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptionS1,clearable:!1,size:"small",format:"yyyy-MM-dd HH:mm"},on:{change:t.startTimeChange},model:{value:t.ruleForm.start_time,callback:function(e){t.$set(t.ruleForm,"start_time",e)},expression:"ruleForm.start_time"}})],1),a("el-form-item",{attrs:{label:"结束时间:",required:"",prop:"end_time"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"datetime",placeholder:"选择日期","picker-options":t.pickerOptionsEnd,format:"yyyy-MM-dd HH:mm",clearable:!1,size:"small"},model:{value:t.ruleForm.end_time,callback:function(e){t.$set(t.ruleForm,"end_time",e)},expression:"ruleForm.end_time"}})],1),a("el-form-item",{attrs:{label:"应用场景:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.ruleForm.scenes,callback:function(e){t.$set(t.ruleForm,"scenes",e)},expression:"ruleForm.scenes"}},[a("radio-button",{attrs:{label:t.scenesRadio_Online}},[t._v("\n          在线考试\n        ")]),a("radio-button",{attrs:{label:t.scenesRadio_Ordinary}},[t._v("\n          普通练习\n        ")])],1)],1),a("el-form-item",{attrs:{label:"竞赛类别:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.password_type,callback:function(e){t.password_type=e},expression:"password_type"}},[a("label",[a("radio-button",{attrs:{label:t.testTypeRadio_Invite},nativeOn:{click:function(e){return t.randomPassword()}}},[t._v("\n            邀请作答\n          ")]),a("el-input",{staticClass:"pasInput",staticStyle:{width:"100px"},attrs:{size:"small",id:"pasInput",readonly:""},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),a("label",[a("radio-button",{attrs:{label:t.testTypeRadio_Public},nativeOn:{click:function(e){return t.delPassword()}}},[t._v("\n            公开作答\n          ")])],1)])],1),a("el-form-item",{attrs:{label:"排名规则:",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.ruleForm.rule_type,callback:function(e){t.$set(t.ruleForm,"rule_type",e)},expression:"ruleForm.rule_type"}},[a("radio-button",{attrs:{label:t.rankingRuleRadio_ACM}},[t._v("\n          ACM\n        ")]),a("radio-button",{attrs:{label:t.rankingRuleRadio_OI,disabled:!0}},[t._v("\n          OI\n        ")])],1)],1),a("el-form-item",{attrs:{label:"编程语言:",required:""}},[a("el-select",{staticStyle:{width:"70%"},attrs:{size:"small",filterable:"",multiple:""},model:{value:t.ruleForm.languages,callback:function(e){t.$set(t.ruleForm,"languages",e)},expression:"ruleForm.languages"}},t._l(t.langType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-row",[a("el-form-item",{attrs:{label:"允许的IP范围:"}},t._l(t.ipList,function(e,n){return a("div",{key:n},[a("el-col",{attrs:{span:14}},[a("div",[a("el-input",{attrs:{placeholder:"218.59.189.0",size:"small"},on:{input:function(e){return t.handleInputIpEvent(n,e)}},model:{value:t.ipList[n],callback:function(e){t.$set(t.ipList,n,e)},expression:"ipList[index]"}}),t.isIP[n]?a("div",{staticStyle:{display:"inline-flex",color:"red","line-height":"18px"}},[t._v("IP输入有误")]):t._e(),t.isIPNull[n]?a("div",{staticStyle:{display:"inline-flex",color:"red","line-height":"18px"}},[t._v("IP输入不可为空")]):t._e()],1)]),a("el-col",{attrs:{span:1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[a("div",{staticStyle:{"line-height":"18px"},attrs:{slot:"content"},slot:"content"},[t._v("\n                CIDR Network,模板为IP,\n                "),a("br"),t._v("\n                例如192.168.2.X,将只允许IP在192.168.2.0—192.168.2.255范围内的用户提交答案，\n                "),a("br"),t._v("\n                不填写此处，则没有IP提交限制，添加之前，请确认IP范围，确认不会影响某些用户的提交，\n                "),a("br"),t._v("\n                可以添加多个代表不同网段的IP。\n              ")]),a("img",{staticStyle:{"margin-top":"12px","margin-left":"2px"},attrs:{src:t.iconSetHint,alt:""}})])],1),a("el-col",{attrs:{span:9}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:function(e){return t.addIP()}}}),0!==n?a("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteIP(n)}}}):t._e()],1)],1)}),0)],1)],1),a("div",{staticClass:"center",staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.studentPut("ruleForm")}}},[t._v("确 定")])],1)],1)},it=[],lt=a("4d1e"),ot=a("92f3"),st=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(p["a"])(this,Object(m["a"])(e).apply(this,arguments)),t.isIP=[],t.isIPNull=[],t.ipList=[""],t.iconSetHint=j["L"],t.scenesRadio_Ordinary="0",t.scenesRadio_Online="1",t.testTypeRadio_Invite="邀请",t.testTypeRadio_Public="公开",t.rankingRuleRadio_ACM="ACM",t.rankingRuleRadio_OI="OI",t.password_type="公开",t.langType=[{value:"C",label:"C"},{value:"C++",label:"C++"},{value:"Java",label:"Java"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],t.ruleForm={title:"",start_time:"",end_time:"",scenes:"0",password:"",rule_type:"ACM",languages:["C","C++","Python2","Python3","Java"],real_time_rank:!0,submit_record:!0,allowed_ip_ranges:[]},t.pickerOptionS1={disabledDate:function(t){return t.getTime()+864e5<Date.now()}},t.pickerOptionsEnd={disabledDate:function(t){return t.getTime()+864e5<Date.now()},shortcuts:[{text:"一小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+36e5),t.$emit("pick",e)}},{text:"两小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+72e5),t.$emit("pick",e)}},{text:"四小时",onClick:function(t){var e=new Date;e.setTime(e.getTime()+144e5),t.$emit("pick",e)}},{text:"一天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"三天",onClick:function(t){var e=new Date;e.setTime(e.getTime()+2592e5),t.$emit("pick",e)}},{text:"一周",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}}]},t.rules={title:[{required:!0,message:"请输入竞赛名称",trigger:"blur"},{max:16,message:"竞赛名称太长了",trigger:"blur"},{min:3,message:"竞赛名称太短了",trigger:"blur"}],start_time:[{required:!0,message:"请选择开考时间",trigger:"change"}],end_time:[{required:!0,message:"请选择结束时间",trigger:"change"}]},t}return Object(f["a"])(e,t),Object(d["a"])(e,[{key:"onInfoDataChange",value:function(t){this.ruleForm=t}},{key:"onPasswordChange",value:function(t){var e=this;this.$nextTick(function(a){var n=document.querySelector(".pasInput input");n.style.borderRadius=" 0 3px 3px 0",n.style.letterSpacing="1px",n.style.height="32px",n.style.lineHeight="33px",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="0",t?(e.password_type="邀请",document.querySelector(".pasInput input").style.borderColor="#1EC684"):t||(e.password_type="公开",document.querySelector(".pasInput input").style.borderColor="#dcdfe6")})}},{key:"startTimeChange",value:function(t){this.pickerOptionsEnd.shortcuts=[{text:"一小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+36e5),e.$emit("pick",a)}},{text:"两小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+72e5),e.$emit("pick",a)}},{text:"四小时",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+144e5),e.$emit("pick",a)}},{text:"一天",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+864e5),e.$emit("pick",a)}},{text:"三天",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+2592e5),e.$emit("pick",a)}},{text:"一周",onClick:function(e){var a=new Date(t);a.setTime(a.getTime()+6048e5),e.$emit("pick",a)}}]}},{key:"closeDialog",value:function(){this.$emit("closeDialog",!1)}},{key:"handleInputIpEvent",value:function(t,e){0!==t&&(this.isIPNull[t]=""===e||null===e),this.isIP[t]=!!e&&Object(ot["b"])(e)}},{key:"addIP",value:function(){this.ipList.push("")}},{key:"deleteIP",value:function(t){this.ipList.splice(t,1)}},{key:"randomPassword",value:function(){document.getElementById("pasInput").style.borderColor="#1EC684";var t=Math.round(2*Math.random())+4;this.ruleForm.password=Object(lt["a"])(t)}},{key:"delPassword",value:function(){this.ruleForm.password="",document.getElementById("pasInput").style.borderColor="#dcdfe6"}},{key:"studentPut",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){delete e.ruleForm.visible;var a=!1;if(e.ruleForm.allowed_ip_ranges=[],e.ruleForm.start_time=new Date(new Date(e.ruleForm.start_time).setSeconds(0)),e.ruleForm.end_time=new Date(new Date(e.ruleForm.end_time).setSeconds(0)),e.ipList.map(function(t,n){""===t||"undefined"===typeof t||null===t?0!==n?(a=!0,e.isIPNull[n]=!0):e.isIPNull[n]=!1:e.ruleForm.allowed_ip_ranges.push(t)}),a)Object(O["a"])("IP输入不可为空","error",2e3,e);else{var n=e.ruleForm;Object(T["g"])(Object(E["gb"])(),n).then(function(t){"successful"===t.result?(Object(O["a"])("修改成功","success",2e3,e),e.ruleForm=t.data,e.dialogVisible=!1,e.$emit("ContestDataChanged",e.ruleForm)):"error"===t.result&&Object(O["a"])(t.data,"error",2e3,e)})}}})}}]),e}(b["d"]);h["a"]([Object(b["c"])()],st.prototype,"infoData",void 0),h["a"]([Object(b["c"])()],st.prototype,"dialogVisible",void 0),h["a"]([Object(b["e"])("infoData")],st.prototype,"onInfoDataChange",null),h["a"]([Object(b["e"])("ruleForm.password",{deep:!0})],st.prototype,"onPasswordChange",null),st=h["a"]([Object(b["a"])({components:{"radio-button":l["a"]}})],st);var rt=st,ct=rt,ut=(a("f3b4"),Object(k["a"])(ct,nt,it,!1,null,"7bcf0c6e",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ContestListTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{label:"竞赛编号",align:"center",width:"75px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.display_id))])]}}])}),a("el-table-column",{attrs:{label:"竞赛名称","show-overflow-tooltip":"","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:e.row.isMineContest?"color: #1B8CD0;flex: 1;text-align: left;cursor: pointer":{color:"#8acbf3",cursor:" not-allowed"},on:{click:function(a){e.row.isMineContest&&t.clickExamRank(e.row.id,e.row.status)}}},[t._v("\n          "+t._s(e.row.title)+"\n        ")])]}}])}),a("el-table-column",{attrs:{label:"竞赛时间",align:"center","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot",staticStyle:{display:"flex","flex-direction":"column"}},[a("p",[t._v("创建于"+t._s(t.getTimeGMT(e.row.create_time)))]),a("p",[t._v("开始于"+t._s(t.getTimeGMT(e.row.start_time)))]),a("p",[t._v("结束于"+t._s(t.getTimeGMT(e.row.end_time)))])])}}])}),a("el-table-column",{attrs:{label:"是否公开",align:"center","min-width":"30px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("el-switch",{attrs:{disabled:!e.row.isMineContest,"active-color":"#0FCE96","inactive-color":"#B6B6B6"},on:{change:function(a){return t.TestListSwitch(e.row)}},model:{value:e.row.visible,callback:function(a){t.$set(e.row,"visible",a)},expression:"scope.row.visible"}})],1)}}])}),a("el-table-column",{attrs:{label:"试题数量",align:"center","min-width":"35px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.p_number)+"道")])])}}])}),a("el-table-column",{attrs:{label:"竞赛人数",align:"center","min-width":"35px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",[t._v(t._s(e.row.s_number)+"人")])])}}])}),a("el-table-column",{attrs:{label:"竞赛状态",align:"center","min-width":"40px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},["1"===e.row.status?a("span",{staticClass:"testStateNo"},[t._v("未开始")]):t._e(),"-1"===e.row.status?a("span",{staticClass:"testStateOff"},[t._v("已结束")]):t._e(),"0"===e.row.status?a("span",{staticClass:"testStateIng"},[t._v("进行中")]):t._e()])}}])}),a("el-table-column",{attrs:{label:"创建者","min-width":"30px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("span",{staticStyle:{flex:"1","text-align":"left"}},[t._v(t._s(e.row.created_by.real_name))])])}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("div",{staticClass:"operationBox",class:t.classAdd(e.row.addtest,e.row.collection),staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[a("p",{staticClass:"operationText",style:{display:t.getRouteName()}},[a("el-button",{style:e.row.isMineContest?"":{color:"#8acbf3",cursor:" not-allowed"},attrs:{type:"text",size:"mini"},nativeOn:{click:function(a){a.preventDefault(),e.row.isMineContest?t.update(e.$index,e.row):t.disabledClick()}}},[t._v("\n              编辑\n            ")])],1),a("p",{ref:"addtest",staticClass:"operationBtn"},[a("el-button",{staticClass:"manageStudent",style:e.row.isMineContest?"":{backgroundColor:"#6DE0BE",borderColor:"#6DE0BE",cursor:" not-allowed"},attrs:{size:"mini"},nativeOn:{click:function(a){a.preventDefault(),e.row.isMineContest?t.manageStudent(e.$index,e.row):t.disabledClick()}}},[t._v("\n              管理考生\n            ")]),a("el-button",{staticClass:"manageProblem",style:e.row.isMineContest?"":{color:"#6DE0BE",backgroundColor:"#FFFFFF",borderColor:"6DE0BE",cursor:" not-allowed"},attrs:{size:"mini"},nativeOn:{click:function(a){a.preventDefault(),e.row.isMineContest?t.manageProblem(e.$index,e.row):t.disabledClick()}}},[t._v("\n              管理试题\n            ")])],1)])])}}])})],1)],1)},mt=[],ft=(a("7f7f"),a("4191")),ht={data:function(){return{getTimeGMT:ft["d"]}},props:{tableData:{type:Array,default:function(){return[]}},loading:{type:Boolean}},methods:{clickExamRank:function(t,e){"1"!==e?this.$router.push({name:"ContestRankPage",params:{examID:t},query:{type:"admin"}}):Object(O["a"])("竞赛还未开始","error",2e3,this)},disabledClick:function(){this.$message({message:"您没有此权限",type:"warning"})},getRouteName:function(){if("CreateContestAddTopicPage"===this.$route.name)return"none"},classAdd:function(t,e){return t&&e?"":t||e?!t&&e?"removeTest":!e&&t?"removeCollection":void 0:"removeTest removeCollection"},update:function(t,e){this.$emit("update",t,e)},manageProblem:function(t,e){this.$emit("manageProblem",t,e)},manageStudent:function(t,e){this.$emit("manageStudent",t,e)},TestListSwitch:function(t){var e=this,a=t.visible?"公开":"不公开";this.$confirm("此操作将"+a+'<span style="color:red">'+t.display_id+"</span>的竞赛, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var n={id:t.id,visible:t.visible};Object(T["g"])(Object(E["Bb"])(),n).then(function(n){"successful"===n.result?e.$message({type:"success",message:a+"成功"}):(n.result,t.visible=!t.visible,e.$message({message:n.data,type:"error"}))})}).catch(function(){t.visible=!t.visible,e.$message({type:"info",message:"已取消"+a})})}}},bt=ht,vt=(a("3ed2"),Object(k["a"])(bt,pt,mt,!1,null,"11cd3433",null)),gt=vt.exports,yt={components:{"contest-list-table":gt,"contest-manage-student-drawer":V,"contest-manage-problem-drawer":at,pagination:s["a"],"radio-button":l["a"],"contest-info-modify-dialog":dt,"small-radio-button":o["a"]},data:function(){return{title:"",loading:!0,contest_id:0,contest_id_pro:0,manageStudentVisible:!1,manageProblemVisible:!1,manageStdList:[],tableData:[],testStateValue:"",testStateArray:[{value:"",label:"全部"},{value:"1",label:"未开始"},{value:"0",label:"进行中"},{value:"-1",label:"已结束"}],inputValue:"",tablep1:"/testlist",titlename:"竞赛列表",contestDialogVisible:!1,ruleForm:{}}},created:function(){this.api=Object(E["d"])(),this.body={status:"",keyword:""}},watch:{testStateValue:function(t){this.body.status=t}},methods:{ContestDataChanged:function(t){this.tableData.map(function(e){e.id===t.id&&(e.title=t.title,e.start_time=t.start_time,e.end_time=t.end_time,e.status=t.status)})},getDate:function(t){var e=this,a={uid:this.$store.state.baseInfo.uid};Object(T["d"])(Object(E["vb"])(),a).then(function(a){"successful"===a.result&&(t.map(function(t){Object.assign(t,{isMineContest:!1}),a.data.map(function(a){a!==t.id&&e.$store.state.baseInfo.u_type!==F["a"].SUPER_ADMIN||(t.isMineContest=!0)})}),e.tableData=t)})},closeDialog:function(){this.contestDialogVisible=!1},inputBtn:function(){this.body.keyword=this.inputValue},delInputValue:function(){this.body.keyword=""},update:function(t,e){var a=this,n={id:e.id};Object(T["d"])(Object(E["gb"])(),n).then(function(t){0===t.data.allowed_ip_ranges.length?a.ipList=[""]:a.ipList=t.data.allowed_ip_ranges,""===a.ruleForm.password||null===a.ruleForm.password?a.password_type="公开":a.password_type="邀请",a.ruleForm=t.data,a.contestDialogVisible=!0})},manageProblem:function(t,e){this.manageProblemVisible=!0,this.contest_id_pro=e.id,this.title=e.title},emitProFalse:function(t){this.manageProblemVisible=t},manageStudent:function(t,e){this.manageStudentVisible=!0,this.contest_id=e.id},emitFalse:function(t){this.manageStudentVisible=t},deleteRow:function(t,e){var a={contest_id:this.contest_id,uid:e.user_id,user_id:e.user__user_id};Object(T["c"])(Object(E["S"])(),a).then(function(t){t.result})},reFresh:function(){this.$refs.$pagination.forceRefresh()}}},_t=yt,wt=(a("57bb"),Object(k["a"])(_t,n,i,!1,null,"24504358",null));e["default"]=wt.exports},d421:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"studentListTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"studentListData",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{width:"10px"}}),a("el-table-column",{attrs:{label:"姓名","min-width":"60px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot",staticStyle:{"justify-content":"flex-start"}},[a("span",{class:t.userNameClass(),on:{click:function(a){return t.handleClickRealNameEvent(e.row.id)}}},[t._v("\n          "+t._s(e.row.userprofile__real_name)+"\n        ")])])}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"学号","min-width":"110"}}),a("el-table-column",{attrs:{prop:"level",label:"专业班级","min-width":"250","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.userprofile__department?a("span",[t._v(t._s(e.row.userprofile__department))]):t._e(),e.row.userprofile__level?a("span",[t._v(t._s(e.row.userprofile__level)+"级")]):t._e(),e.row.userprofile__major?a("span",[t._v(t._s(e.row.userprofile__major))]):t._e(),e.row.userprofile__class_id&&"0"!==e.row.userprofile__class_id?a("span",[t._v("\n          "+t._s(e.row.userprofile__class_id)+"班\n        ")]):a("p",[t._v("用户尚未认证")])]}}])}),a("el-table-column",{attrs:{label:"注册/最后登录时间","min-width":"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("注册时间："+t._s(t.$moment(e.row.create_time).format("YYYY-MM-DD HH:mm:ss")))]),e.row.last_login?a("p",[t._v("最后登录："+t._s(t.$moment(e.row.last_login).format("YYYY-MM-DD HH:mm:ss")))]):a("p",[t._v("用户尚未登录")])]}}])}),a("el-table-column",{attrs:{label:"是否禁用","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-switch",{attrs:{"active-color":"#FC5C59","inactive-color":"#B6B6B6"},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.is_disabled,callback:function(a){t.$set(e.row,"is_disabled",a)},expression:"scope.row.is_disabled"}})],1)}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.update(e.$index,e.row)}}},[t._v("编辑")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delclickStd(e.$index,e.row)}}},[t._v("删除")])],1)])}}])})],1)],1)},i=[],l=(a("7f7f"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=a("374b"),f=function(t){function e(){return Object(l["a"])(this,e),Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments))}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"update",value:function(t,e){this.$emit("update",t,e)}},{key:"delclickStd",value:function(t,e){this.$emit("delclickStd",t,e)}},{key:"changeSwitch",value:function(t){m["b"].userSwitch(this,t,Object(p["Cb"])())}},{key:"userNameClass",value:function(){return"ClassStudentListPage"===this.$route.name?"user-name":""}},{key:"handleClickRealNameEvent",value:function(t){}}]),e}(d["d"]);u["a"]([Object(d["c"])()],f.prototype,"tableData",void 0),u["a"]([Object(d["c"])()],f.prototype,"loading",void 0),f=u["a"]([d["a"]],f);var h=f,b=h,v=(a("6a01"),a("2877")),g=Object(v["a"])(b,n,i,!1,null,"71bd237d",null);e["a"]=g.exports},d545:function(t,e,a){"use strict";var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("c402"),d=a("525a"),p=a("e4f7"),m=(a("8b25"),function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.prefix="contest-submit-status-page",t.loading=!0,t.api="",t.body={keyword:"",result:""},t.data=[],t.searchValue="",t.searchSubmitStatusValue="",t.searchSubmitStatusOption=[{value:"0",label:"正确"},{value:"6",label:"等待提交"},{value:"7",label:"判题中"},{value:"-1",label:"答案错误"},{value:"-2",label:"编译错误"},{value:"1",label:"cpu超时"},{value:"2",label:"总时间超时"},{value:"3",label:"内存泄漏"},{value:"4",label:"运行错误"},{value:"5",label:"系统错误"},{value:"8",label:"部分通过"}],t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{class:"".concat(this.prefix)},[this.renderMenu(),e("submit-state-table",{attrs:{data:this.data,loading:this.loading}}),e("nm-pagination",{attrs:{value:this.loading,api:this.api,body:this.body,"page-size":50},on:{input:function(e){return t.loading=e},getDate:this.getDate}})])}},{key:"created",value:function(){this.api=Object(u["mb"])();var t=this.$route.query;this.body["contest_id"]=this.$route.params.examID,this.body["keyword"]=t.keyword||"",this.body["result"]=t.result||"",this.searchValue=t.keyword||"",this.searchSubmitStatusValue=t.result||""}},{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu",[this.renderMenuSlot()])}},{key:"renderMenuSlot",value:function(){var t=this,e=this.$createElement;return e("div",{class:"".concat(this.prefix,"-menu-slot")},[e("el-input",{class:"".concat(this.prefix,"-menu-slot-search-input"),attrs:{value:this.searchValue,placeholder:"请输入姓名或题号",size:"mini",clearable:!0},on:{input:function(e){return t.searchValue=e},clear:this.handleSearchInputClearEvent,change:this.handleSearchInputChangeEvent}},[e("el-button",{slot:"append",attrs:{icon:"el-icon-search"},on:{click:this.handleSearchInputChangeEvent}})]),e("el-select",{class:"".concat(this.prefix,"-menu-slot-result-select"),attrs:{value:this.searchSubmitStatusValue,placeholder:"提交结果",size:"mini",clearable:!0},on:{input:function(e){return t.searchSubmitStatusValue=e}}},[this.searchSubmitStatusOption.map(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})})]),e("el-button",{attrs:{size:"mini",icon:"el-icon-refresh-left",type:"primary"},on:{click:this.reset}},["重置"])])}},{key:"getDate",value:function(t,e,a,n){n=n-e*(a-1)+1,t.results.map(function(t){n-=1,t.index=n}),this.data=t.results}},{key:"reset",value:function(){this.searchValue="",this.searchSubmitStatusValue="",this.body.keyword="",this.body.result=""}},{key:"handleSearchInputClearEvent",value:function(){this.body.keyword=""}},{key:"handleSearchInputChangeEvent",value:function(){this.body.keyword=this.searchValue}},{key:"onSearchSubmitResultChange",value:function(t){this.body.result=t}},{key:"onRouteQueryChange",value:function(t,e){if(t!==e){var a=this.$route.query;this.body["keyword"]=a.keyword||"",this.body["result"]=a.result||"",this.searchValue=a.keyword||"",this.searchSubmitStatusValue=a.result||""}}}]),e}(c["d"]));r["a"]([Object(c["e"])("searchSubmitStatusValue")],m.prototype,"onSearchSubmitResultChange",null),r["a"]([Object(c["e"])("$route.query",{deep:!0})],m.prototype,"onRouteQueryChange",null),m=r["a"]([Object(c["a"])({components:{ContestDetailMenu:p["a"],SubmitStateTable:d["a"]}})],m),e["a"]=m},d592:function(t,e,a){"use strict";var n=a("f31b"),i=a.n(n);i.a},d63f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header",{attrs:{title:t.titlename}},[a("back-button",{on:{click:t.btnadd}}),a("template",{slot:"content-left"},[a("div",{staticClass:"column"},[a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("账号：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.accountStatus,callback:function(e){t.accountStatus=e},expression:"accountStatus"}},[a("div",{staticStyle:{display:"table"}},t._l(this.accountStatus_Type,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)}),0)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("院系：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.departmentValue,callback:function(e){t.departmentValue=e},expression:"departmentValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.departmentAll}},[t._v("全部")]),t._l(this.departmentArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("专业：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.majorValue,callback:function(e){t.majorValue=e},expression:"majorValue"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("small-radio-button",{attrs:{label:t.majorAll}},[t._v("全部")]),t._l(this.majorArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("学历：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.eduLevelValue,callback:function(e){t.eduLevelValue=e},expression:"eduLevelValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.eduLevelAll}},[t._v("全部")]),t._l(this.eduLevelArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("年级：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.levelValue,callback:function(e){t.levelValue=e},expression:"levelValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.levelAll}},[t._v("全部")]),t._l(this.levelArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label))])],1)})],2)])],1),a("div",{staticClass:"row"},[a("span",{staticStyle:{display:"block","min-width":"45px"}},[t._v("班级：")]),a("el-radio-group",{attrs:{size:"small"},model:{value:t.classIdValue,callback:function(e){t.classIdValue=e},expression:"classIdValue"}},[a("div",{staticStyle:{display:"table"}},[a("small-radio-button",{attrs:{label:t.classIdAll}},[t._v("全部")]),t._l(this.classIdArray,function(e){return a("span",[a("small-radio-button",{attrs:{label:e.value}},[t._v(t._s(e.label)+"班")])],1)}),t.isShowClassAddBtn?a("el-button",{staticClass:"class-add-test-btn",attrs:{size:"mini"},on:{click:t.classAddTestBtn}},[t._v("\n                整班加入\n              ")]):t._e()],2)])],1)])]),a("template",{slot:"content-right"},[a("div",{staticStyle:{display:"flex","align-self":"flex-start"}},[a("el-input",{staticStyle:{"min-width":"300px"},attrs:{slot:"content-right",placeholder:"请输入学号/年级/专业/班级",size:"mini",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},slot:"content-right",model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1)])],2),a("import-students-from-class-table",{ref:"$studentsFromClass",attrs:{"table-data":t.tableData,loading:t.loading},on:{getSelectStdData:t.getSelectStdData}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[a("batch-action-checkbox-button",{attrs:{"data-length":this.tableDataLength,"check-length":this.SelectStdDataLength},on:{handleCheckAllChange:function(e){return t.handleCheckAllChange()}}}),a("el-button",{attrs:{size:"mini"},on:{click:t.addTestBtn}},[t._v("加入考试")])],1)],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("5880"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"importStdFromClassTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"importStdFromClassTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}},on:{"selection-change":t.SelectionChangeStudent,"row-click":t.RowClick}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{prop:"userprofile__real_name",label:"用户","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"user_id",label:"学号"}}),a("el-table-column",{attrs:{prop:"level",label:"专业班级","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[e.row.userprofile__level?a("span",[t._v(t._s(e.row.userprofile__level)+"级")]):t._e(),e.row.userprofile__major?a("span",[t._v(t._s(e.row.userprofile__major)+"专业")]):t._e(),e.row.userprofile__class_id?a("span",[t._v(t._s(e.row.userprofile__class_id)+"班")]):a("span",[t._v("用户尚未认证")])])}}])}),a("el-table-column",{attrs:{label:"注册/最后登录时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("注册时间："+t._s(t.$moment(e.row.create_time).format("YYYY-MM-DD HH:mm:ss")))]),e.row.last_login?a("p",[t._v("最后登录："+t._s(t.$moment(e.row.last_login).format("YYYY-MM-DD HH:mm:ss")))]):a("p",[t._v("用户尚未登录")])]}}])})],1)],1)},r=[],c=a("c402"),u=a("4694"),d={data:function(){return{flag:!1}},props:{tableData:{type:Array,default:function(){return[]}},loading:{type:Boolean}},watch:{tableData:function(){this.toggleSelection()}},methods:{toggleAllSelection:function(){this.$refs.importStdFromClassTable.toggleAllSelection()},toggleSelection:function(){this.$nextTick(function(){var t=this;this.$store.state.stdDataList.map(function(e){t.tableData.map(function(a){e.id===a.id&&t.$refs.importStdFromClassTable.toggleRowSelection(a,!0)})})})},RowClick:function(t){this.flag=!this.flag,this.$refs.importStdFromClassTable.toggleRowSelection(t,t.flag)},SelectionChangeStudent:function(t){this.$emit("getSelectStdData",t)},changeSwitch:function(t){var e=this,a=t.is_disabled?"冻结":"启用";this.$confirm("此操作将"+a+'<span style="color:red">'+t.userprofile__real_name+"</span>的账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var n={id:t.id,opera:t.is_disabled};Object(u["g"])(Object(c["Cb"])(),n).then(function(n){"successful"===n.result?e.$message({type:"success",message:a+"成功"}):(n.result,t.is_disabled=!t.is_disabled,e.$message({message:n.data,type:"error"}))})}).catch(function(){t.is_disabled=!t.is_disabled,e.$message({type:"info",message:"已取消"+a})})}}},p=d,m=(a("bdc4"),a("2877")),f=Object(m["a"])(p,s,r,!1,null,null,null),h=f.exports,b=a("3dec"),v=a("3ebc"),g=a("78ce");function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var w={components:{"batch-action-checkbox-button":g["a"],"import-students-from-class-table":h,"small-radio-button":v["a"]},data:function(){return{isShowClassAddBtn:!1,accountStatus:!0,accountStatus_Type:[{value:!0,label:"可用"},{value:!1,label:"不可用"}],departmentArray:[],departmentValue:"",departmentAll:"",majorArray:[],defaultMajorArray:[],majorValue:"",majorAll:"",eduLevelArray:[],defaultEduLevelArray:[{value:"本科",label:"本科",children:[]},{value:"专科",label:"专科",children:[]},{value:"专升本",label:"专升本",children:[]}],eduLevelValue:"",eduLevelAll:"",levelArray:[],defaultLevelArray:[{value:"2019",label:"2019"},{value:"2018",label:"2018"},{value:"2017",label:"2017"},{value:"2016",label:"2016"}],levelValue:"",levelAll:"",classIdArray:[],defaultClassIdArray:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],classIdValue:"",classIdAll:"",loading:!0,titlename:"从班级导入考生",api:"",body:{},tableData:[],tableDataLength:0,inputValue:"",currentPage:1,pageSize:10,facultyData:[],selectedFaculty:[],props:{value:"value",children:"cities"},SelectStdData:[],SelectStdDataLength:0,dialogFormStudent:!1,studentData:{user:{id:"",user_id:"",email:"",phone:"",create_time:"",admin_type:""},real_name:"",school:"",department:"",level:"",major:"",class_id:"",accepted_number:"",submission_number:""},formLabelWidth:"90px"}},created:function(){var t=this;this.api=Object(c["f"])(),this.body={user_type:1,status:!0},Object(u["d"])(Object(c["Lb"])()).then(function(e){t.facultyData=e.data,t.departmentArray=e.data.map(function(t){return{value:t.value,label:t.value,children:t.children}}),e.data.map(function(e){e.children.map(function(e){t.defaultMajorArray.push({value:e.value,label:e.value,children:e.children})})})}),this.eduLevelArray=this.defaultEduLevelArray,this.majorArray=this.defaultMajorArray,this.levelArray=this.defaultLevelArray,this.classIdArray=this.defaultClassIdArray},watch:{departmentValue:function(t){var e=this;t?(this.levelValue&&this.majorValue&&this.classIdValue&&this.eduLevelValue&&(this.isShowClassAddBtn=!0),this.$set(this.body,"info",!0),this.$set(this.body,"department",t),this.departmentArray.map(function(a){a.value===t&&(e.majorArray=a.children.map(function(t){return{value:t.value,label:t.value,children:t.children}}))}),this.majorValue=this.majorArray[0].value):(this.isShowClassAddBtn=!1,this.$set(this.body,"department",null),delete this.body.department,this.majorArray=this.defaultMajorArray,this.levelValue||this.majorValue||this.classIdValue||this.eduLevelValue||(this.$set(this.body,"info",null),delete this.body.info))},majorValue:function(t){var e=this;t?(this.levelValue&&this.departmentValue&&this.classIdValue&&this.eduLevelValue&&(this.isShowClassAddBtn=!0),this.$set(this.body,"info",!0),this.$set(this.body,"major",t),this.majorArray.map(function(a){a.value===t&&(e.eduLevelArray=a.children.map(function(t){return{value:t.value,label:t.value,children:t.children}}))})):(this.isShowClassAddBtn=!1,this.$set(this.body,"major",null),delete this.body.major,this.eduLevelArray=this.defaultEduLevelArray,this.levelValue||this.departmentValue||this.classIdValue||this.eduLevelValue||(this.$set(this.body,"info",null),delete this.body.info))},eduLevelValue:function(t){var e=this;t?(this.levelValue&&this.departmentValue&&this.classIdValue&&this.majorValue&&(this.isShowClassAddBtn=!0),this.$set(this.body,"info",!0),this.$set(this.body,"edu_level",t),this.eduLevelArray.map(function(a){if(a.value===t){var n=new Array;a.children.map(function(t){t.children.map(function(t){n.push({value:t.value,label:t.value})});var a={};e.levelArray=n.reduce(function(t,e){return!a[e.value]&&(a[e.value]=t.push(e)),t},[])})}})):(this.isShowClassAddBtn=!1,this.$set(this.body,"edu_level",null),delete this.body.edu_level,this.levelArray=this.defaultLevelArray,this.levelValue||this.departmentValue||this.classIdValue||this.majorValue||(this.$set(this.body,"info",null),delete this.body.info))},levelValue:function(t){var e=this;t?(this.eduLevelValue&&this.departmentValue&&this.classIdValue&&this.majorValue&&(this.isShowClassAddBtn=!0),this.$set(this.body,"info",!0),this.$set(this.body,"level",t),this.eduLevelArray.map(function(a){if(a.value===e.eduLevelValue){var n=new Array;a.children.map(function(e){e.children.map(function(a){a.value===t&&n.push({value:e.value,label:e.value})})});var i={};e.classIdArray=n.reduce(function(t,e){return!i[e.value]&&(i[e.value]=t.push(e)),t},[])}})):(this.isShowClassAddBtn=!1,this.$set(this.body,"level",null),delete this.body.level,this.classIdArray=this.defaultClassIdArray,this.eduLevelValue||this.departmentValue||this.classIdValue||this.majorValue||(this.$set(this.body,"info",null),delete this.body.info))},classIdValue:function(t){t?(this.departmentValue&&this.majorValue&&this.eduLevelValue&&this.levelValue&&(this.isShowClassAddBtn=!0),this.$set(this.body,"info",!0),this.$set(this.body,"class_id",t)):(this.isShowClassAddBtn=!1,this.$set(this.body,"class_id",null),delete this.body.class_id,this.departmentValue||this.majorValue||this.eduLevelValue||this.levelValue||(this.$set(this.body,"info",null),delete this.body.info))},accountStatus:function(t){this.body.status=t},selectedFaculty:function(t){switch(t.length){case 1:this.$set(this.body,"info",!0),this.$set(this.body,"department",t[0]);break;case 2:this.$set(this.body,"info",!0),this.$set(this.body,"department",t[0]),this.$set(this.body,"major",t[1]);break;case 3:this.$set(this.body,"info",!0),this.$set(this.body,"department",t[0]),this.$set(this.body,"major",t[1]),this.$set(this.body,"edu_level",t[2]);break;case 4:this.$set(this.body,"info",!0),this.$set(this.body,"department",t[0]),this.$set(this.body,"major",t[1]),this.$set(this.body,"edu_level",t[2]),this.$set(this.body,"class_id",t[3]);break;case 5:this.$set(this.body,"info",!0),this.$set(this.body,"department",t[0]),this.$set(this.body,"major",t[1]),this.$set(this.body,"edu_level",t[2]),this.$set(this.body,"class_id",t[3]),this.$set(this.body,"level",t[4]);break;default:this.$set(this.body,"info",null),delete this.body.info,this.$set(this.body,"department",null),delete this.body.department,this.$set(this.body,"major",null),delete this.body.major,this.$set(this.body,"edu_level",null),delete this.body.edu_level,this.$set(this.body,"class_id",null),delete this.body.class_id,this.$set(this.body,"level",null),delete this.body.level;break}}},methods:_({handleCheckAllChange:function(){this.$refs.$studentsFromClass.toggleAllSelection()}},Object(o["mapMutations"])(["addStdData"]),{btnadd:function(){this.$router.back()},getDate:function(t){this.tableData=t,this.tableDataLength=t.length},inputBtn:function(){this.$set(this.body,"keyword",this.inputValue)},delInputValue:function(){this.$set(this.body,"keyword",null),delete this.body.keyword},classAddTestBtn:function(){var t=this;this.$msgbox.confirm('是否添加<span style="color:red">'+this.levelValue+"级"+this.majorValue+"专业"+this.classIdValue+"班</span>的全体学生至竞赛?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){var e={offset:0,limit:200,user_type:1,status:!0,info:!0,department:t.departmentValue,edu_level:t.eduLevelValue,level:t.levelValue,major:t.majorValue,class_id:t.classIdValue};Object(u["d"])(Object(c["f"])(),e).then(function(e){"successful"===e.result&&(t.$store.commit("addStdData",e.data.results),t.$message.success("成功"))})}).catch(function(){t.$message.info("添加失败")})},getSelectStdData:function(t){this.SelectStdData=t,this.SelectStdDataLength=t.length},addTestBtn:function(){0===this.SelectStdData.length?Object(b["a"])("请至少添加一名考生","error",2e3,this):(this.$store.commit("addStdData",this.SelectStdData),Object(b["a"])("添加成功","success",1e3,this))}})},A=w,k=(a("82b6"),Object(m["a"])(A,n,i,!1,null,"6fc1ab50",null));e["default"]=k.exports},dbce:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"修改信息",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDialog}},[a("el-form",{ref:"UserDialogData",attrs:{model:t.UserDialogData}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"学号：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",size:"mini",width:"150px",disabled:""},model:{value:t.UserDialogData.user.user_id,callback:function(e){t.$set(t.UserDialogData.user,"user_id",e)},expression:"UserDialogData.user.user_id"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"注册时间：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{size:"mini",disabled:""},model:{value:t.UserDialogData.user.create_time,callback:function(e){t.$set(t.UserDialogData.user,"create_time",e)},expression:"UserDialogData.user.create_time"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",size:"mini",width:"150px"},model:{value:t.UserDialogData.real_name,callback:function(e){t.$set(t.UserDialogData,"real_name",e)},expression:"UserDialogData.real_name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"用户角色：","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择用户角色",size:"mini"},model:{value:t.UserDialogData.user.admin_type,callback:function(e){t.$set(t.UserDialogData.user,"admin_type",e)},expression:"UserDialogData.user.admin_type"}},[a("el-option",{attrs:{label:"学生",value:"Regular User"}}),a("el-option",{attrs:{label:"老师",value:"Teacher"}}),"Admin"===t.$store.state.baseInfo.u_type||"Super Admin"===t.$store.state.baseInfo.u_type?a("el-option",{attrs:{label:"管理员",value:"Admin"}}):t._e(),"Super Admin"===t.$store.state.baseInfo.u_type?a("el-option",{attrs:{label:"超级管理员",value:"Super Admin"}}):t._e()],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"学校：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{size:"mini"},model:{value:t.UserDialogData.school,callback:function(e){t.$set(t.UserDialogData,"school",e)},expression:"UserDialogData.school"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Regular User"===t.UserDialogData.user.admin_type?"学籍信息：":"所属院系：","label-width":t.formLabelWidth}},[a("el-cascader",{attrs:{size:"small",placeholder:"Regular User"===t.UserDialogData.user.admin_type?"请输入院系专业":"请输入院系",options:t.facultyData,filterable:"","show-all-levels":""},model:{value:t.facultyValue,callback:function(e){t.facultyValue=e},expression:"facultyValue"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号：","label-width":this.formLabelWidth}},[a("el-input",{attrs:{size:"mini"},model:{value:t.UserDialogData.user.phone,callback:function(e){t.$set(t.UserDialogData.user,"phone",e)},expression:"UserDialogData.user.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{size:"mini"},model:{value:t.UserDialogData.user.email,callback:function(e){t.$set(t.UserDialogData.user,"email",e)},expression:"UserDialogData.user.email"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提交次数：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{size:"mini",disabled:""},model:{value:t.UserDialogData.accepted_number,callback:function(e){t.$set(t.UserDialogData,"accepted_number",e)},expression:"UserDialogData.accepted_number"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"通过次数：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{size:"mini",disabled:""},model:{value:t.UserDialogData.submission_number,callback:function(e){t.$set(t.UserDialogData,"submission_number",e)},expression:"UserDialogData.submission_number"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.studentPut}},[t._v("确 定")])],1)],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("9ed1"),m=a("3dec"),f=a("92f3"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.facultyValue=[],t.UserDialogData={real_name:"",school:"",department:"",major:"",edu_level:"",class_id:null,level:"",user:{admin_type:"",create_time:"",user_id:"",email:null,phone:"",grade:null,id:0,is_auth:!1,is_disabled:!1,is_email_auth:!1,last_login:null,username:"",webchat:""},accepted_number:0,acm_problems_status:{},avatar:"",collect_problem:[],github:"",oi_problems_status:{},qq:0,submission_number:0,total_score:0},t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"onUserDataChange",value:function(t){this.UserDialogData=t}},{key:"onSelectedFacultyChange",value:function(t){this.facultyValue=t.selected}},{key:"closeDialog",value:function(){this.$emit("closeDialog",!1)}},{key:"studentPut",value:function(){if(!this.UserDialogData.real_name)return Object(m["a"])("请输入姓名","warning",2e3,this),!1;if(!this.UserDialogData.user.admin_type)return Object(m["a"])("请选择用户角色","warning",2e3,this),!1;if(!this.UserDialogData.school)return Object(m["a"])("请输入学校","warning",2e3,this),!1;if(!this.UserDialogData.user.email)return Object(m["a"])("请输入邮箱地址","warning",2e3,this),!1;if(Object(f["a"])(this.UserDialogData.user.email))return Object(m["a"])("请输入正确的邮箱地址","warning",2e3,this),!1;if(this.UserDialogData.user.admin_type===p["a"].REGULAR_USER&&5==this.facultyValue.length||this.UserDialogData.user.admin_type!==p["a"].REGULAR_USER&&1==this.facultyValue.length){this.UserDialogData.user.admin_type===p["a"].REGULAR_USER?(this.UserDialogData.department=this.facultyValue[0],this.UserDialogData.major=this.facultyValue[1],this.UserDialogData.edu_level=this.facultyValue[2],this.UserDialogData.class_id=this.facultyValue[3],this.UserDialogData.level=this.facultyValue[4]):(this.UserDialogData.department=this.facultyValue[0],this.UserDialogData.level="",this.UserDialogData.major="",this.UserDialogData.class_id=null,this.UserDialogData.edu_level="",this.UserDialogData.user.grade=null);var t=this.UserDialogData;this.$emit("studentPut",t)}else Object(m["a"])("所属院系填写有误","warning",2e3,this)}}]),e}(d["d"]);u["a"]([Object(d["c"])()],h.prototype,"dialogVisible",void 0),u["a"]([Object(d["c"])()],h.prototype,"userData",void 0),u["a"]([Object(d["c"])()],h.prototype,"formLabelWidth",void 0),u["a"]([Object(d["c"])()],h.prototype,"facultyData",void 0),u["a"]([Object(d["c"])()],h.prototype,"selectedFaculty",void 0),u["a"]([Object(d["e"])("userData")],h.prototype,"onUserDataChange",null),u["a"]([Object(d["e"])("selectedFaculty")],h.prototype,"onSelectedFacultyChange",null),h=u["a"]([d["a"]],h);var b=h,v=b,g=a("2877"),y=Object(g["a"])(v,n,i,!1,null,"b546a354",null);e["a"]=y.exports},dbd5:function(t,e,a){},df26:function(t,e,a){},e248:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("bug-table",{attrs:{data:t.data,loading:t.loading}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("c402"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F2F2F2",color:"#000000"}}},[a("el-table-column",{attrs:{align:"center",label:"id",prop:"id"}}),a("el-table-column",{attrs:{align:"center",label:"类型",prop:"bug_type"}}),a("el-table-column",{attrs:{align:"center",label:"描述",prop:"bug_contest"}}),a("el-table-column",{attrs:{align:"center",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t.getTimeGMT(e.row.bug_time))+"\n    ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"接口",prop:"bug_error_api"}}),a("el-table-column",{attrs:{align:"center",label:"页面",prop:"bug_location"}}),a("el-table-column",{attrs:{align:"center",label:"uid",prop:"bug_uid"}}),a("el-table-column",{attrs:{align:"center",label:"finder",prop:"bug_finder"}})],1)},f=[],h=a("4191"),b=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.getTimeGMT=h["d"],t}return Object(c["a"])(e,t),e}(d["d"]);u["a"]([Object(d["c"])()],b.prototype,"data",void 0),u["a"]([Object(d["c"])()],b.prototype,"loading",void 0),b=u["a"]([d["a"]],b);var v=b,g=v,y=a("2877"),_=Object(y["a"])(g,m,f,!1,null,"08c38925",null),w=_.exports,A=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.loading=!0,t.api="",t.body={},t.data=[],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){this.api=Object(p["H"])(),this.body={}}},{key:"getDate",value:function(t){this.data=t}}]),e}(d["d"]);A=u["a"]([Object(d["a"])({components:{BugTable:w}})],A);var k=A,x=k,S=Object(y["a"])(x,n,i,!1,null,"5b64c2d2",null);e["default"]=S.exports},e2fc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[t.$route.meta.isExamInfo?a("div",{staticClass:"createContest"},[a("page-header",{attrs:{title:t.titlename}}),a("step-view",{attrs:{step:t.step,"step-title":t.stepTitle}}),a("div",{staticStyle:{height:"24px"}}),a("router-view"),a("div",{staticStyle:{height:"24px"}})],1):a("router-view")],1)},i=[],l=(a("7f7f"),{name:"CreateTest",props:{},data:function(){return{titlename:"新建竞赛场次",selectionHide:"",content:"",stepTitle:[{title:"核对竞赛信息"},{title:"添加考生/试题"},{title:"设置竞赛规则"},{title:"创建成功"}]}},methods:{catchData:function(t){this.content=t}},computed:{step:function(){switch(this.$route.name){case"FillContestInfoPage":return 0;case"AddTopicAndStudentPage":return 1;case"SetRulePage":return 2;case"CreateContestSuccessPage":return 3;default:return"unknown"}}}}),o=l,s=(a("69e0"),a("2877")),r=Object(s["a"])(o,n,i,!1,null,null,null);e["default"]=r.exports},e393:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",{staticStyle:{"font-size":"14px"}},[t._v("导入试题成功")]),a("div",{staticStyle:{height:"24px"}}),a("p",{staticStyle:{"font-size":"18px"}},[t._v("\n      已成功导入试题:\n      "),a("span",[t._v(t._s(t.success_count))])])]),a("div",{staticStyle:{height:"24px"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.nextStep}},[t._v("继续导入")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.goBack}},[t._v("完成")])],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=(a("a481"),a("5880"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var c={components:{},name:"ImportTopicEndPage",data:function(){return{}},methods:{nextStep:function(){this.$router.replace({name:"ImportTopicTemplatePage",params:{topicType:this.$route.params.topicType}})},goBack:function(){this.$router.back()}},computed:r({},Object(o["mapState"])({success_count:function(t){return t.ItemImport_count}}))},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null);e["default"]=p.exports},e432:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"修改信息",visible:t.showDialog,width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"reviseTopicForm",attrs:{model:t.reviseTopicForm,"label-width":"100px",size:"small"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"题目名称：",required:""}},[a("el-input",{attrs:{placeholder:"例如 ：输出hello world"},model:{value:t.reviseTopicForm.title,callback:function(e){t.$set(t.reviseTopicForm,"title",e)},expression:"reviseTopicForm.title"}})],1)],1),a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"题目考点："}},[a("div",{staticStyle:{float:"left"}},[t._l(t.reviseTopicForm.tags,function(e){return a("el-tag",{key:e,attrs:{size:"small",closable:"","disable-transitions":!1},on:{close:function(a){return t.deleteTag(e)}}},[t._v("\n              "+t._s(e)+"\n            ")])}),t.showNewTagInput?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleAddTagConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddTagConfirm(e)}},model:{value:t.newTagValue,callback:function(e){t.newTagValue=e},expression:"newTagValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small",type:"text"},on:{click:t.addTag}},[t._v("\n              + 新建考点\n            ")])],2)])],1)],1),a("el-form-item",{attrs:{label:"题目描述：",required:""}},[t.showDialog?a("editor",{attrs:{"editor-id":"descriptionEditor"+t.reviseTopicForm.id},model:{value:t.reviseTopicForm.description,callback:function(e){t.$set(t.reviseTopicForm,"description",e)},expression:"reviseTopicForm.description"}}):t._e()],1),a("el-form-item",{attrs:{label:"输入描述："}},[t.showDialog?a("editor",{attrs:{"editor-id":"inputDescriptionEditor"},model:{value:t.reviseTopicForm.input_description,callback:function(e){t.$set(t.reviseTopicForm,"input_description",e)},expression:"reviseTopicForm.input_description"}}):t._e()],1),a("el-form-item",{attrs:{label:"输出描述："}},[t.showDialog?a("editor",{attrs:{"editor-id":"outputDescriptionEditor"},model:{value:t.reviseTopicForm.output_description,callback:function(e){t.$set(t.reviseTopicForm,"output_description",e)},expression:"reviseTopicForm.output_description"}}):t._e()],1),a("el-form-item",{attrs:{label:"提示："}},[t.showDialog?a("editor",{attrs:{"editor-id":"hintEditor"},model:{value:t.reviseTopicForm.hint,callback:function(e){t.$set(t.reviseTopicForm,"hint",e)},expression:"reviseTopicForm.hint"}}):t._e()],1),a("div",{staticClass:"testCase"},t._l(t.reviseTopicForm.samples,function(e,n){return a("el-form-item",{key:"sample"+n,attrs:{label:"样例："}},[a("div",{staticClass:"testCaseHeader"}),a("div",{staticClass:"testCaseContainer"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输入样例")]),a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"sample.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输出样例")]),a("el-input",{attrs:{rows:5,type:"textarea"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"sample.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"testCase"},t._l(t.reviseTopicForm.test_cases,function(e,n){return a("el-form-item",{key:"testCase"+n,attrs:{label:"测试用例"+(n+1)+"：",required:""}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"flex-end","align-items":"center","padding-right":"24px"}},[0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteSample(n)}}},[t._v("\n            删除用例\n          ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addSample()}}},[t._v("新增用例")])],1),a("div",{staticClass:"testCaseContainer"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title"},[t._v("输入用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输入用例"},model:{value:e.input,callback:function(a){t.$set(e,"input",a)},expression:"testCase.input"}})],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"sub-title  putSase"},[t._v("输出用例")]),a("el-input",{attrs:{rows:5,type:"textarea",placeholder:"输出用例"},model:{value:e.output,callback:function(a){t.$set(e,"output",a)},expression:"testCase.output"}})],1)],1)],1)])}),1),a("div",{staticClass:"problemDetails"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"题目难度："}},[a("el-select",{staticStyle:{float:"left"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseTopicForm.difficulty,callback:function(e){t.$set(t.reviseTopicForm,"difficulty",e)},expression:"reviseTopicForm.difficulty"}},t._l(t.difficultyArray,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"时间限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseTopicForm.time_limit,callback:function(e){t.$set(t.reviseTopicForm,"time_limit",e)},expression:"reviseTopicForm.time_limit"}}),a("span",[t._v("ms")])],1)])],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"编程语言：",required:""}},[a("el-select",{staticStyle:{float:"left"},attrs:{filterable:"",multiple:"","collapse-tags":""},model:{value:t.reviseTopicForm.languages,callback:function(e){t.$set(t.reviseTopicForm,"languages",e)},expression:"reviseTopicForm.languages"}},t._l(t.languageType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{attrs:{label:"内存限制："}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"8px"},attrs:{placeholder:"请选择",size:"small"},model:{value:t.reviseTopicForm.memory_limit,callback:function(e){t.$set(t.reviseTopicForm,"memory_limit",e)},expression:"reviseTopicForm.memory_limit"}}),a("span",[t._v("MB")])],1)])],1)],1)],1),a("div",{staticClass:"testCase"},t._l(t.reviseTopicForm.template,function(e,n){return a("el-form-item",{key:"template"+n,attrs:{label:"模版"+(n+1)+"："}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 24px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:function(a){return t.selectTemplateLanguage(e,a)}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n              "+t._s(e.language?e.language:"编程语言")+"\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.languageType,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                "+t._s(e.value)+"\n              ")])}),1)],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.resetTemplate(e,n)}}},[t._v("重置")]),0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteTemplate(n)}}},[t._v("\n              删除模板\n            ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addTemplate()}}},[t._v("新增模板")])],1)],1),a("div",{staticClass:"testCaseContainer"},[a("el-input",{attrs:{rows:20,type:"textarea",placeholder:"示例答案"},model:{value:e.code,callback:function(a){t.$set(e,"code",a)},expression:"template.code"}})],1)])}),1),a("div",{staticClass:"testCase"},t._l(t.reviseTopicForm.answer,function(e,n){return a("el-form-item",{key:"answer"+n,attrs:{label:"题目解析"+(n+1)+"："}},[a("div",{staticClass:"testCaseHeader",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",padding:"0 24px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:function(a){return t.selectAnswerLanguage(e,a)}}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n              "+t._s(e.language?e.language:"编程语言")+"\n              "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.languageType,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                "+t._s(e.value)+"\n              ")])}),1)],1),a("div",{staticClass:"center"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.resetAnswer(e,n)}}},[t._v("重置")]),0!==n?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.deleteAnswer(n)}}},[t._v("\n              删除答案\n            ")]):t._e(),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.addAnswer()}}},[t._v("新增答案")])],1)],1),a("div",{staticClass:"testCaseContainer"},[a("el-input",{attrs:{rows:20,type:"textarea",placeholder:"示例答案"},model:{value:e.code,callback:function(a){t.$set(e,"code",a)},expression:"answer.code"}})],1)])}),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},i=[],l=(a("ac6a"),a("d225")),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("198e"),m=a("4694"),f=a("c402"),h=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.showDialog=!1,t.showNewTagInput=!1,t.newTagValue="",t.reviseTopicForm={languages:[],title:"",description:"",input_description:" ",output_description:"",hint:"",test_cases:[{input:"",output:""}],samples:[{input:"",output:""}],score:10,difficulty:"中等",time_limit:"1000",memory_limit:"256",tags:[],answer:[{language:"",code:""}],template:[{language:"",code:""}],test_case_id:"",test_case_score:[]},t.languageType=[{value:"C",label:"C语言"},{value:"C++",label:"C++语言"},{value:"Java",label:"Java语言"},{value:"Python2",label:"Python2"},{value:"Python3",label:"Python3"}],t.difficultyArray=[{value:"简单",label:"简单"},{value:"中等",label:"中等"},{value:"困难",label:"困难"},{value:"待定",label:"待定"}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"submit",value:function(){var t=this;delete this.reviseTopicForm.visible;var e=JSON.parse(JSON.stringify(this.reviseTopicForm)),a=[];e.answer.forEach(function(t){""===t.language&&""===t.code||a.push(t)}),e.answer=a;var n=[];e.template.forEach(function(t){""===t.language&&""===t.code||n.push(t)}),e.template=n,Object(m["g"])(this.api,e).then(function(a){"successful"===a.result?(t.data.some(function(t,a){t._id===e._id&&(t.title=e.title,t.tags=e.tags,t.difficulty=e.difficulty,t.description=e.description,t.input_description=e.input_description,t.output_description=e.output_description,t.hint=e.hint,t.samples=e.samples,t.test_cases=e.test_cases,t.answer=e.answer,t.template=e.template)}),t.$message({message:"修改成功",type:"success"})):t.$message({message:a.data,type:"error"})}),this.showDialog=!1}},{key:"addSample",value:function(){this.reviseTopicForm.test_cases.push({input:"",output:""})}},{key:"deleteSample",value:function(t){this.reviseTopicForm.test_cases.splice(t,1)}},{key:"addAnswer",value:function(){this.reviseTopicForm.answer.push({language:"",code:""})}},{key:"deleteAnswer",value:function(t){this.reviseTopicForm.answer.splice(t,1)}},{key:"resetAnswer",value:function(t,e){t.language="",t.code=""}},{key:"selectAnswerLanguage",value:function(t,e){t.language=e}},{key:"addTemplate",value:function(){this.reviseTopicForm.template.push({language:"",code:""})}},{key:"deleteTemplate",value:function(t){this.reviseTopicForm.template.splice(t,1)}},{key:"resetTemplate",value:function(t,e){t.language="",t.code=""}},{key:"selectTemplateLanguage",value:function(t,e){t.language=e}},{key:"addTag",value:function(){var t=this;this.showNewTagInput=!0,this.$nextTick(function(){t.$refs.saveTagInput.$refs.input.focus()})}},{key:"deleteTag",value:function(t){this.reviseTopicForm.tags.splice(this.reviseTopicForm.tags.indexOf(t),1)}},{key:"handleAddTagConfirm",value:function(){var t=this.newTagValue;t&&this.reviseTopicForm.tags.push(t),this.showNewTagInput=!1,this.newTagValue=""}},{key:"edit",value:function(t,e){var a=this,n={problem_id:e.id};Object(m["d"])(Object(f["fb"])(),n).then(function(t){a.reviseTopicForm=t.data,0===a.reviseTopicForm.answer.length&&a.reviseTopicForm.answer.push({language:"",code:""}),0===a.reviseTopicForm.test_cases.length&&a.reviseTopicForm.test_cases.push({input:"",output:""}),0===a.reviseTopicForm.template.length&&a.reviseTopicForm.template.push({language:"",code:""}),a.showDialog=!0})}}]),e}(d["d"]);u["a"]([Object(d["c"])()],h.prototype,"data",void 0),u["a"]([Object(d["c"])()],h.prototype,"api",void 0),h=u["a"]([Object(d["a"])({components:{editor:p["a"]}})],h);var b=h,v=b,g=(a("6b12"),a("2877")),y=Object(g["a"])(v,n,i,!1,null,"9ef40fd6",null);e["a"]=y.exports},e4f7:function(t,e,a){"use strict";a("96cf");var n=a("3b8d"),i=(a("7f7f"),a("d225")),l=a("b0b4"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=a("8564"),p=a("a1dd"),m=(a("8b25"),function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.prefix="contest-detail-page-menu",t.activeIndex="ContestRankPage",t}return Object(r["a"])(e,t),Object(l["a"])(e,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:"".concat(this.prefix)},[t("div",{class:"".concat(this.prefix,"-select-button")},[t("img",{class:"".concat(this.prefix,"-back-button"),attrs:{src:d["I"],alt:"返回"},on:{click:this.back}}),this.renderItem()]),t("div",{class:"".concat(this.prefix,"-slot")},[this.$slots.default])])}},{key:"renderItem",value:function(){var t=this.$createElement;return t("el-menu",{attrs:{"default-active":this.activeIndex,mode:"horizontal"},on:{select:this.handleSelect}},[t("el-menu-item",{attrs:{index:"ContestRankPage"}},["竞赛排名"]),t("el-menu-item",{attrs:{index:"ContestSubmitStatusPage"}},["提交状态"]),t("el-menu-item",{attrs:{index:"ContestTopicListPage"}},["试题列表"])])}},{key:"created",value:function(){this.activeIndex=this.$route.name}},{key:"handleSelect",value:function(t){this.activeIndex=t,this.$router.push({name:t,query:{type:this.$route.query.type}})}},{key:"back",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["b"])("topicId");case 2:e=t.sent,this.$router.push({name:"AnswerQuestionPageContest",params:{examID:this.$route.params.examID,proID:e}});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(u["d"]));m=c["a"]([u["a"]],m),e["a"]=m},e648:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"schoolDataSet"},[a("page-simple-title",{attrs:{title:"院系配置"}},[a("div",[a("p",{staticClass:"addTest",on:{click:t.addDepartment}},[t._v("添加院系")]),a("p",{staticClass:"addTest",on:{click:t.postFacultyData}},[t._v("保存数据")])])]),a("faculty-setting-table",{attrs:{"faculty-data":t.facultyData},on:{addMajor:t.addMajor,addEducation:t.addEducation,updateDepartment:t.updateDepartment,updateMajor:t.updateMajor,addGrade:t.addGrade,addClass:t.addClass}}),a("el-dialog",{attrs:{title:t.updateDepartmentTitle?"修改院系":"添加院系",visible:t.dialogDepartment,width:"415px"},on:{"update:visible":function(e){t.dialogDepartment=e}}},[a("el-form",{ref:"departmentForm",attrs:{model:t.departmentForm,rules:t.rulesDepartment,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"院系名称:",prop:"value"}},[a("el-input",{staticStyle:{width:"200px",float:"left"},attrs:{size:"small"},model:{value:t.departmentForm.value,callback:function(e){t.$set(t.departmentForm,"value",e)},expression:"departmentForm.value"}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"red",float:"left"}},[t._v("注意：修改后,请点击右上角保存数据！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogDepartment=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.determineCollege("departmentForm")}}},[t._v("确 定")])],1)])],1)],1),a("el-dialog",{attrs:{title:t.updateMajorTitle?"修改专业":"添加专业",visible:t.dialogMajor,width:"415px"},on:{"update:visible":function(e){t.dialogMajor=e}}},[a("el-form",{ref:"majorForm",attrs:{model:t.majorForm,rules:t.rulesMajor,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"专业名称:",prop:"value"}},[a("el-input",{staticStyle:{width:"200px",float:"left"},attrs:{size:"small"},model:{value:t.majorForm.value,callback:function(e){t.$set(t.majorForm,"value",e)},expression:"majorForm.value"}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"red",float:"left"}},[t._v("注意：修改后,请点击右上角保存数据！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogMajor=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.determineMajor("majorForm")}}},[t._v("确 定")])],1)])],1)],1),a("el-dialog",{attrs:{title:"添加专业",visible:t.dialogEducation,width:"415px"},on:{"update:visible":function(e){t.dialogEducation=e}}},[a("el-form",{ref:"EducationForm",attrs:{model:t.EducationForm,rules:t.rulesEducation,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"学历",prop:"value"}},[a("el-radio-group",{model:{value:t.EducationForm.value,callback:function(e){t.$set(t.EducationForm,"value",e)},expression:"EducationForm.value"}},[a("el-radio",{attrs:{label:"本科",name:"value"}}),a("el-radio",{attrs:{label:"专科",name:"value"}}),a("el-radio",{attrs:{label:"专升本",name:"value"}})],1)],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"red",float:"left"}},[t._v("注意：修改后,请点击右上角保存数据！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogEducation=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.determineEducation("EducationForm")}}},[t._v("确 定")])],1)])],1)],1),a("el-dialog",{attrs:{title:"添加年级",visible:t.dialogGrade,width:"415px"},on:{"update:visible":function(e){t.dialogGrade=e}}},[a("el-form",{ref:"GradeForm",attrs:{model:t.GradeForm,rules:t.rulesGrade,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"年级:",prop:"value"}},[a("el-input",{staticStyle:{width:"150px",float:"left"},attrs:{size:"small"},model:{value:t.GradeForm.value,callback:function(e){t.$set(t.GradeForm,"value",e)},expression:"GradeForm.value"}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"red",float:"left"}},[t._v("注意：修改后,请点击右上角保存数据！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogGrade=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.determineGrade("GradeForm")}}},[t._v("确 定")])],1)])],1)],1),a("el-dialog",{attrs:{title:"添加班级",visible:t.dialogClass,width:"415px"},on:{"update:visible":function(e){t.dialogClass=e}}},[a("el-form",{ref:"ClassForm",attrs:{model:t.ClassForm,rules:t.rulesClass,"label-width":"85px"}},[a("el-form-item",{attrs:{label:"班级:",required:"",prop:"value"}},[a("el-input",{staticStyle:{width:"100px",float:"left"},attrs:{type:"number",size:"small"},model:{value:t.ClassForm.value,callback:function(e){t.$set(t.ClassForm,"value",e)},expression:"ClassForm.value"}})],1),a("div",[a("span",{staticStyle:{"font-size":"12px",color:"red",float:"left"}},[t._v("注意：修改后,请点击右上角保存数据！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogClass=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.determineClass("ClassForm")}}},[t._v("确 定")])],1)])],1)],1)],1)},i=[],l=a("d225"),o=a("b0b4"),s=a("308d"),r=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.facultyData,"header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,0.55)"},"cell-style":{padding:"5px 0"},size:"small"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",attrs:{data:e.row.children,"header-cell-style":{background:"#F0F0EF",color:"rgba(0,0,0,0.55)"},"cell-style":{padding:"5px 0"},size:"small"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",attrs:{data:e.row.children,"header-cell-style":{background:"#F0F0EF",color:"rgba(0,0,0,0.55)"},"cell-style":{padding:"5px 0"},size:"small"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",attrs:{data:e.row.children,"header-cell-style":{background:"#F0F0EF",color:"rgba(0,0,0,0.55)"},"cell-style":{padding:"5px 0"},size:"small"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",attrs:{data:e.row.children,"header-cell-style":{background:"#F0F0EF",color:"rgba(0,0,0,0.55)"},"cell-style":{padding:"5px 0"},size:"small"}},[a("el-table-column",{attrs:{prop:"value",label:"年级"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"tagsStyle"},[t._v("\n                                  "+t._s(e.row.value)+"\n                                ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delGrade(e.$index,e.row)}}},[t._v("\n                                  删除\n                                ")])]}}],null,!0)})],1)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"value",label:"班级"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"tagsStyle"},[t._v("\n                            "+t._s(e.row.value)+"\n                          ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.addGrade(e.row)}}},[t._v("\n                            添加年级\n                          ")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delClass(e.$index,e.row)}}},[t._v("\n                            删除\n                          ")])]}}],null,!0)})],1)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"value",label:"学历"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"tagsStyle"},[t._v("\n                      "+t._s(e.row.value)+"\n                    ")])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.addClass(e.row)}}},[t._v("添加班级")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delEducation(e.$index,e.row)}}},[t._v("\n                      删除\n                    ")])]}}],null,!0)})],1)]}}],null,!0)}),a("el-table-column",{attrs:{prop:"value",label:"专业"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.value))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.addEducation(e.row)}}},[t._v("添加学历")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.updateMajor(e.$index,e.row)}}},[t._v("\n                修改\n              ")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delMajor(e.$index,e.row)}}},[t._v("删除")])]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{prop:"value",label:"院系名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.value))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.addMajor(e.row)}}},[t._v("添加专业")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.updateDepartment(e.$index,e.row)}}},[t._v("\n          修改\n        ")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.delDepartment(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},m=[],f=a("3dec"),h={name:"FacultySettingTable",props:{facultyData:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{updateDepartment:function(t,e){this.$emit("updateDepartment",t,e)},delDepartment:function(t,e){var a=this;this.$confirm('此操作将<span style="color:red">'+e.label+"</span>的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){a.facultyData.splice(t,1)}).catch(function(){Object(f["a"])("已取消删除","info",1e3,a)})},addMajor:function(t){this.$emit("addMajor",t)},updateMajor:function(t,e){this.$emit("updateMajor",t,e)},delMajor:function(t,e){var a=this;this.$confirm('此操作将<span style="color:red">'+e.label+"</span>的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){a.facultyData.map(function(a){a.children.indexOf(e)>-1&&a.children.splice(t,1)})}).catch(function(){Object(f["a"])("已取消删除","info",1e3,a)})},addEducation:function(t){this.$emit("addEducation",t)},delEducation:function(t,e){var a=this;this.$confirm('此操作将<span style="color:red">'+e.label+"</span>的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){a.facultyData.map(function(a){a.children.map(function(a){a.children.indexOf(e)>-1&&a.children.splice(t,1)})})}).catch(function(){Object(f["a"])("已取消删除","info",1e3,a)})},addGrade:function(t){this.$emit("addGrade",t)},delGrade:function(t,e){var a=this;this.$confirm('此操作将<span style="color:red">'+e.label+"级</span>的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){a.facultyData.map(function(a){a.children.map(function(a){a.children.map(function(a){a.children.map(function(a){a.children.indexOf(e)>-1&&a.children.splice(t,1)})})})})}).catch(function(){Object(f["a"])("已取消删除","info",1e3,a)})},addClass:function(t){this.$emit("addClass",t)},delClass:function(t,e){var a=this;this.$confirm('此操作将<span style="color:red">'+e.label+"班</span>的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,type:"warning"}).then(function(){a.facultyData.map(function(a){a.children.map(function(a){a.children.map(function(a){a.children.indexOf(e)>-1&&a.children.splice(t,1)})})})}).catch(function(){Object(f["a"])("已取消删除","info",1e3,a)})}}},b=h,v=(a("3c8c"),a("2877")),g=Object(v["a"])(b,p,m,!1,null,"593a4920",null),y=g.exports,_=a("4694"),w=a("c402"),A=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(s["a"])(this,Object(r["a"])(e).apply(this,arguments)),t.dialogDepartment=!1,t.dialogMajor=!1,t.dialogEducation=!1,t.dialogGrade=!1,t.dialogClass=!1,t.updateDepartmentTitle=!1,t.updateMajorTitle=!1,t.departmentData=[],t.majorData=[],t.EducationData=[],t.ClassData=[],t.updateDepartmentIndex=0,t.updateMajorIndex="",t.oldMajor="",t.departmentForm={label:"",value:"",code:""},t.majorForm={label:"",value:"",code:""},t.EducationForm={value:"",label:""},t.GradeForm={value:"",label:""},t.ClassForm={value:"",label:""},t.rulesDepartment={value:[{required:!0,message:"请输入院系名称",trigger:"blur"}]},t.rulesMajor={value:[{required:!0,message:"请输入专业名称",trigger:"blur"}]},t.rulesEducation={value:[{required:!0,message:"请至少选择一个学历层次",trigger:"change"}]},t.rulesGrade={value:[{required:!0,message:"请填写年级",trigger:"change"},{min:4,max:4,message:"请检查年级填写格式！如2015级学生则填写：2015",trigger:"change"}]},t.rulesClass={value:[{required:!0,message:"请填写班级",trigger:"change"},{min:1,max:3,message:"非法输入！",trigger:"change"}]},t.facultyData=[],t.facultyDataShouldSave=!1,t.getFacultyDataSuccess=!1,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"created",value:function(){var t=this;window.onbeforeunload=function(e){if(t.facultyDataShouldSave)return"院系信息未保存"}}},{key:"mounted",value:function(){this.getFacultyData()}},{key:"onDialogDepartmentChange",value:function(t){var e=this;this.updateDepartmentTitle&&setTimeout(function(){e.updateDepartmentTitle=t},200)}},{key:"onDialogMajorChange",value:function(t){var e=this;this.updateMajorTitle&&setTimeout(function(){e.updateMajorTitle=t},200)}},{key:"onFacultyDataChange",value:function(){this.getFacultyDataSuccess&&(this.facultyDataShouldSave=!0)}},{key:"updateDepartment",value:function(t,e){this.updateDepartmentTitle=!0,this.dialogDepartment=!0,this.departmentForm=Object.assign({},e),this.updateDepartmentIndex=t}},{key:"updateMajor",value:function(t,e){this.updateMajorTitle=!0,this.dialogMajor=!0,this.updateMajorIndex=t,this.majorForm=Object.assign({},e),this.oldMajor=Object.assign({},e)}},{key:"addDepartment",value:function(){this.dialogDepartment=!0,this.departmentForm={}}},{key:"determineCollege",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={value:e.departmentForm.value,label:e.departmentForm.value,children:[]};if(e.updateDepartmentTitle){for(var n,i=0;i<e.facultyData.length;i++)if(e.updateDepartmentIndex!==i&&(n=a.value===e.facultyData[i].value,n)){Object(f["a"])("院系名称已经存在","error",1e3,e);break}n||(e.facultyData[e.updateDepartmentIndex].value=a.value,e.facultyData[e.updateDepartmentIndex].label=a.value)}else e.facultyData.some(function(t){var e=t.value;return e===a.value})?Object(f["a"])("院系或院系代码已经存在","error",1e3,e):e.facultyData.push(a);e.dialogDepartment=!1}})}},{key:"addMajor",value:function(t){this.dialogMajor=!0,this.departmentData=t,this.majorForm={}}},{key:"determineMajor",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={value:e.majorForm.value,label:e.majorForm.value,children:[]};if(e.updateMajorTitle){for(var n,i,l=0;l<e.facultyData.length;l++)e.oldMajor.value===e.facultyData[l].children[e.updateMajorIndex].value&&(i=l);for(var o=0;o<e.facultyData[i].children.length;o++)if(e.updateMajorIndex!==o&&(n=a.value===e.facultyData[i].children[o].value,n)){Object(f["a"])("专业或专业代码已经存在","error",1e3,e);break}n||(e.facultyData[i].children[e.updateMajorIndex].value=a.value,e.facultyData[i].children[e.updateMajorIndex].label=a.value)}else e.departmentData.children.some(function(t){var e=t.value;return e===a.value})?Object(f["a"])("专业或专业代码已经存在","error",1e3,e):e.departmentData.children.push(a);e.dialogMajor=!1}})}},{key:"addEducation",value:function(t){this.dialogEducation=!0,this.majorData=t,this.EducationForm={}}},{key:"determineEducation",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={value:e.EducationForm.value,label:e.EducationForm.value,children:[]};e.majorData.children.some(function(t){var e=t.value;return e===a.value})?Object(f["a"])("请不要重复添加学历","error",1e3,e):e.majorData.children.push(a),e.dialogEducation=!1}})}},{key:"addClass",value:function(t){this.dialogClass=!0,this.EducationData=t,this.ClassForm={}}},{key:"determineClass",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={value:e.ClassForm.value,label:e.ClassForm.value+"班",children:[]};e.EducationData.children.some(function(t){var e=t.value;return e===a.value})?Object(f["a"])("请不要重复添加班级","error",1e3,e):e.EducationData.children.push(a),e.dialogClass=!1}})}},{key:"addGrade",value:function(t){this.dialogGrade=!0,this.ClassData=t,this.GradeForm={}}},{key:"determineGrade",value:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={value:e.GradeForm.value,label:e.GradeForm.value+"级"};e.ClassData.children.some(function(t){var e=t.value;return e===a.value})?Object(f["a"])("请不要重复添加年级","error",1e3,e):e.ClassData.children.push(a),e.dialogGrade=!1}})}},{key:"postFacultyData",value:function(){var t=this,e={match_rule:this.facultyData};Object(_["f"])(Object(w["xb"])(),e).then(function(e){"successful"===e.result?(Object(f["a"])("保存成功","success",1e3,t),t.facultyDataShouldSave=!1):Object(f["a"])(e.data,"error",1e3,t)})}},{key:"getFacultyData",value:function(){var t=this;Object(_["d"])(Object(w["xb"])()).then(function(e){"successful"===e.result?(t.facultyData=e.data,setTimeout(function(){t.getFacultyDataSuccess=!0},1e3)):Object(f["a"])(e.data,"error",1e3,t)})}}]),e}(d["d"]);u["a"]([Object(d["e"])("dialogDepartment")],A.prototype,"onDialogDepartmentChange",null),u["a"]([Object(d["e"])("dialogMajor")],A.prototype,"onDialogMajorChange",null),u["a"]([Object(d["e"])("facultyData",{deep:!0})],A.prototype,"onFacultyDataChange",null),A=u["a"]([Object(d["a"])({components:{FacultySettingTable:y}})],A);var k=A,x=k,S=(a("7a18"),Object(v["a"])(x,n,i,!1,null,"2046b7db",null));e["default"]=S.exports},eb5e:function(t,e,a){"use strict";a("456d"),a("ac6a");var n=a("d225"),i=a("b0b4"),l=a("308d"),o=a("6bb5"),s=a("4e2b"),r=a("9ab4"),c=a("60a3"),u=a("c402"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.data,"tooltip-effect":"dark","cell-style":{padding:"0 0"},"header-cell-style":{background:"#F9F9F9",color:"#000000"},"max-height":t.maxHeight}},[a("el-table-column",{attrs:{align:"center",label:"排名",type:"index",index:t.total,width:"70px",fixed:""}}),a("el-table-column",{attrs:{align:"center",label:"学号",width:"110px",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot-rank"},[a("span",[t._v(t._s(e.row.user_id))])])}}])}),a("el-table-column",{attrs:{align:"center",label:"姓名",width:"100px",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot-rank"},[a("span",{staticStyle:{color:"#1B8CD0"}},[t._v(t._s(e.row.real_name))])])}}])}),a("el-table-column",{attrs:{align:"center",label:"正确/提交",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot-rank"},[a("span",{staticStyle:{color:"#1B8CD0",cursor:"pointer"},on:{click:function(a){return t.handleClickAcceptedSubmit(e.row.real_name)}}},[t._v("\n        "+t._s(e.row.accepted_number)+"\n      ")]),t._v("\n      /\n      "),a("span",{staticStyle:{color:"#1B8CD0",cursor:"pointer"},on:{click:function(a){return t.handleClickSubmit(e.row.real_name)}}},[t._v("\n        "+t._s(e.row.submission_number)+"\n      ")])])}}])}),a("el-table-column",{attrs:{align:"center",label:"用时",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot-rank"},[a("span",[t._v(t._s(t.parseTotalTime(e.row.total_time)))])])}}])}),t._l(t.problemsID.length,function(e){return a("el-table-column",{key:e,attrs:{align:"center",label:t.problemsID[e-1].toString(),"min-width":"115px"},scopedSlots:t._u([{key:"default",fn:function(n){return a("div",{staticClass:"table_row",style:t.grade(t.isFirstAc(n.row[t.problemsID[e-1]]),t.errorNumber(n.row[t.problemsID[e-1]]),t.isAc(n.row[t.problemsID[e-1]]))},[a("span",{staticStyle:{color:"#FFFFFF"}},[t._v("\n        "+t._s(t.isFirstAc(n.row[t.problemsID[e-1]])||t.isAc(n.row[t.problemsID[e-1]])?t.acTime(n.row[t.problemsID[e-1]]):null)+"\n        "+t._s(0===t.errorNumber(n.row[t.problemsID[e-1]])?"":"(-"+t.errorNumber(n.row[t.problemsID[e-1]])+")")+"\n      ")])])}}],null,!0)})})],2)},p=[],m=a("4191"),f=a("4694"),h=a("6b17"),b=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.parseTotalTime=m["e"],t.secondFormat=m["f"],t.problemsID=[],t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"isAc",value:function(t){var e=!1;try{e=t["is_ac"]}catch(a){}return e}},{key:"isFirstAc",value:function(t){var e=!1;try{e=t["is_first_ac"]}catch(a){}return e}},{key:"errorNumber",value:function(t){var e=0;try{e=t["error_number"]}catch(a){}return e}},{key:"acTime",value:function(t){var e=0;try{e=Object(m["b"])(t["ac_time"])}catch(a){}return e}},{key:"grade",value:function(t,e,a){if(t)return{background:"#1890FF"};if(a){if(0===e)return{background:"#00CC99"};if(e<=5)return{background:"#00CC99",opacity:.85};if(e<=10)return{background:"#00CC99",opacity:.75};if(e>10)return{background:"#00CC99",opacity:.65}}return 0===e?{background:"#ffffff"}:e<=5?{background:"#F65C44",opacity:.6}:e<=10?{background:"#F65C44",opacity:.8}:e>10?{background:"#F65C44",opacity:.9}:"unknown"}},{key:"created",value:function(){var t=this,e={con_id:this.$route.params.examID};Object(f["d"])(Object(u["P"])(),e).then(function(e){e.result===h["c"]&&(t.problemsID=e.data)})}},{key:"handleClickAcceptedSubmit",value:function(t){var e=this.$route.query,a={name:"ContestSubmitStatusPage",query:{result:"0",keyword:t}};e&&(a.query=Object.assign(a.query,e)),this.$router.push(a)}},{key:"handleClickSubmit",value:function(t){var e=this.$route.query,a={name:"ContestSubmitStatusPage",query:{keyword:t}};e&&(a.query=Object.assign(a.query,e)),this.$router.push(a)}}]),e}(c["d"]);r["a"]([Object(c["c"])()],b.prototype,"data",void 0),r["a"]([Object(c["c"])()],b.prototype,"loading",void 0),r["a"]([Object(c["c"])()],b.prototype,"total",void 0),r["a"]([Object(c["c"])()],b.prototype,"maxHeight",void 0),b=r["a"]([c["a"]],b);var v=b,g=v,y=(a("b689"),a("2877")),_=Object(y["a"])(g,d,p,!1,null,"7cdd3ce2",null),w=_.exports,A=a("e4f7"),k=(a("8b25"),function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(l["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.prefix="contest-rank-page",t.loading=!0,t.api="",t.body={},t.data=[],t.searchNameValue="",t.total=1,t.tableMaxHeight=document.body.clientHeight-207,t}return Object(s["a"])(e,t),Object(i["a"])(e,[{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{class:"".concat(this.prefix)},[this.renderMenu(),e("exam-rank-table",{attrs:{"max-height":this.tableMaxHeight,data:this.data,total:this.total,loading:this.loading}}),e("pagination",{attrs:{value:this.loading,api:this.api,body:this.body,"page-size":100},on:{input:function(e){return t.loading=e},getDate:this.getDate},ref:"$pagination"})])}},{key:"created",value:function(){this.api=Object(u["Q"])(),this.body={contest_id:this.$route.params.examID,real_name:""}}},{key:"mounted",value:function(){var t=this,e=setInterval(function(){t.refreshRank()},25e3);this.$once("hook:beforeDestroy",function(){clearInterval(e)})}},{key:"renderMenu",value:function(){var t=this.$createElement;return t("contest-detail-menu",[this.renderMenuSlot()])}},{key:"renderMenuSlot",value:function(){var t=this,e=this.$createElement;return e("div",{class:"".concat(this.prefix,"-menu-slot")},[e("el-input",{class:"".concat(this.prefix,"-menu-slot-search-name-input"),attrs:{value:this.searchNameValue,placeholder:"请输入姓名",size:"mini",clearable:!0},on:{input:function(e){return t.searchNameValue=e},clear:this.handleSearchNameInputClearEvent,change:this.handleSearchNameInputChangeEvent}},[e("el-button",{slot:"append",attrs:{icon:"el-icon-search"},on:{click:this.handleSearchNameInputChangeEvent}})]),e("el-button",{attrs:{size:"mini",icon:"el-icon-refresh-left",type:"primary"},on:{click:this.refreshRank}},["刷新排名"])])}},{key:"reset",value:function(){this.searchNameValue=""}},{key:"refreshRank",value:function(){this.body.force_refresh?this.$refs.$pagination.forceRefresh():this.$set(this.body,"force_refresh","1")}},{key:"getDate",value:function(t,e,a){t.forEach(function(e,a){var n=e.submission_info;Object.keys(n).forEach(function(e){t[a][e]=n[e]})}),this.data=t,this.total=e*(a-1)+1}},{key:"handleSearchNameInputClearEvent",value:function(){this.body.real_name="",delete this.body.force_refresh}},{key:"handleSearchNameInputChangeEvent",value:function(){this.body.real_name=this.searchNameValue,delete this.body.force_refresh}}]),e}(c["d"]));k=r["a"]([Object(c["a"])({components:{ContestDetailMenu:A["a"],ExamRankTable:w}})],k);e["a"]=k},ee30:function(t,e,a){},f1ae:function(t,e,a){"use strict";var n=a("86cc"),i=a("4630");t.exports=function(t,e,a){e in t?n.f(t,e,i(0,a)):t[e]=a}},f262:function(t,e,a){},f2d3:function(t,e,a){"use strict";var n=a("43f0"),i=a.n(n);i.a},f31b:function(t,e,a){},f382:function(t,e,a){"use strict";var n=a("401a"),i=a.n(n);i.a},f3b4:function(t,e,a){"use strict";var n=a("cdc6"),i=a.n(n);i.a},f534:function(t,e,a){"use strict";a("96cf");var n=a("3b8d"),i=a("d225"),l=a("b0b4"),o=a("308d"),s=a("6bb5"),r=a("4e2b"),c=a("9ab4"),u=a("60a3"),d=a("e4f7"),p=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.activeIndex="ContestRankPage",t}return Object(r["a"])(e,t),Object(l["a"])(e,[{key:"renderItem",value:function(){var t=this.$createElement;return t("el-menu",{attrs:{"default-active":this.activeIndex,mode:"horizontal"},on:{select:this.handleSelect}},[t("el-menu-item",{attrs:{index:"ContestRankPage"}},["竞赛排名"]),t("el-menu-item",{attrs:{index:"ContestSubmitStatusPage"}},["提交状态"]),t("el-menu-item",{attrs:{index:"ContestTopicListPage"}},["试题列表"])])}},{key:"back",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$router.push({name:"ContestListPage"});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(u["b"])(d["a"]));p=c["a"]([u["a"]],p),e["a"]=p},fb69:function(t,e,a){},fcb7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.pageTitle}},[a("el-input",{staticStyle:{width:"300px"},attrs:{slot:"content-right",placeholder:"请输入院系/年级/专业/学历",size:"small",clearable:""},on:{clear:t.delInputValue,change:t.inputBtn},slot:"content-right",model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.inputBtn},slot:"append"})],1)],1),a("class-list-table",{attrs:{loading:t.loading,"table-data":t.tableData}}),a("pagination",{attrs:{api:t.api,body:t.body},on:{getDate:t.getDate},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}})],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"classManagement"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"classManagementListData",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":"","tooltip-effect":"dark",size:"small","header-cell-style":{background:"#F2F2F2",color:"rgba(0,0,0,.85)",fontWeight:"normal"}}},[a("el-table-column",{attrs:{prop:"id",label:"班级编号",align:"center",width:"80px","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-slot"},[a("router-link",{staticStyle:{"text-align":"center",color:"#1B8CD0",cursor:"pointer"},attrs:{to:{name:"ClassContestListPage",params:{gradeID:e.row.id},query:{level:e.row.level,major:e.row.major}}}},[t._v("\n          "+t._s(e.row.id)+"\n        ")])],1)}}])}),a("el-table-column",{attrs:{prop:"department",label:"院系","min-width":"150px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"edu_level",label:"学历","min-width":"30px"}}),a("el-table-column",{attrs:{label:"年级","min-width":"45px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.level)+"级")])])}}])}),a("el-table-column",{attrs:{prop:"major",label:"专业","min-width":"100px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"班级","min-width":"25px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.class_id)+"班")])])}}])}),a("el-table-column",{attrs:{label:"学生人数","min-width":"40",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",[t._v(t._s(e.row.stu_number)+"人")])])}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("router-link",{staticStyle:{color:"#1B8CD0",flex:"1","text-align":"left",cursor:"pointer"},attrs:{to:{name:"ClassContestListPage",params:{gradeID:e.row.id},query:{level:e.row.level,major:e.row.major}}}},[t._v("\n          查看详情\n        ")])],1)}}])})],1)],1)},o=[],s=a("d225"),r=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),m=function(t){function e(){return Object(s["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),e}(p["d"]);d["a"]([Object(p["c"])()],m.prototype,"tableData",void 0),d["a"]([Object(p["c"])()],m.prototype,"loading",void 0),m=d["a"]([p["a"]],m);var f=m,h=f,b=a("2877"),v=Object(b["a"])(h,l,o,!1,null,"cd762788",null),g=v.exports,y=a("325f"),_=a("c402"),w=a("4191"),A={components:{"class-list-table":g,pagination:y["a"]},data:function(){return{pageTitle:"班级管理",loading:!0,getTimeGMT:w["d"],tableData:[],inputValue:"",props:{value:"value",children:"cities"},formLabelWidth:"90px"}},created:function(){this.api=Object(_["u"])(),this.body={}},methods:{getDate:function(t){var e=arguments.length<=4?void 0:arguments[4];t.map(function(t){for(var a in Object.assign(t,{stu_number:0}),e)String(t.id)===a&&Object.assign(t,{stu_number:e[a]})}),this.tableData=t},inputBtn:function(){this.$set(this.body,"keyword",this.inputValue)},delInputValue:function(){this.$set(this.body,"keyword",null),delete this.body.keyword}}},k=A,x=Object(b["a"])(k,n,i,!1,null,"003ce8da",null);e["default"]=x.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);